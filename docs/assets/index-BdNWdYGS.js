(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var x_={exports:{}},hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE=Symbol.for("react.transitional.element"),CE=Symbol.for("react.fragment");function R_(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:TE,type:t,key:i,ref:e!==void 0?e:null,props:n}}hu.Fragment=CE;hu.jsx=R_;hu.jsxs=R_;x_.exports=hu;var S=x_.exports,M_={exports:{}},F={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=Symbol.for("react.transitional.element"),wE=Symbol.for("react.portal"),AE=Symbol.for("react.fragment"),NE=Symbol.for("react.strict_mode"),xE=Symbol.for("react.profiler"),RE=Symbol.for("react.consumer"),ME=Symbol.for("react.context"),OE=Symbol.for("react.forward_ref"),DE=Symbol.for("react.suspense"),IE=Symbol.for("react.memo"),O_=Symbol.for("react.lazy"),kE=Symbol.for("react.activity"),Lm=Symbol.iterator;function LE(t){return t===null||typeof t!="object"?null:(t=Lm&&t[Lm]||t["@@iterator"],typeof t=="function"?t:null)}var D_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I_=Object.assign,k_={};function _a(t,e,n){this.props=t,this.context=e,this.refs=k_,this.updater=n||D_}_a.prototype.isReactComponent={};_a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function L_(){}L_.prototype=_a.prototype;function bh(t,e,n){this.props=t,this.context=e,this.refs=k_,this.updater=n||D_}var Sh=bh.prototype=new L_;Sh.constructor=bh;I_(Sh,_a.prototype);Sh.isPureReactComponent=!0;var Um=Array.isArray;function Xc(){}var Ee={H:null,A:null,T:null,S:null},U_=Object.prototype.hasOwnProperty;function Eh(t,e,n){var i=n.ref;return{$$typeof:vh,type:t,key:e,ref:i!==void 0?i:null,props:n}}function UE(t,e){return Eh(t.type,e,t.props)}function Th(t){return typeof t=="object"&&t!==null&&t.$$typeof===vh}function zE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zm=/\/+/g;function Wu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zE(""+t.key):e.toString(36)}function BE(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Xc,Xc):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Cs(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case vh:case wE:r=!0;break;case O_:return r=t._init,Cs(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+Wu(t,0):i,Um(s)?(n="",r!=null&&(n=r.replace(zm,"$&/")+"/"),Cs(s,e,n,"",function(u){return u})):s!=null&&(Th(s)&&(s=UE(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(zm,"$&/")+"/")+r)),e.push(s)),1;r=0;var l=i===""?".":i+":";if(Um(t))for(var o=0;o<t.length;o++)i=t[o],a=l+Wu(i,o),r+=Cs(i,e,n,a,s);else if(o=LE(t),typeof o=="function")for(t=o.call(t),o=0;!(i=t.next()).done;)i=i.value,a=l+Wu(i,o++),r+=Cs(i,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return Cs(BE(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function gl(t,e,n){if(t==null)return t;var i=[],s=0;return Cs(t,i,"","",function(a){return e.call(n,a,s++)}),i}function HE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bm=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jE={map:gl,forEach:function(t,e,n){gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gl(t,function(){e++}),e},toArray:function(t){return gl(t,function(e){return e})||[]},only:function(t){if(!Th(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Activity=kE;F.Children=jE;F.Component=_a;F.Fragment=AE;F.Profiler=xE;F.PureComponent=bh;F.StrictMode=NE;F.Suspense=DE;F.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ee;F.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ee.H.useMemoCache(t)}};F.cache=function(t){return function(){return t.apply(null,arguments)}};F.cacheSignal=function(){return null};F.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=I_({},t.props),s=t.key;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)!U_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var r=Array(a),l=0;l<a;l++)r[l]=arguments[l+2];i.children=r}return Eh(t.type,s,i)};F.createContext=function(t){return t={$$typeof:ME,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:RE,_context:t},t};F.createElement=function(t,e,n){var i,s={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)U_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return Eh(t,a,s)};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:OE,render:t}};F.isValidElement=Th;F.lazy=function(t){return{$$typeof:O_,_payload:{_status:-1,_result:t},_init:HE}};F.memo=function(t,e){return{$$typeof:IE,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=Ee.T,n={};Ee.T=n;try{var i=t(),s=Ee.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Xc,Bm)}catch(a){Bm(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ee.T=e}};F.unstable_useCacheRefresh=function(){return Ee.H.useCacheRefresh()};F.use=function(t){return Ee.H.use(t)};F.useActionState=function(t,e,n){return Ee.H.useActionState(t,e,n)};F.useCallback=function(t,e){return Ee.H.useCallback(t,e)};F.useContext=function(t){return Ee.H.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t,e){return Ee.H.useDeferredValue(t,e)};F.useEffect=function(t,e){return Ee.H.useEffect(t,e)};F.useEffectEvent=function(t){return Ee.H.useEffectEvent(t)};F.useId=function(){return Ee.H.useId()};F.useImperativeHandle=function(t,e,n){return Ee.H.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return Ee.H.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return Ee.H.useLayoutEffect(t,e)};F.useMemo=function(t,e){return Ee.H.useMemo(t,e)};F.useOptimistic=function(t,e){return Ee.H.useOptimistic(t,e)};F.useReducer=function(t,e,n){return Ee.H.useReducer(t,e,n)};F.useRef=function(t){return Ee.H.useRef(t)};F.useState=function(t){return Ee.H.useState(t)};F.useSyncExternalStore=function(t,e,n){return Ee.H.useSyncExternalStore(t,e,n)};F.useTransition=function(){return Ee.H.useTransition()};F.version="19.2.1";M_.exports=F;var v=M_.exports,z_={exports:{}},du={},B_={exports:{}},H_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,Q){var q=k.length;k.push(Q);e:for(;0<q;){var I=q-1>>>1,b=k[I];if(0<s(b,Q))k[I]=Q,k[q]=b,q=I;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var Q=k[0],q=k.pop();if(q!==Q){k[0]=q;e:for(var I=0,b=k.length,y=b>>>1;I<y;){var L=2*(I+1)-1,z=k[L],j=L+1,G=k[j];if(0>s(z,q))j<b&&0>s(G,z)?(k[I]=G,k[j]=q,I=j):(k[I]=z,k[L]=q,I=L);else if(j<b&&0>s(G,q))k[I]=G,k[j]=q,I=j;else break e}}return Q}function s(k,Q){var q=k.sortIndex-Q.sortIndex;return q!==0?q:k.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();t.unstable_now=function(){return r.now()-l}}var o=[],u=[],h=1,f=null,c=3,m=!1,_=!1,T=!1,C=!1,p=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function E(k){for(var Q=n(u);Q!==null;){if(Q.callback===null)i(u);else if(Q.startTime<=k)i(u),Q.sortIndex=Q.expirationTime,e(o,Q);else break;Q=n(u)}}function w(k){if(T=!1,E(k),!_)if(n(o)!==null)_=!0,M||(M=!0,ue());else{var Q=n(u);Q!==null&&bt(w,Q.startTime-k)}}var M=!1,N=-1,A=5,R=-1;function D(){return C?!0:!(t.unstable_now()-R<A)}function U(){if(C=!1,M){var k=t.unstable_now();R=k;var Q=!0;try{e:{_=!1,T&&(T=!1,d(N),N=-1),m=!0;var q=c;try{t:{for(E(k),f=n(o);f!==null&&!(f.expirationTime>k&&D());){var I=f.callback;if(typeof I=="function"){f.callback=null,c=f.priorityLevel;var b=I(f.expirationTime<=k);if(k=t.unstable_now(),typeof b=="function"){f.callback=b,E(k),Q=!0;break t}f===n(o)&&i(o),E(k)}else i(o);f=n(o)}if(f!==null)Q=!0;else{var y=n(u);y!==null&&bt(w,y.startTime-k),Q=!1}}break e}finally{f=null,c=q,m=!1}Q=void 0}}finally{Q?ue():M=!1}}}var ue;if(typeof g=="function")ue=function(){g(U)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Dt=vt.port2;vt.port1.onmessage=U,ue=function(){Dt.postMessage(null)}}else ue=function(){p(U,0)};function bt(k,Q){N=p(function(){k(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_next=function(k){switch(c){case 1:case 2:case 3:var Q=3;break;default:Q=c}var q=c;c=Q;try{return k()}finally{c=q}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(k,Q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var q=c;c=k;try{return Q()}finally{c=q}},t.unstable_scheduleCallback=function(k,Q,q){var I=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?I+q:I):q=I,k){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=q+b,k={id:h++,callback:Q,priorityLevel:k,startTime:q,expirationTime:b,sortIndex:-1},q>I?(k.sortIndex=q,e(u,k),n(o)===null&&k===n(u)&&(T?(d(N),N=-1):T=!0,bt(w,q-I))):(k.sortIndex=b,e(o,k),_||m||(_=!0,M||(M=!0,ue()))),k},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(k){var Q=c;return function(){var q=c;c=Q;try{return k.apply(this,arguments)}finally{c=q}}}})(H_);B_.exports=H_;var PE=B_.exports,j_={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE=v;function P_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qn(){}var it={d:{f:Qn,r:function(){throw Error(P_(522))},D:Qn,C:Qn,L:Qn,m:Qn,X:Qn,S:Qn,M:Qn},p:0,findDOMNode:null},qE=Symbol.for("react.portal");function GE(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qE,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var $a=VE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function mu(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it;rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(P_(299));return GE(t,e,null,n)};rt.flushSync=function(t){var e=$a.T,n=it.p;try{if($a.T=null,it.p=2,t)return t()}finally{$a.T=e,it.p=n,it.d.f()}};rt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,it.d.C(t,e))};rt.prefetchDNS=function(t){typeof t=="string"&&it.d.D(t)};rt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=mu(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?it.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&it.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};rt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=mu(e.as,e.crossOrigin);it.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&it.d.M(t)};rt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=mu(n,e.crossOrigin);it.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};rt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=mu(e.as,e.crossOrigin);it.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else it.d.m(t)};rt.requestFormReset=function(t){it.d.r(t)};rt.unstable_batchedUpdates=function(t,e){return t(e)};rt.useFormState=function(t,e,n){return $a.H.useFormState(t,e,n)};rt.useFormStatus=function(){return $a.H.useHostTransitionStatus()};rt.version="19.2.1";function V_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V_)}catch(t){console.error(t)}}V_(),j_.exports=rt;var FE=j_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var je=PE,q_=v,YE=FE;function x(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function G_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function F_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y_(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hm(t){if(Fr(t)!==t)throw Error(x(188))}function QE(t){var e=t.alternate;if(!e){if(e=Fr(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Hm(s),t;if(a===i)return Hm(s),e;a=a.sibling}throw Error(x(188))}if(n.return!==i.return)n=s,i=a;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,i=a;break}if(l===i){r=!0,i=s,n=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===n){r=!0,n=a,i=s;break}if(l===i){r=!0,i=a,n=s;break}l=l.sibling}if(!r)throw Error(x(189))}}if(n.alternate!==i)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function Q_(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Q_(t),e!==null)return e;t=t.sibling}return null}var Te=Object.assign,KE=Symbol.for("react.element"),_l=Symbol.for("react.transitional.element"),Ya=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),K_=Symbol.for("react.strict_mode"),Wc=Symbol.for("react.profiler"),X_=Symbol.for("react.consumer"),Cn=Symbol.for("react.context"),Ch=Symbol.for("react.forward_ref"),$c=Symbol.for("react.suspense"),Zc=Symbol.for("react.suspense_list"),wh=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),Jc=Symbol.for("react.activity"),XE=Symbol.for("react.memo_cache_sentinel"),jm=Symbol.iterator;function ka(t){return t===null||typeof t!="object"?null:(t=jm&&t[jm]||t["@@iterator"],typeof t=="function"?t:null)}var WE=Symbol.for("react.client.reference");function ef(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===WE?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ns:return"Fragment";case Wc:return"Profiler";case K_:return"StrictMode";case $c:return"Suspense";case Zc:return"SuspenseList";case Jc:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ya:return"Portal";case Cn:return t.displayName||"Context";case X_:return(t._context.displayName||"Context")+".Consumer";case Ch:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wh:return e=t.displayName||null,e!==null?e:ef(t.type)||"Memo";case Xn:e=t._payload,t=t._init;try{return ef(t(e))}catch{}}return null}var Qa=Array.isArray,H=q_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=YE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ki={pending:!1,data:null,method:null,action:null},tf=[],xs=-1;function hn(t){return{current:t}}function Ye(t){0>xs||(t.current=tf[xs],tf[xs]=null,xs--)}function ye(t,e){xs++,tf[xs]=t.current,t.current=e}var on=hn(null),yr=hn(null),ui=hn(null),oo=hn(null);function uo(t,e){switch(ye(ui,e),ye(yr,t),ye(on,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Yp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Yp(e),t=p0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ye(on),ye(on,t)}function Js(){Ye(on),Ye(yr),Ye(ui)}function nf(t){t.memoizedState!==null&&ye(oo,t);var e=on.current,n=p0(e,t.type);e!==n&&(ye(yr,t),ye(on,n))}function co(t){yr.current===t&&(Ye(on),Ye(yr)),oo.current===t&&(Ye(oo),Rr._currentValue=Ki)}var $u,Pm;function zi(t){if($u===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$u=e&&e[1]||"",Pm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$u+t+Pm}var Zu=!1;function Ju(t,e){if(!t||Zu)return"";Zu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var c=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){c=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){c=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&c&&typeof m.stack=="string")return[m.stack,c.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var o=r.split(`
`),u=l.split(`
`);for(s=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(i===o.length||s===u.length)for(i=o.length-1,s=u.length-1;1<=i&&0<=s&&o[i]!==u[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==u[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==u[s]){var h=`
`+o[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=i&&0<=s);break}}}finally{Zu=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?zi(n):""}function $E(t,e){switch(t.tag){case 26:case 27:case 5:return zi(t.type);case 16:return zi("Lazy");case 13:return t.child!==e&&e!==null?zi("Suspense Fallback"):zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Ju(t.type,!1);case 11:return Ju(t.type.render,!1);case 1:return Ju(t.type,!0);case 31:return zi("Activity");default:return""}}function Vm(t){try{var e="",n=null;do e+=$E(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var sf=Object.prototype.hasOwnProperty,Ah=je.unstable_scheduleCallback,ec=je.unstable_cancelCallback,ZE=je.unstable_shouldYield,JE=je.unstable_requestPaint,wt=je.unstable_now,e1=je.unstable_getCurrentPriorityLevel,W_=je.unstable_ImmediatePriority,$_=je.unstable_UserBlockingPriority,fo=je.unstable_NormalPriority,t1=je.unstable_LowPriority,Z_=je.unstable_IdlePriority,n1=je.log,i1=je.unstable_setDisableYieldValue,Yr=null,At=null;function si(t){if(typeof n1=="function"&&i1(t),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Yr,t)}catch{}}var Nt=Math.clz32?Math.clz32:r1,s1=Math.log,a1=Math.LN2;function r1(t){return t>>>=0,t===0?32:31-(s1(t)/a1|0)|0}var yl=256,vl=262144,bl=4194304;function Bi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pu(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,a=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~a,i!==0?s=Bi(i):(r&=l,r!==0?s=Bi(r):n||(n=l&~t,n!==0&&(s=Bi(n))))):(l=i&~a,l!==0?s=Bi(l):r!==0?s=Bi(r):n||(n=i&~t,n!==0&&(s=Bi(n)))),s===0?0:e!==0&&e!==s&&!(e&a)&&(a=s&-s,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:s}function Qr(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function l1(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J_(){var t=bl;return bl<<=1,!(bl&62914560)&&(bl=4194304),t}function tc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kr(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function o1(t,e,n,i,s,a){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,o=t.expirationTimes,u=t.hiddenUpdates;for(n=r&~n;0<n;){var h=31-Nt(n),f=1<<h;l[h]=0,o[h]=-1;var c=u[h];if(c!==null)for(u[h]=null,h=0;h<c.length;h++){var m=c[h];m!==null&&(m.lane&=-536870913)}n&=~f}i!==0&&ey(t,i,0),a!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=a&~(r&~e))}function ey(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Nt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function ty(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Nt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function ny(t,e){var n=e&-e;return n=n&42?1:Nh(n),n&(t.suspendedLanes|e)?0:n}function Nh(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xh(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function iy(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:A0(t.type))}function qm(t,e){var n=re.p;try{return re.p=t,e()}finally{re.p=n}}var Mi=Math.random().toString(36).slice(2),We="__reactFiber$"+Mi,gt="__reactProps$"+Mi,ya="__reactContainer$"+Mi,af="__reactEvents$"+Mi,u1="__reactListeners$"+Mi,c1="__reactHandles$"+Mi,Gm="__reactResources$"+Mi,Xr="__reactMarker$"+Mi;function Rh(t){delete t[We],delete t[gt],delete t[af],delete t[u1],delete t[c1]}function Rs(t){var e=t[We];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ya]||n[We]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$p(t);t!==null;){if(n=t[We])return n;t=$p(t)}return e}t=n,n=t.parentNode}return null}function va(t){if(t=t[We]||t[ya]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Ka(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(x(33))}function js(t){var e=t[Gm];return e||(e=t[Gm]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ge(t){t[Xr]=!0}var sy=new Set,ay={};function hs(t,e){ea(t,e),ea(t+"Capture",e)}function ea(t,e){for(ay[t]=e,t=0;t<e.length;t++)sy.add(e[t])}var f1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fm={},Ym={};function h1(t){return sf.call(Ym,t)?!0:sf.call(Fm,t)?!1:f1.test(t)?Ym[t]=!0:(Fm[t]=!0,!1)}function Hl(t,e,n){if(h1(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Sl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function gn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ry(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d1(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rf(t){if(!t._valueTracker){var e=ry(t)?"checked":"value";t._valueTracker=d1(t,e,""+t[e])}}function ly(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ry(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ho(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var m1=/[\n"\\]/g;function zt(t){return t.replace(m1,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function lf(t,e,n,i,s,a,r,l){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+kt(e)):t.value!==""+kt(e)&&(t.value=""+kt(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?of(t,r,kt(e)):n!=null?of(t,r,kt(n)):i!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+kt(l):t.removeAttribute("name")}function oy(t,e,n,i,s,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){rf(t);return}n=n!=null?""+kt(n):"",e=e!=null?""+kt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),rf(t)}function of(t,e,n){e==="number"&&ho(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ps(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+kt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function uy(t,e,n){if(e!=null&&(e=""+kt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+kt(n):""}function cy(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(x(92));if(Qa(i)){if(1<i.length)throw Error(x(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=kt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),rf(t)}function ta(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var p1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qm(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||p1.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function fy(t,e,n){if(e!=null&&typeof e!="object")throw Error(x(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Qm(t,s,i)}else for(var a in e)e.hasOwnProperty(a)&&Qm(t,a,e[a])}function Mh(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jl(t){return _1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function wn(){}var uf=null;function Oh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Vs=null;function Km(t){var e=va(t);if(e&&(t=e.stateNode)){var n=t[gt]||null;e:switch(t=e.stateNode,e.type){case"input":if(lf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+zt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[gt]||null;if(!s)throw Error(x(90));lf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&ly(i)}break e;case"textarea":uy(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ps(t,!!n.multiple,e,!1)}}}var nc=!1;function hy(t,e,n){if(nc)return t(e,n);nc=!0;try{var i=t(e);return i}finally{if(nc=!1,(Ms!==null||Vs!==null)&&(Nu(),Ms&&(e=Ms,t=Vs,Vs=Ms=null,Km(e),t)))for(e=0;e<t.length;e++)Km(t[e])}}function vr(t,e){var n=t.stateNode;if(n===null)return null;var i=n[gt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=!1;if(Ln)try{var La={};Object.defineProperty(La,"passive",{get:function(){cf=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{cf=!1}var ai=null,Dh=null,Pl=null;function dy(){if(Pl)return Pl;var t,e=Dh,n=e.length,i,s="value"in ai?ai.value:ai.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[a-i];i++);return Pl=s.slice(t,1<i?1-i:void 0)}function Vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function El(){return!0}function Xm(){return!1}function yt(t){function e(n,i,s,a,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?El:Xm,this.isPropagationStopped=Xm,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),e}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gu=yt(ds),Wr=Te({},ds,{view:0,detail:0}),y1=yt(Wr),ic,sc,Ua,_u=Te({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ih,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ua&&(Ua&&t.type==="mousemove"?(ic=t.screenX-Ua.screenX,sc=t.screenY-Ua.screenY):sc=ic=0,Ua=t),ic)},movementY:function(t){return"movementY"in t?t.movementY:sc}}),Wm=yt(_u),v1=Te({},_u,{dataTransfer:0}),b1=yt(v1),S1=Te({},Wr,{relatedTarget:0}),ac=yt(S1),E1=Te({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),T1=yt(E1),C1=Te({},ds,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w1=yt(C1),A1=Te({},ds,{data:0}),$m=yt(A1),N1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R1[t])?!!e[t]:!1}function Ih(){return M1}var O1=Te({},Wr,{key:function(t){if(t.key){var e=N1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?x1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ih,charCode:function(t){return t.type==="keypress"?Vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D1=yt(O1),I1=Te({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zm=yt(I1),k1=Te({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ih}),L1=yt(k1),U1=Te({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=yt(U1),B1=Te({},_u,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H1=yt(B1),j1=Te({},ds,{newState:0,oldState:0}),P1=yt(j1),V1=[9,13,27,32],kh=Ln&&"CompositionEvent"in window,Za=null;Ln&&"documentMode"in document&&(Za=document.documentMode);var q1=Ln&&"TextEvent"in window&&!Za,my=Ln&&(!kh||Za&&8<Za&&11>=Za),Jm=" ",ep=!1;function py(t,e){switch(t){case"keyup":return V1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function G1(t,e){switch(t){case"compositionend":return gy(e);case"keypress":return e.which!==32?null:(ep=!0,Jm);case"textInput":return t=e.data,t===Jm&&ep?null:t;default:return null}}function F1(t,e){if(Os)return t==="compositionend"||!kh&&py(t,e)?(t=dy(),Pl=Dh=ai=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return my&&e.locale!=="ko"?null:e.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y1[t.type]:e==="textarea"}function _y(t,e,n,i){Ms?Vs?Vs.push(i):Vs=[i]:Ms=i,e=Oo(e,"onChange"),0<e.length&&(n=new gu("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ja=null,br=null;function Q1(t){h0(t,0)}function yu(t){var e=Ka(t);if(ly(e))return t}function np(t,e){if(t==="change")return e}var yy=!1;if(Ln){var rc;if(Ln){var lc="oninput"in document;if(!lc){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),lc=typeof ip.oninput=="function"}rc=lc}else rc=!1;yy=rc&&(!document.documentMode||9<document.documentMode)}function sp(){Ja&&(Ja.detachEvent("onpropertychange",vy),br=Ja=null)}function vy(t){if(t.propertyName==="value"&&yu(br)){var e=[];_y(e,br,t,Oh(t)),hy(Q1,e)}}function K1(t,e,n){t==="focusin"?(sp(),Ja=e,br=n,Ja.attachEvent("onpropertychange",vy)):t==="focusout"&&sp()}function X1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(br)}function W1(t,e){if(t==="click")return yu(e)}function $1(t,e){if(t==="input"||t==="change")return yu(e)}function Z1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rt=typeof Object.is=="function"?Object.is:Z1;function Sr(t,e){if(Rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!sf.call(e,s)||!Rt(t[s],e[s]))return!1}return!0}function ap(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rp(t,e){var n=ap(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ap(n)}}function by(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?by(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ho(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ho(t.document)}return e}function Lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var J1=Ln&&"documentMode"in document&&11>=document.documentMode,Ds=null,ff=null,er=null,hf=!1;function lp(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hf||Ds==null||Ds!==ho(i)||(i=Ds,"selectionStart"in i&&Lh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),er&&Sr(er,i)||(er=i,i=Oo(ff,"onSelect"),0<i.length&&(e=new gu("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ds)))}function Li(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Is={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},oc={},Ey={};Ln&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function ms(t){if(oc[t])return oc[t];if(!Is[t])return t;var e=Is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ey)return oc[t]=e[n];return t}var Ty=ms("animationend"),Cy=ms("animationiteration"),wy=ms("animationstart"),eT=ms("transitionrun"),tT=ms("transitionstart"),nT=ms("transitioncancel"),Ay=ms("transitionend"),Ny=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function tn(t,e){Ny.set(t,e),hs(e,[t])}var mo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},It=[],ks=0,Uh=0;function vu(){for(var t=ks,e=Uh=ks=0;e<t;){var n=It[e];It[e++]=null;var i=It[e];It[e++]=null;var s=It[e];It[e++]=null;var a=It[e];if(It[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&xy(n,s,a)}}function bu(t,e,n,i){It[ks++]=t,It[ks++]=e,It[ks++]=n,It[ks++]=i,Uh|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function zh(t,e,n,i){return bu(t,e,n,i),po(t)}function ps(t,e){return bu(t,null,null,e),po(t)}function xy(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,s&&e!==null&&(s=31-Nt(n),t=a.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),a):null}function po(t){if(50<ur)throw ur=0,kf=null,Error(x(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ls={};function iT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(t,e,n,i){return new iT(t,e,n,i)}function Bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mn(t,e){var n=t.alternate;return n===null?(n=Tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Ry(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ql(t,e,n,i,s,a){var r=0;if(i=t,typeof t=="function")Bh(t)&&(r=1);else if(typeof t=="string")r=oC(t,n,on.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Jc:return t=Tt(31,n,e,s),t.elementType=Jc,t.lanes=a,t;case Ns:return Xi(n.children,s,a,e);case K_:r=8,s|=24;break;case Wc:return t=Tt(12,n,e,s|2),t.elementType=Wc,t.lanes=a,t;case $c:return t=Tt(13,n,e,s),t.elementType=$c,t.lanes=a,t;case Zc:return t=Tt(19,n,e,s),t.elementType=Zc,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cn:r=10;break e;case X_:r=9;break e;case Ch:r=11;break e;case wh:r=14;break e;case Xn:r=16,i=null;break e}r=29,n=Error(x(130,t===null?"null":typeof t,"")),i=null}return e=Tt(r,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function Xi(t,e,n,i){return t=Tt(7,t,i,e),t.lanes=n,t}function uc(t,e,n){return t=Tt(6,t,null,e),t.lanes=n,t}function My(t){var e=Tt(18,null,null,0);return e.stateNode=t,e}function cc(t,e,n){return e=Tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var op=new WeakMap;function Bt(t,e){if(typeof t=="object"&&t!==null){var n=op.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Vm(e)},op.set(t,e),e)}return{value:t,source:e,stack:Vm(e)}}var Us=[],zs=0,go=null,Er=0,Lt=[],Ut=0,Ti=null,an=1,rn="";function Sn(t,e){Us[zs++]=Er,Us[zs++]=go,go=t,Er=e}function Oy(t,e,n){Lt[Ut++]=an,Lt[Ut++]=rn,Lt[Ut++]=Ti,Ti=t;var i=an;t=rn;var s=32-Nt(i)-1;i&=~(1<<s),n+=1;var a=32-Nt(e)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,an=1<<32-Nt(e)+s|n<<s|i,rn=a+t}else an=1<<a|n<<s|i,rn=t}function Hh(t){t.return!==null&&(Sn(t,1),Oy(t,1,0))}function jh(t){for(;t===go;)go=Us[--zs],Us[zs]=null,Er=Us[--zs],Us[zs]=null;for(;t===Ti;)Ti=Lt[--Ut],Lt[Ut]=null,rn=Lt[--Ut],Lt[Ut]=null,an=Lt[--Ut],Lt[Ut]=null}function Dy(t,e){Lt[Ut++]=an,Lt[Ut++]=rn,Lt[Ut++]=Ti,an=e.id,rn=e.overflow,Ti=t}var $e=null,Se=null,ne=!1,ci=null,Ht=!1,mf=Error(x(519));function Ci(t){var e=Error(x(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tr(Bt(e,t)),mf}function up(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[We]=t,e[gt]=i,n){case"dialog":X("cancel",e),X("close",e);break;case"iframe":case"object":case"embed":X("load",e);break;case"video":case"audio":for(n=0;n<Nr.length;n++)X(Nr[n],e);break;case"source":X("error",e);break;case"img":case"image":case"link":X("error",e),X("load",e);break;case"details":X("toggle",e);break;case"input":X("invalid",e),oy(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":X("invalid",e);break;case"textarea":X("invalid",e),cy(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||m0(e.textContent,n)?(i.popover!=null&&(X("beforetoggle",e),X("toggle",e)),i.onScroll!=null&&X("scroll",e),i.onScrollEnd!=null&&X("scrollend",e),i.onClick!=null&&(e.onclick=wn),e=!0):e=!1,e||Ci(t,!0)}function cp(t){for($e=t.return;$e;)switch($e.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:$e=$e.return}}function Ss(t){if(t!==$e)return!1;if(!ne)return cp(t),ne=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Hf(t.type,t.memoizedProps)),n=!n),n&&Se&&Ci(t),cp(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));Se=Wp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));Se=Wp(t)}else e===27?(e=Se,Oi(t.type)?(t=qf,qf=null,Se=t):Se=e):Se=$e?Vt(t.stateNode.nextSibling):null;return!0}function ts(){Se=$e=null,ne=!1}function fc(){var t=ci;return t!==null&&(ht===null?ht=t:ht.push.apply(ht,t),ci=null),t}function Tr(t){ci===null?ci=[t]:ci.push(t)}var pf=hn(null),gs=null,An=null;function $n(t,e,n){ye(pf,e._currentValue),e._currentValue=n}function On(t){t._currentValue=pf.current,Ye(pf)}function gf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function _f(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=s;for(var o=0;o<e.length;o++)if(l.context===e[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),gf(a.return,n,t),i||(r=null);break e}a=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(x(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),gf(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function ba(t,e,n,i){t=null;for(var s=e,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(x(387));if(r=r.memoizedProps,r!==null){var l=s.type;Rt(s.pendingProps.value,r.value)||(t!==null?t.push(l):t=[l])}}else if(s===oo.current){if(r=s.alternate,r===null)throw Error(x(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Rr):t=[Rr])}s=s.return}t!==null&&_f(e,t,n,i),e.flags|=262144}function _o(t){for(t=t.firstContext;t!==null;){if(!Rt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ns(t){gs=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ze(t){return Iy(gs,t)}function Tl(t,e){return gs===null&&ns(t),Iy(t,e)}function Iy(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},An===null){if(t===null)throw Error(x(308));An=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else An=An.next=e;return n}var sT=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},aT=je.unstable_scheduleCallback,rT=je.unstable_NormalPriority,Ue={$$typeof:Cn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new sT,data:new Map,refCount:0}}function $r(t){t.refCount--,t.refCount===0&&aT(rT,function(){t.controller.abort()})}var tr=null,yf=0,na=0,qs=null;function lT(t,e){if(tr===null){var n=tr=[];yf=0,na=hd(),qs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return yf++,e.then(fp,fp),e}function fp(){if(--yf===0&&tr!==null){qs!==null&&(qs.status="fulfilled");var t=tr;tr=null,na=0,qs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function oT(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var hp=H.S;H.S=function(t,e){Qv=wt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&lT(t,e),hp!==null&&hp(t,e)};var Wi=hn(null);function Vh(){var t=Wi.current;return t!==null?t:me.pooledCache}function Gl(t,e){e===null?ye(Wi,Wi.current):ye(Wi,e.pool)}function ky(){var t=Vh();return t===null?null:{parent:Ue._currentValue,pool:t}}var Sa=Error(x(460)),qh=Error(x(474)),Su=Error(x(542)),yo={then:function(){}};function dp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ly(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(wn,wn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,pp(t),t;default:if(typeof e.status=="string")e.then(wn,wn);else{if(t=me,t!==null&&100<t.shellSuspendCounter)throw Error(x(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,pp(t),t}throw $i=e,Sa}}function Hi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?($i=n,Sa):n}}var $i=null;function mp(){if($i===null)throw Error(x(459));var t=$i;return $i=null,t}function pp(t){if(t===Sa||t===Su)throw Error(x(483))}var Gs=null,Cr=0;function Cl(t){var e=Cr;return Cr+=1,Gs===null&&(Gs=[]),Ly(Gs,t,e)}function za(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function wl(t,e){throw e.$$typeof===KE?Error(x(525)):(t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Uy(t){function e(p,d){if(t){var g=p.deletions;g===null?(p.deletions=[d],p.flags|=16):g.push(d)}}function n(p,d){if(!t)return null;for(;d!==null;)e(p,d),d=d.sibling;return null}function i(p){for(var d=new Map;p!==null;)p.key!==null?d.set(p.key,p):d.set(p.index,p),p=p.sibling;return d}function s(p,d){return p=Mn(p,d),p.index=0,p.sibling=null,p}function a(p,d,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<d?(p.flags|=67108866,d):g):(p.flags|=67108866,d)):(p.flags|=1048576,d)}function r(p){return t&&p.alternate===null&&(p.flags|=67108866),p}function l(p,d,g,E){return d===null||d.tag!==6?(d=uc(g,p.mode,E),d.return=p,d):(d=s(d,g),d.return=p,d)}function o(p,d,g,E){var w=g.type;return w===Ns?h(p,d,g.props.children,E,g.key):d!==null&&(d.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Xn&&Hi(w)===d.type)?(d=s(d,g.props),za(d,g),d.return=p,d):(d=ql(g.type,g.key,g.props,null,p.mode,E),za(d,g),d.return=p,d)}function u(p,d,g,E){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=cc(g,p.mode,E),d.return=p,d):(d=s(d,g.children||[]),d.return=p,d)}function h(p,d,g,E,w){return d===null||d.tag!==7?(d=Xi(g,p.mode,E,w),d.return=p,d):(d=s(d,g),d.return=p,d)}function f(p,d,g){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=uc(""+d,p.mode,g),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case _l:return g=ql(d.type,d.key,d.props,null,p.mode,g),za(g,d),g.return=p,g;case Ya:return d=cc(d,p.mode,g),d.return=p,d;case Xn:return d=Hi(d),f(p,d,g)}if(Qa(d)||ka(d))return d=Xi(d,p.mode,g,null),d.return=p,d;if(typeof d.then=="function")return f(p,Cl(d),g);if(d.$$typeof===Cn)return f(p,Tl(p,d),g);wl(p,d)}return null}function c(p,d,g,E){var w=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return w!==null?null:l(p,d,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _l:return g.key===w?o(p,d,g,E):null;case Ya:return g.key===w?u(p,d,g,E):null;case Xn:return g=Hi(g),c(p,d,g,E)}if(Qa(g)||ka(g))return w!==null?null:h(p,d,g,E,null);if(typeof g.then=="function")return c(p,d,Cl(g),E);if(g.$$typeof===Cn)return c(p,d,Tl(p,g),E);wl(p,g)}return null}function m(p,d,g,E,w){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return p=p.get(g)||null,l(d,p,""+E,w);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _l:return p=p.get(E.key===null?g:E.key)||null,o(d,p,E,w);case Ya:return p=p.get(E.key===null?g:E.key)||null,u(d,p,E,w);case Xn:return E=Hi(E),m(p,d,g,E,w)}if(Qa(E)||ka(E))return p=p.get(g)||null,h(d,p,E,w,null);if(typeof E.then=="function")return m(p,d,g,Cl(E),w);if(E.$$typeof===Cn)return m(p,d,g,Tl(d,E),w);wl(d,E)}return null}function _(p,d,g,E){for(var w=null,M=null,N=d,A=d=0,R=null;N!==null&&A<g.length;A++){N.index>A?(R=N,N=null):R=N.sibling;var D=c(p,N,g[A],E);if(D===null){N===null&&(N=R);break}t&&N&&D.alternate===null&&e(p,N),d=a(D,d,A),M===null?w=D:M.sibling=D,M=D,N=R}if(A===g.length)return n(p,N),ne&&Sn(p,A),w;if(N===null){for(;A<g.length;A++)N=f(p,g[A],E),N!==null&&(d=a(N,d,A),M===null?w=N:M.sibling=N,M=N);return ne&&Sn(p,A),w}for(N=i(N);A<g.length;A++)R=m(N,p,A,g[A],E),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?A:R.key),d=a(R,d,A),M===null?w=R:M.sibling=R,M=R);return t&&N.forEach(function(U){return e(p,U)}),ne&&Sn(p,A),w}function T(p,d,g,E){if(g==null)throw Error(x(151));for(var w=null,M=null,N=d,A=d=0,R=null,D=g.next();N!==null&&!D.done;A++,D=g.next()){N.index>A?(R=N,N=null):R=N.sibling;var U=c(p,N,D.value,E);if(U===null){N===null&&(N=R);break}t&&N&&U.alternate===null&&e(p,N),d=a(U,d,A),M===null?w=U:M.sibling=U,M=U,N=R}if(D.done)return n(p,N),ne&&Sn(p,A),w;if(N===null){for(;!D.done;A++,D=g.next())D=f(p,D.value,E),D!==null&&(d=a(D,d,A),M===null?w=D:M.sibling=D,M=D);return ne&&Sn(p,A),w}for(N=i(N);!D.done;A++,D=g.next())D=m(N,p,A,D.value,E),D!==null&&(t&&D.alternate!==null&&N.delete(D.key===null?A:D.key),d=a(D,d,A),M===null?w=D:M.sibling=D,M=D);return t&&N.forEach(function(ue){return e(p,ue)}),ne&&Sn(p,A),w}function C(p,d,g,E){if(typeof g=="object"&&g!==null&&g.type===Ns&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case _l:e:{for(var w=g.key;d!==null;){if(d.key===w){if(w=g.type,w===Ns){if(d.tag===7){n(p,d.sibling),E=s(d,g.props.children),E.return=p,p=E;break e}}else if(d.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Xn&&Hi(w)===d.type){n(p,d.sibling),E=s(d,g.props),za(E,g),E.return=p,p=E;break e}n(p,d);break}else e(p,d);d=d.sibling}g.type===Ns?(E=Xi(g.props.children,p.mode,E,g.key),E.return=p,p=E):(E=ql(g.type,g.key,g.props,null,p.mode,E),za(E,g),E.return=p,p=E)}return r(p);case Ya:e:{for(w=g.key;d!==null;){if(d.key===w)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(p,d.sibling),E=s(d,g.children||[]),E.return=p,p=E;break e}else{n(p,d);break}else e(p,d);d=d.sibling}E=cc(g,p.mode,E),E.return=p,p=E}return r(p);case Xn:return g=Hi(g),C(p,d,g,E)}if(Qa(g))return _(p,d,g,E);if(ka(g)){if(w=ka(g),typeof w!="function")throw Error(x(150));return g=w.call(g),T(p,d,g,E)}if(typeof g.then=="function")return C(p,d,Cl(g),E);if(g.$$typeof===Cn)return C(p,d,Tl(p,g),E);wl(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,d!==null&&d.tag===6?(n(p,d.sibling),E=s(d,g),E.return=p,p=E):(n(p,d),E=uc(g,p.mode,E),E.return=p,p=E),r(p)):n(p,d)}return function(p,d,g,E){try{Cr=0;var w=C(p,d,g,E);return Gs=null,w}catch(N){if(N===Sa||N===Su)throw N;var M=Tt(29,N,null,p.mode);return M.lanes=E,M.return=p,M}finally{}}}var is=Uy(!0),zy=Uy(!1),Wn=!1;function Gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ae&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=po(t),xy(t,null,n),e}return bu(t,i,e,n),po(t)}function nr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ty(t,n)}}function hc(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var bf=!1;function ir(){if(bf){var t=qs;if(t!==null)throw t}}function sr(t,e,n,i){bf=!1;var s=t.updateQueue;Wn=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,u=o.next;o.next=null,r===null?a=u:r.next=u,r=o;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==r&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=o))}if(a!==null){var f=s.baseState;r=0,h=u=o=null,l=a;do{var c=l.lane&-536870913,m=c!==l.lane;if(m?(te&c)===c:(i&c)===c){c!==0&&c===na&&(bf=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var _=t,T=l;c=e;var C=n;switch(T.tag){case 1:if(_=T.payload,typeof _=="function"){f=_.call(C,f,c);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=T.payload,c=typeof _=="function"?_.call(C,f,c):_,c==null)break e;f=Te({},f,c);break e;case 2:Wn=!0}}c=l.callback,c!==null&&(t.flags|=64,m&&(t.flags|=8192),m=s.callbacks,m===null?s.callbacks=[c]:m.push(c))}else m={lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=m,o=f):h=h.next=m,r|=c;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);h===null&&(o=f),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=h,a===null&&(s.shared.lanes=0),Ai|=r,t.lanes=r,t.memoizedState=f}}function By(t,e){if(typeof t!="function")throw Error(x(191,t));t.call(e)}function Hy(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)By(n[t],e)}var ia=hn(null),vo=hn(0);function gp(t,e){t=Hn,ye(vo,t),ye(ia,e),Hn=t|e.baseLanes}function Sf(){ye(vo,Hn),ye(ia,ia.current)}function Fh(){Hn=vo.current,Ye(ia),Ye(vo)}var Mt=hn(null),Pt=null;function Zn(t){var e=t.alternate;ye(De,De.current&1),ye(Mt,t),Pt===null&&(e===null||ia.current!==null||e.memoizedState!==null)&&(Pt=t)}function Ef(t){ye(De,De.current),ye(Mt,t),Pt===null&&(Pt=t)}function jy(t){t.tag===22?(ye(De,De.current),ye(Mt,t),Pt===null&&(Pt=t)):Jn()}function Jn(){ye(De,De.current),ye(Mt,Mt.current)}function Et(t){Ye(Mt),Pt===t&&(Pt=null),Ye(De)}var De=hn(0);function bo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Pf(n)||Vf(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Un=0,Y=null,he=null,ke=null,So=!1,Fs=!1,ss=!1,Eo=0,wr=0,Ys=null,uT=0;function xe(){throw Error(x(321))}function Yh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rt(t[n],e[n]))return!1;return!0}function Qh(t,e,n,i,s,a){return Un=a,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,H.H=t===null||t.memoizedState===null?_v:sd,ss=!1,a=n(i,s),ss=!1,Fs&&(a=Vy(e,n,i,s)),Py(t),a}function Py(t){H.H=Ar;var e=he!==null&&he.next!==null;if(Un=0,ke=he=Y=null,So=!1,wr=0,Ys=null,e)throw Error(x(300));t===null||ze||(t=t.dependencies,t!==null&&_o(t)&&(ze=!0))}function Vy(t,e,n,i){Y=t;var s=0;do{if(Fs&&(Ys=null),wr=0,Fs=!1,25<=s)throw Error(x(301));if(s+=1,ke=he=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}H.H=yv,a=e(n,i)}while(Fs);return a}function cT(){var t=H.H,e=t.useState()[0];return e=typeof e.then=="function"?Zr(e):e,t=t.useState()[0],(he!==null?he.memoizedState:null)!==t&&(Y.flags|=1024),e}function Kh(){var t=Eo!==0;return Eo=0,t}function Xh(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Wh(t){if(So){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}So=!1}Un=0,ke=he=Y=null,Fs=!1,wr=Eo=0,Ys=null}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Y.memoizedState=ke=t:ke=ke.next=t,ke}function Ie(){if(he===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=ke===null?Y.memoizedState:ke.next;if(e!==null)ke=e,he=t;else{if(t===null)throw Y.alternate===null?Error(x(467)):Error(x(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ke===null?Y.memoizedState=ke=t:ke=ke.next=t}return ke}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zr(t){var e=wr;return wr+=1,Ys===null&&(Ys=[]),t=Ly(Ys,t,e),e=Y,(ke===null?e.memoizedState:ke.next)===null&&(e=e.alternate,H.H=e===null||e.memoizedState===null?_v:sd),t}function Tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zr(t);if(t.$$typeof===Cn)return Ze(t)}throw Error(x(438,String(t)))}function $h(t){var e=null,n=Y.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Y.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Eu(),Y.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=XE;return e.index++,n}function zn(t,e){return typeof e=="function"?e(t):e}function Fl(t){var e=Ie();return Zh(e,he,t)}function Zh(t,e,n){var i=t.queue;if(i===null)throw Error(x(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}e.baseQueue=s=a,i.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var l=r=null,o=null,u=e,h=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(te&f)===f:(Un&f)===f){var c=u.revertLane;if(c===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===na&&(h=!0);else if((Un&c)===c){u=u.next,c===na&&(h=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=f,r=a):o=o.next=f,Y.lanes|=c,Ai|=c;f=u.action,ss&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else c={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=c,r=a):o=o.next=c,Y.lanes|=f,Ai|=f;u=u.next}while(u!==null&&u!==e);if(o===null?r=a:o.next=l,!Rt(a,t.memoizedState)&&(ze=!0,h&&(n=qs,n!==null)))throw n;t.memoizedState=a,t.baseState=r,t.baseQueue=o,i.lastRenderedState=a}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function dc(t){var e=Ie(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do a=t(a,r.action),r=r.next;while(r!==s);Rt(a,e.memoizedState)||(ze=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function qy(t,e,n){var i=Y,s=Ie(),a=ne;if(a){if(n===void 0)throw Error(x(407));n=n()}else n=e();var r=!Rt((he||s).memoizedState,n);if(r&&(s.memoizedState=n,ze=!0),s=s.queue,Jh(Yy.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||ke!==null&&ke.memoizedState.tag&1){if(i.flags|=2048,sa(9,{destroy:void 0},Fy.bind(null,i,s,n,e),null),me===null)throw Error(x(349));a||Un&127||Gy(i,e,n)}return n}function Gy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Y.updateQueue,e===null?(e=Eu(),Y.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fy(t,e,n,i){e.value=n,e.getSnapshot=i,Qy(e)&&Ky(t)}function Yy(t,e,n){return n(function(){Qy(e)&&Ky(t)})}function Qy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rt(t,n)}catch{return!0}}function Ky(t){var e=ps(t,2);e!==null&&mt(e,t,2)}function Tf(t){var e=nt();if(typeof t=="function"){var n=t;if(t=n(),ss){si(!0);try{n()}finally{si(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},e}function Xy(t,e,n,i){return t.baseState=n,Zh(t,he,typeof i=="function"?i:zn)}function fT(t,e,n,i,s){if(wu(t))throw Error(x(485));if(t=e.action,t!==null){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};H.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,Wy(e,a)):(a.next=n.next,e.pending=n.next=a)}}function Wy(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var a=H.T,r={};H.T=r;try{var l=n(s,i),o=H.S;o!==null&&o(r,l),_p(t,e,l)}catch(u){Cf(t,e,u)}finally{a!==null&&r.types!==null&&(a.types=r.types),H.T=a}}else try{a=n(s,i),_p(t,e,a)}catch(u){Cf(t,e,u)}}function _p(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){yp(t,e,i)},function(i){return Cf(t,e,i)}):yp(t,e,n)}function yp(t,e,n){e.status="fulfilled",e.value=n,$y(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Wy(t,n)))}function Cf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,$y(e),e=e.next;while(e!==i)}t.action=null}function $y(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Zy(t,e){return e}function vp(t,e){if(ne){var n=me.formState;if(n!==null){e:{var i=Y;if(ne){if(Se){t:{for(var s=Se,a=Ht;s.nodeType!==8;){if(!a){s=null;break t}if(s=Vt(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){Se=Vt(s.nextSibling),i=s.data==="F!";break e}}Ci(i)}i=!1}i&&(e=n[0])}}return n=nt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:e},n.queue=i,n=mv.bind(null,Y,i),i.dispatch=n,i=Tf(!1),a=id.bind(null,Y,!1,i.queue),i=nt(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=fT.bind(null,Y,s,a,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function bp(t){var e=Ie();return Jy(e,he,t)}function Jy(t,e,n){if(e=Zh(t,e,Zy)[0],t=Fl(zn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Zr(e)}catch(r){throw r===Sa?Su:r}else i=e;e=Ie();var s=e.queue,a=s.dispatch;return n!==e.memoizedState&&(Y.flags|=2048,sa(9,{destroy:void 0},hT.bind(null,s,n),null)),[i,a,t]}function hT(t,e){t.action=e}function Sp(t){var e=Ie(),n=he;if(n!==null)return Jy(e,n,t);Ie(),e=e.memoizedState,n=Ie();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function sa(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Y.updateQueue,e===null&&(e=Eu(),Y.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ev(){return Ie().memoizedState}function Yl(t,e,n,i){var s=nt();Y.flags|=t,s.memoizedState=sa(1|e,{destroy:void 0},n,i===void 0?null:i)}function Cu(t,e,n,i){var s=Ie();i=i===void 0?null:i;var a=s.memoizedState.inst;he!==null&&i!==null&&Yh(i,he.memoizedState.deps)?s.memoizedState=sa(e,a,n,i):(Y.flags|=t,s.memoizedState=sa(1|e,a,n,i))}function Ep(t,e){Yl(8390656,8,t,e)}function Jh(t,e){Cu(2048,8,t,e)}function dT(t){Y.flags|=4;var e=Y.updateQueue;if(e===null)e=Eu(),Y.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function tv(t){var e=Ie().memoizedState;return dT({ref:e,nextImpl:t}),function(){if(ae&2)throw Error(x(440));return e.impl.apply(void 0,arguments)}}function nv(t,e){return Cu(4,2,t,e)}function iv(t,e){return Cu(4,4,t,e)}function sv(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function av(t,e,n){n=n!=null?n.concat([t]):null,Cu(4,4,sv.bind(null,e,t),n)}function ed(){}function rv(t,e){var n=Ie();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Yh(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function lv(t,e){var n=Ie();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Yh(e,i[1]))return i[0];if(i=t(),ss){si(!0);try{t()}finally{si(!1)}}return n.memoizedState=[i,e],i}function td(t,e,n){return n===void 0||Un&1073741824&&!(te&261930)?t.memoizedState=e:(t.memoizedState=n,t=Xv(),Y.lanes|=t,Ai|=t,n)}function ov(t,e,n,i){return Rt(n,e)?n:ia.current!==null?(t=td(t,n,i),Rt(t,e)||(ze=!0),t):!(Un&42)||Un&1073741824&&!(te&261930)?(ze=!0,t.memoizedState=n):(t=Xv(),Y.lanes|=t,Ai|=t,e)}function uv(t,e,n,i,s){var a=re.p;re.p=a!==0&&8>a?a:8;var r=H.T,l={};H.T=l,id(t,!1,e,n);try{var o=s(),u=H.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=oT(o,i);ar(t,e,h,xt(t))}else ar(t,e,i,xt(t))}catch(f){ar(t,e,{then:function(){},status:"rejected",reason:f},xt())}finally{re.p=a,r!==null&&l.types!==null&&(r.types=l.types),H.T=r}}function mT(){}function wf(t,e,n,i){if(t.tag!==5)throw Error(x(476));var s=cv(t).queue;uv(t,s,e,Ki,n===null?mT:function(){return fv(t),n(i)})}function cv(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ki,baseState:Ki,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:Ki},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function fv(t){var e=cv(t);e.next===null&&(e=t.alternate.memoizedState),ar(t,e.next.queue,{},xt())}function nd(){return Ze(Rr)}function hv(){return Ie().memoizedState}function dv(){return Ie().memoizedState}function pT(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=xt();t=fi(n);var i=hi(e,t,n);i!==null&&(mt(i,e,n),nr(i,e,n)),e={cache:Ph()},t.payload=e;return}e=e.return}}function gT(t,e,n){var i=xt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},wu(t)?pv(e,n):(n=zh(t,e,n,i),n!==null&&(mt(n,t,i),gv(n,e,i)))}function mv(t,e,n){var i=xt();ar(t,e,n,i)}function ar(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(wu(t))pv(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,l=a(r,n);if(s.hasEagerState=!0,s.eagerState=l,Rt(l,r))return bu(t,e,s,0),me===null&&vu(),!1}catch{}finally{}if(n=zh(t,e,s,i),n!==null)return mt(n,t,i),gv(n,e,i),!0}return!1}function id(t,e,n,i){if(i={lane:2,revertLane:hd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},wu(t)){if(e)throw Error(x(479))}else e=zh(t,n,i,2),e!==null&&mt(e,t,2)}function wu(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function pv(t,e){Fs=So=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gv(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ty(t,n)}}var Ar={readContext:Ze,use:Tu,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};Ar.useEffectEvent=xe;var _v={readContext:Ze,use:Tu,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:Ze,useEffect:Ep,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Yl(4194308,4,sv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yl(4194308,4,t,e)},useInsertionEffect:function(t,e){Yl(4,2,t,e)},useMemo:function(t,e){var n=nt();e=e===void 0?null:e;var i=t();if(ss){si(!0);try{t()}finally{si(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=nt();if(n!==void 0){var s=n(e);if(ss){si(!0);try{n(e)}finally{si(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=gT.bind(null,Y,t),[i.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:function(t){t=Tf(t);var e=t.queue,n=mv.bind(null,Y,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ed,useDeferredValue:function(t,e){var n=nt();return td(n,t,e)},useTransition:function(){var t=Tf(!1);return t=uv.bind(null,Y,t.queue,!0,!1),nt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Y,s=nt();if(ne){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),me===null)throw Error(x(349));te&127||Gy(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,Ep(Yy.bind(null,i,a,t),[t]),i.flags|=2048,sa(9,{destroy:void 0},Fy.bind(null,i,a,n,e),null),n},useId:function(){var t=nt(),e=me.identifierPrefix;if(ne){var n=rn,i=an;n=(i&~(1<<32-Nt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Eo++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=uT++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:nd,useFormState:vp,useActionState:vp,useOptimistic:function(t){var e=nt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=id.bind(null,Y,!0,n),n.dispatch=e,[t,e]},useMemoCache:$h,useCacheRefresh:function(){return nt().memoizedState=pT.bind(null,Y)},useEffectEvent:function(t){var e=nt(),n={impl:t};return e.memoizedState=n,function(){if(ae&2)throw Error(x(440));return n.impl.apply(void 0,arguments)}}},sd={readContext:Ze,use:Tu,useCallback:rv,useContext:Ze,useEffect:Jh,useImperativeHandle:av,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:lv,useReducer:Fl,useRef:ev,useState:function(){return Fl(zn)},useDebugValue:ed,useDeferredValue:function(t,e){var n=Ie();return ov(n,he.memoizedState,t,e)},useTransition:function(){var t=Fl(zn)[0],e=Ie().memoizedState;return[typeof t=="boolean"?t:Zr(t),e]},useSyncExternalStore:qy,useId:hv,useHostTransitionStatus:nd,useFormState:bp,useActionState:bp,useOptimistic:function(t,e){var n=Ie();return Xy(n,he,t,e)},useMemoCache:$h,useCacheRefresh:dv};sd.useEffectEvent=tv;var yv={readContext:Ze,use:Tu,useCallback:rv,useContext:Ze,useEffect:Jh,useImperativeHandle:av,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:lv,useReducer:dc,useRef:ev,useState:function(){return dc(zn)},useDebugValue:ed,useDeferredValue:function(t,e){var n=Ie();return he===null?td(n,t,e):ov(n,he.memoizedState,t,e)},useTransition:function(){var t=dc(zn)[0],e=Ie().memoizedState;return[typeof t=="boolean"?t:Zr(t),e]},useSyncExternalStore:qy,useId:hv,useHostTransitionStatus:nd,useFormState:Sp,useActionState:Sp,useOptimistic:function(t,e){var n=Ie();return he!==null?Xy(n,he,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:$h,useCacheRefresh:dv};yv.useEffectEvent=tv;function mc(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Af={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=xt(),s=fi(i);s.payload=e,n!=null&&(s.callback=n),e=hi(t,s,i),e!==null&&(mt(e,t,i),nr(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=xt(),s=fi(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=hi(t,s,i),e!==null&&(mt(e,t,i),nr(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),i=fi(n);i.tag=2,e!=null&&(i.callback=e),e=hi(t,i,n),e!==null&&(mt(e,t,n),nr(e,t,n))}};function Tp(t,e,n,i,s,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,r):e.prototype&&e.prototype.isPureReactComponent?!Sr(n,i)||!Sr(s,a):!0}function Cp(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Af.enqueueReplaceState(e,e.state,null)}function as(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Te({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function vv(t){mo(t)}function bv(t){console.error(t)}function Sv(t){mo(t)}function To(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function wp(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Nf(t,e,n){return n=fi(n),n.tag=3,n.payload={element:null},n.callback=function(){To(t,e)},n}function Ev(t){return t=fi(t),t.tag=3,t}function Tv(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){wp(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){wp(e,n,i),typeof s!="function"&&(di===null?di=new Set([this]):di.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function _T(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&ba(e,n,s,!0),n=Mt.current,n!==null){switch(n.tag){case 31:case 13:return Pt===null?xo():n.alternate===null&&Re===0&&(Re=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===yo?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),wc(t,i,s)),!1;case 22:return n.flags|=65536,i===yo?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),wc(t,i,s)),!1}throw Error(x(435,n.tag))}return wc(t,i,s),xo(),!1}if(ne)return e=Mt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==mf&&(t=Error(x(422),{cause:i}),Tr(Bt(t,n)))):(i!==mf&&(e=Error(x(423),{cause:i}),Tr(Bt(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=Bt(i,n),s=Nf(t.stateNode,i,s),hc(t,s),Re!==4&&(Re=2)),!1;var a=Error(x(520),{cause:i});if(a=Bt(a,n),or===null?or=[a]:or.push(a),Re!==4&&(Re=2),e===null)return!0;i=Bt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Nf(n.stateNode,i,t),hc(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(di===null||!di.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Ev(s),Tv(s,t,n,i),hc(n,s),!1}n=n.return}while(n!==null);return!1}var ad=Error(x(461)),ze=!1;function Ke(t,e,n,i){e.child=t===null?zy(e,null,n,i):is(e,t.child,n,i)}function Ap(t,e,n,i,s){n=n.render;var a=e.ref;if("ref"in i){var r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}else r=i;return ns(e),i=Qh(t,e,n,r,a,s),l=Kh(),t!==null&&!ze?(Xh(t,e,s),Bn(t,e,s)):(ne&&l&&Hh(e),e.flags|=1,Ke(t,e,i,s),e.child)}function Np(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!Bh(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,Cv(t,e,a,i,s)):(t=ql(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!rd(t,s)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:Sr,n(r,i)&&t.ref===e.ref)return Bn(t,e,s)}return e.flags|=1,t=Mn(a,i),t.ref=e.ref,t.return=e,e.child=t}function Cv(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(Sr(a,i)&&t.ref===e.ref)if(ze=!1,e.pendingProps=i=a,rd(t,s))t.flags&131072&&(ze=!0);else return e.lanes=t.lanes,Bn(t,e,s)}return xf(t,e,n,i,s)}function wv(t,e,n,i){var s=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,e.child=null;return xp(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gl(e,a!==null?a.cachePool:null),a!==null?gp(e,a):Sf(),jy(e);else return i=e.lanes=536870912,xp(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(Gl(e,a.cachePool),gp(e,a),Jn(),e.memoizedState=null):(t!==null&&Gl(e,null),Sf(),Jn());return Ke(t,e,s,n),e.child}function Xa(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function xp(t,e,n,i,s){var a=Vh();return a=a===null?null:{parent:Ue._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Gl(e,null),Sf(),jy(e),t!==null&&ba(t,e,i,!0),e.childLanes=s,null}function Ql(t,e){return e=Co({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Rp(t,e,n){return is(e,t.child,null,n),t=Ql(e,e.pendingProps),t.flags|=2,Et(e),e.memoizedState=null,t}function yT(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ne){if(i.mode==="hidden")return t=Ql(e,i),e.lanes=536870912,Xa(null,t);if(Ef(e),(t=Se)?(t=_0(t,Ht),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ti!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=My(t),n.return=e,e.child=n,$e=e,Se=null)):t=null,t===null)throw Ci(e);return e.lanes=536870912,null}return Ql(e,i)}var a=t.memoizedState;if(a!==null){var r=a.dehydrated;if(Ef(e),s)if(e.flags&256)e.flags&=-257,e=Rp(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(x(558));else if(ze||ba(t,e,n,!1),s=(n&t.childLanes)!==0,ze||s){if(i=me,i!==null&&(r=ny(i,n),r!==0&&r!==a.retryLane))throw a.retryLane=r,ps(t,r),mt(i,t,r),ad;xo(),e=Rp(t,e,n)}else t=a.treeContext,Se=Vt(r.nextSibling),$e=e,ne=!0,ci=null,Ht=!1,t!==null&&Dy(e,t),e=Ql(e,i),e.flags|=4096;return e}return t=Mn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Kl(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(x(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function xf(t,e,n,i,s){return ns(e),n=Qh(t,e,n,i,void 0,s),i=Kh(),t!==null&&!ze?(Xh(t,e,s),Bn(t,e,s)):(ne&&i&&Hh(e),e.flags|=1,Ke(t,e,n,s),e.child)}function Mp(t,e,n,i,s,a){return ns(e),e.updateQueue=null,n=Vy(e,i,n,s),Py(t),i=Kh(),t!==null&&!ze?(Xh(t,e,a),Bn(t,e,a)):(ne&&i&&Hh(e),e.flags|=1,Ke(t,e,n,a),e.child)}function Op(t,e,n,i,s){if(ns(e),e.stateNode===null){var a=Ls,r=n.contextType;typeof r=="object"&&r!==null&&(a=Ze(r)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Af,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},Gh(e),r=n.contextType,a.context=typeof r=="object"&&r!==null?Ze(r):Ls,a.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(mc(e,n,r,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&Af.enqueueReplaceState(a,a.state,null),sr(e,i,a,s),ir(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,o=as(n,l);a.props=o;var u=a.context,h=n.contextType;r=Ls,typeof h=="object"&&h!==null&&(r=Ze(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==r)&&Cp(e,a,i,r),Wn=!1;var c=e.memoizedState;a.state=c,sr(e,i,a,s),ir(),u=e.memoizedState,l||c!==u||Wn?(typeof f=="function"&&(mc(e,n,f,i),u=e.memoizedState),(o=Wn||Tp(e,n,o,i,c,u,r))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=r,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,vf(t,e),r=e.memoizedProps,h=as(n,r),a.props=h,f=e.pendingProps,c=a.context,u=n.contextType,o=Ls,typeof u=="object"&&u!==null&&(o=Ze(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||c!==o)&&Cp(e,a,i,o),Wn=!1,c=e.memoizedState,a.state=c,sr(e,i,a,s),ir();var m=e.memoizedState;r!==f||c!==m||Wn||t!==null&&t.dependencies!==null&&_o(t.dependencies)?(typeof l=="function"&&(mc(e,n,l,i),m=e.memoizedState),(h=Wn||Tp(e,n,h,i,c,m,o)||t!==null&&t.dependencies!==null&&_o(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=o,i=h):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,Kl(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=is(e,t.child,null,s),e.child=is(e,null,n,s)):Ke(t,e,n,s),e.memoizedState=a.state,t=e.child):t=Bn(t,e,s),t}function Dp(t,e,n,i){return ts(),e.flags|=256,Ke(t,e,n,i),e.child}var pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(t){return{baseLanes:t,cachePool:ky()}}function _c(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ct),t}function Av(t,e,n){var i=e.pendingProps,s=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(ne){if(s?Zn(e):Jn(),(t=Se)?(t=_0(t,Ht),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ti!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=My(t),n.return=e,e.child=n,$e=e,Se=null)):t=null,t===null)throw Ci(e);return Vf(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Jn(),s=e.mode,l=Co({mode:"hidden",children:l},s),i=Xi(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=gc(n),i.childLanes=_c(t,r,n),e.memoizedState=pc,Xa(null,i)):(Zn(e),Rf(e,l))}var o=t.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(a)e.flags&256?(Zn(e),e.flags&=-257,e=yc(t,e,n)):e.memoizedState!==null?(Jn(),e.child=t.child,e.flags|=128,e=null):(Jn(),l=i.fallback,s=e.mode,i=Co({mode:"visible",children:i.children},s),l=Xi(l,s,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,is(e,t.child,null,n),i=e.child,i.memoizedState=gc(n),i.childLanes=_c(t,r,n),e.memoizedState=pc,e=Xa(null,i));else if(Zn(e),Vf(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,i=Error(x(419)),i.stack="",i.digest=r,Tr({value:i,source:null,stack:null}),e=yc(t,e,n)}else if(ze||ba(t,e,n,!1),r=(n&t.childLanes)!==0,ze||r){if(r=me,r!==null&&(i=ny(r,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,ps(t,i),mt(r,t,i),ad;Pf(l)||xo(),e=yc(t,e,n)}else Pf(l)?(e.flags|=192,e.child=t.child,e=null):(t=o.treeContext,Se=Vt(l.nextSibling),$e=e,ne=!0,ci=null,Ht=!1,t!==null&&Dy(e,t),e=Rf(e,i.children),e.flags|=4096);return e}return s?(Jn(),l=i.fallback,s=e.mode,o=t.child,u=o.sibling,i=Mn(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=Mn(u,l):(l=Xi(l,s,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Xa(null,i),i=e.child,l=t.child.memoizedState,l===null?l=gc(n):(s=l.cachePool,s!==null?(o=Ue._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=ky(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=_c(t,r,n),e.memoizedState=pc,Xa(t.child,i)):(Zn(e),n=t.child,t=n.sibling,n=Mn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Rf(t,e){return e=Co({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Co(t,e){return t=Tt(22,t,null,e),t.lanes=0,t}function yc(t,e,n){return is(e,t.child,null,n),t=Rf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ip(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),gf(t.return,e,n)}function vc(t,e,n,i,s,a){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s,r.treeForkCount=a)}function Nv(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var r=De.current,l=(r&2)!==0;if(l?(r=r&1|2,e.flags|=128):r&=1,ye(De,r),Ke(t,e,i,n),i=ne?Er:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ip(t,n,e);else if(t.tag===19)Ip(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&bo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vc(e,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&bo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vc(e,!0,n,null,a,i);break;case"together":vc(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))if(t!==null){if(ba(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rd(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&_o(t)))}function vT(t,e,n){switch(e.tag){case 3:uo(e,e.stateNode.containerInfo),$n(e,Ue,t.memoizedState.cache),ts();break;case 27:case 5:nf(e);break;case 4:uo(e,e.stateNode.containerInfo);break;case 10:$n(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Ef(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Zn(e),e.flags|=128,null):n&e.child.childLanes?Av(t,e,n):(Zn(e),t=Bn(t,e,n),t!==null?t.sibling:null);Zn(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(ba(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return Nv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(De,De.current),i)break;return null;case 22:return e.lanes=0,wv(t,e,n,e.pendingProps);case 24:$n(e,Ue,t.memoizedState.cache)}return Bn(t,e,n)}function xv(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ze=!0;else{if(!rd(t,n)&&!(e.flags&128))return ze=!1,vT(t,e,n);ze=!!(t.flags&131072)}else ze=!1,ne&&e.flags&1048576&&Oy(e,Er,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Hi(e.elementType),e.type=t,typeof t=="function")Bh(t)?(i=as(t,i),e.tag=1,e=Op(null,e,t,i,n)):(e.tag=0,e=xf(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===Ch){e.tag=11,e=Ap(null,e,t,i,n);break e}else if(s===wh){e.tag=14,e=Np(null,e,t,i,n);break e}}throw e=ef(t)||t,Error(x(306,e,""))}}return e;case 0:return xf(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=as(i,e.pendingProps),Op(t,e,i,s,n);case 3:e:{if(uo(e,e.stateNode.containerInfo),t===null)throw Error(x(387));i=e.pendingProps;var a=e.memoizedState;s=a.element,vf(t,e),sr(e,i,null,n);var r=e.memoizedState;if(i=r.cache,$n(e,Ue,i),i!==a.cache&&_f(e,[Ue],n,!0),ir(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=Dp(t,e,i,n);break e}else if(i!==s){s=Bt(Error(x(424)),e),Tr(s),e=Dp(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Se=Vt(t.firstChild),$e=e,ne=!0,ci=null,Ht=!0,n=zy(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ts(),i===s){e=Bn(t,e,n);break e}Ke(t,e,i,n)}e=e.child}return e;case 26:return Kl(t,e),t===null?(n=Jp(e.type,null,e.pendingProps,null))?e.memoizedState=n:ne||(n=e.type,t=e.pendingProps,i=Do(ui.current).createElement(n),i[We]=e,i[gt]=t,Je(i,n,t),Ge(i),e.stateNode=i):e.memoizedState=Jp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return nf(e),t===null&&ne&&(i=e.stateNode=y0(e.type,e.pendingProps,ui.current),$e=e,Ht=!0,s=Se,Oi(e.type)?(qf=s,Se=Vt(i.firstChild)):Se=s),Ke(t,e,e.pendingProps.children,n),Kl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ne&&((s=i=Se)&&(i=XT(i,e.type,e.pendingProps,Ht),i!==null?(e.stateNode=i,$e=e,Se=Vt(i.firstChild),Ht=!1,s=!0):s=!1),s||Ci(e)),nf(e),s=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,i=a.children,Hf(s,a)?i=null:r!==null&&Hf(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=Qh(t,e,cT,null,null,n),Rr._currentValue=s),Kl(t,e),Ke(t,e,i,n),e.child;case 6:return t===null&&ne&&((t=n=Se)&&(n=WT(n,e.pendingProps,Ht),n!==null?(e.stateNode=n,$e=e,Se=null,t=!0):t=!1),t||Ci(e)),null;case 13:return Av(t,e,n);case 4:return uo(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=is(e,null,i,n):Ke(t,e,i,n),e.child;case 11:return Ap(t,e,e.type,e.pendingProps,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,$n(e,e.type,i.value),Ke(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,ns(e),s=Ze(s),i=i(s),e.flags|=1,Ke(t,e,i,n),e.child;case 14:return Np(t,e,e.type,e.pendingProps,n);case 15:return Cv(t,e,e.type,e.pendingProps,n);case 19:return Nv(t,e,n);case 31:return yT(t,e,n);case 22:return wv(t,e,n,e.pendingProps);case 24:return ns(e),i=Ze(Ue),t===null?(s=Vh(),s===null&&(s=me,a=Ph(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:i,cache:s},Gh(e),$n(e,Ue,s)):(t.lanes&n&&(vf(t,e),sr(e,null,null,n),ir()),s=t.memoizedState,a=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),$n(e,Ue,i)):(i=a.cache,$n(e,Ue,i),i!==s.cache&&_f(e,[Ue],n,!0))),Ke(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(x(156,e.tag))}function _n(t){t.flags|=4}function bc(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(Zv())t.flags|=8192;else throw $i=yo,qh}else t.flags&=-16777217}function kp(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!S0(e))if(Zv())t.flags|=8192;else throw $i=yo,qh}function Al(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?J_():536870912,t.lanes|=e,aa|=e)}function Ba(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function bT(t,e,n){var i=e.pendingProps;switch(jh(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return be(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),On(Ue),Js(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ss(e)?_n(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fc())),be(e),null;case 26:var s=e.type,a=e.memoizedState;return t===null?(_n(e),a!==null?(be(e),kp(e,a)):(be(e),bc(e,s,null,i,n))):a?a!==t.memoizedState?(_n(e),be(e),kp(e,a)):(be(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&_n(e),be(e),bc(e,s,t,i,n)),null;case 27:if(co(e),n=ui.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&_n(e);else{if(!i){if(e.stateNode===null)throw Error(x(166));return be(e),null}t=on.current,Ss(e)?up(e):(t=y0(s,i,n),e.stateNode=t,_n(e))}return be(e),null;case 5:if(co(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&_n(e);else{if(!i){if(e.stateNode===null)throw Error(x(166));return be(e),null}if(a=on.current,Ss(e))up(e);else{var r=Do(ui.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}a[We]=e,a[gt]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(Je(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&_n(e)}}return be(e),bc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&_n(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(x(166));if(t=ui.current,Ss(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=$e,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[We]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||m0(t.nodeValue,n)),t||Ci(e,!0)}else t=Do(t).createTextNode(i),t[We]=e,e.stateNode=t}return be(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Ss(e),n!==null){if(t===null){if(!i)throw Error(x(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(557));t[We]=e}else ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),t=!1}else n=fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Et(e),e):(Et(e),null);if(e.flags&128)throw Error(x(558))}return be(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Ss(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(x(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[We]=e}else ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),s=!1}else s=fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Et(e),e):(Et(e),null)}return Et(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Al(e,e.updateQueue),be(e),null);case 4:return Js(),t===null&&dd(e.stateNode.containerInfo),be(e),null;case 10:return On(e.type),be(e),null;case 19:if(Ye(De),i=e.memoizedState,i===null)return be(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)Ba(i,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=bo(t),a!==null){for(e.flags|=128,Ba(i,!1),t=a.updateQueue,e.updateQueue=t,Al(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Ry(n,t),n=n.sibling;return ye(De,De.current&1|2),ne&&Sn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&wt()>Ao&&(e.flags|=128,s=!0,Ba(i,!1),e.lanes=4194304)}else{if(!s)if(t=bo(a),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Al(e,t),Ba(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ne)return be(e),null}else 2*wt()-i.renderingStartTime>Ao&&n!==536870912&&(e.flags|=128,s=!0,Ba(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wt(),t.sibling=null,n=De.current,ye(De,s?n&1|2:n&1),ne&&Sn(e,i.treeForkCount),t):(be(e),null);case 22:case 23:return Et(e),Fh(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),n=e.updateQueue,n!==null&&Al(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ye(Wi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),On(Ue),be(e),null;case 25:return null;case 30:return null}throw Error(x(156,e.tag))}function ST(t,e){switch(jh(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return On(Ue),Js(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return co(e),null;case 31:if(e.memoizedState!==null){if(Et(e),e.alternate===null)throw Error(x(340));ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Et(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(De),null;case 4:return Js(),null;case 10:return On(e.type),null;case 22:case 23:return Et(e),Fh(),t!==null&&Ye(Wi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return On(Ue),null;case 25:return null;default:return null}}function Rv(t,e){switch(jh(e),e.tag){case 3:On(Ue),Js();break;case 26:case 27:case 5:co(e);break;case 4:Js();break;case 31:e.memoizedState!==null&&Et(e);break;case 13:Et(e);break;case 19:Ye(De);break;case 10:On(e.type);break;case 22:case 23:Et(e),Fh(),t!==null&&Ye(Wi);break;case 24:On(Ue)}}function Jr(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create,r=n.inst;i=a(),r.destroy=i}n=n.next}while(n!==s)}}catch(l){oe(e,e.return,l)}}function wi(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&t)===t){var r=i.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=e;var o=n,u=l;try{u()}catch(h){oe(s,o,h)}}}i=i.next}while(i!==a)}}catch(h){oe(e,e.return,h)}}function Mv(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Hy(e,n)}catch(i){oe(t,t.return,i)}}}function Ov(t,e,n){n.props=as(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){oe(t,e,i)}}function rr(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){oe(t,e,s)}}function ln(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){oe(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){oe(t,e,s)}else n.current=null}function Dv(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){oe(t,t.return,s)}}function Sc(t,e,n){try{var i=t.stateNode;qT(i,t.type,n,e),i[gt]=e}catch(s){oe(t,t.return,s)}}function Iv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Oi(t.type)||t.tag===4}function Ec(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Oi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wn));else if(i!==4&&(i===27&&Oi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Mf(t,e,n),t=t.sibling;t!==null;)Mf(t,e,n),t=t.sibling}function wo(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Oi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(wo(t,e,n),t=t.sibling;t!==null;)wo(t,e,n),t=t.sibling}function kv(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Je(e,i,n),e[We]=t,e[gt]=n}catch(a){oe(t,t.return,a)}}var En=!1,Le=!1,Tc=!1,Lp=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function ET(t,e){if(t=t.containerInfo,zf=Uo,t=Sy(t),Lh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,u=0,h=0,f=t,c=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=r+s),f!==a||i!==0&&f.nodeType!==3||(o=r+i),f.nodeType===3&&(r+=f.nodeValue.length),(m=f.firstChild)!==null;)c=f,f=m;for(;;){if(f===t)break t;if(c===n&&++u===s&&(l=r),c===a&&++h===i&&(o=r),(m=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=m}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bf={focusedElem:t,selectionRange:n},Uo=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){switch(e=Ve,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var _=as(n.type,s);t=i.getSnapshotBeforeUpdate(_,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(T){oe(n,n.return,T)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)jf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(x(163))}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}}function Lv(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:vn(t,n),i&4&&Jr(5,n);break;case 1:if(vn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){oe(n,n.return,r)}else{var s=as(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){oe(n,n.return,r)}}i&64&&Mv(n),i&512&&rr(n,n.return);break;case 3:if(vn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Hy(t,e)}catch(r){oe(n,n.return,r)}}break;case 27:e===null&&i&4&&kv(n);case 26:case 5:vn(t,n),e===null&&i&4&&Dv(n),i&512&&rr(n,n.return);break;case 12:vn(t,n);break;case 31:vn(t,n),i&4&&Bv(t,n);break;case 13:vn(t,n),i&4&&Hv(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=OT.bind(null,n),$T(t,n))));break;case 22:if(i=n.memoizedState!==null||En,!i){e=e!==null&&e.memoizedState!==null||Le,s=En;var a=Le;En=i,(Le=e)&&!a?bn(t,n,(n.subtreeFlags&8772)!==0):vn(t,n),En=s,Le=a}break;case 30:break;default:vn(t,n)}}function Uv(t){var e=t.alternate;e!==null&&(t.alternate=null,Uv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Rh(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ce=null,ft=!1;function yn(t,e,n){for(n=n.child;n!==null;)zv(t,e,n),n=n.sibling}function zv(t,e,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Yr,n)}catch{}switch(n.tag){case 26:Le||ln(n,e),yn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Le||ln(n,e);var i=Ce,s=ft;Oi(n.type)&&(Ce=n.stateNode,ft=!1),yn(t,e,n),cr(n.stateNode),Ce=i,ft=s;break;case 5:Le||ln(n,e);case 6:if(i=Ce,s=ft,Ce=null,yn(t,e,n),Ce=i,ft=s,Ce!==null)if(ft)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(n.stateNode)}catch(a){oe(n,e,a)}else try{Ce.removeChild(n.stateNode)}catch(a){oe(n,e,a)}break;case 18:Ce!==null&&(ft?(t=Ce,Kp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ua(t)):Kp(Ce,n.stateNode));break;case 4:i=Ce,s=ft,Ce=n.stateNode.containerInfo,ft=!0,yn(t,e,n),Ce=i,ft=s;break;case 0:case 11:case 14:case 15:wi(2,n,e),Le||wi(4,n,e),yn(t,e,n);break;case 1:Le||(ln(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Ov(n,e,i)),yn(t,e,n);break;case 21:yn(t,e,n);break;case 22:Le=(i=Le)||n.memoizedState!==null,yn(t,e,n),Le=i;break;default:yn(t,e,n)}}function Bv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ua(t)}catch(n){oe(e,e.return,n)}}}function Hv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ua(t)}catch(n){oe(e,e.return,n)}}function TT(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Lp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Lp),e;default:throw Error(x(435,t.tag))}}function Nl(t,e){var n=TT(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=DT.bind(null,t,i);i.then(s,s)}})}function ut(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=t,r=e,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(Oi(l.type)){Ce=l.stateNode,ft=!1;break e}break;case 5:Ce=l.stateNode,ft=!1;break e;case 3:case 4:Ce=l.stateNode.containerInfo,ft=!0;break e}l=l.return}if(Ce===null)throw Error(x(160));zv(a,r,s),Ce=null,ft=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)jv(e,t),e=e.sibling}var Kt=null;function jv(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ut(e,t),ct(t),i&4&&(wi(3,t,t.return),Jr(3,t),wi(5,t,t.return));break;case 1:ut(e,t),ct(t),i&512&&(Le||n===null||ln(n,n.return)),i&64&&En&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Kt;if(ut(e,t),ct(t),i&512&&(Le||n===null||ln(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[Xr]||a[We]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),Je(a,i,n),a[We]=t,Ge(a),i=a;break e;case"link":var r=tg("link","href",s).get(i+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}a=s.createElement(i),Je(a,i,n),s.head.appendChild(a);break;case"meta":if(r=tg("meta","content",s).get(i+(n.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}a=s.createElement(i),Je(a,i,n),s.head.appendChild(a);break;default:throw Error(x(468,i))}a[We]=t,Ge(a),i=a}t.stateNode=i}else ng(s,t.type,t.stateNode);else t.stateNode=eg(s,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?ng(s,t.type,t.stateNode):eg(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Sc(t,t.memoizedProps,n.memoizedProps)}break;case 27:ut(e,t),ct(t),i&512&&(Le||n===null||ln(n,n.return)),n!==null&&i&4&&Sc(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ut(e,t),ct(t),i&512&&(Le||n===null||ln(n,n.return)),t.flags&32){s=t.stateNode;try{ta(s,"")}catch(_){oe(t,t.return,_)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,Sc(t,s,n!==null?n.memoizedProps:s)),i&1024&&(Tc=!0);break;case 6:if(ut(e,t),ct(t),i&4){if(t.stateNode===null)throw Error(x(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(_){oe(t,t.return,_)}}break;case 3:if($l=null,s=Kt,Kt=Io(e.containerInfo),ut(e,t),Kt=s,ct(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(e.containerInfo)}catch(_){oe(t,t.return,_)}Tc&&(Tc=!1,Pv(t));break;case 4:i=Kt,Kt=Io(t.stateNode.containerInfo),ut(e,t),ct(t),Kt=i;break;case 12:ut(e,t),ct(t);break;case 31:ut(e,t),ct(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Nl(t,i)));break;case 13:ut(e,t),ct(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Au=wt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Nl(t,i)));break;case 22:s=t.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=En,h=Le;if(En=u||s,Le=h||o,ut(e,t),Le=h,En=u,ct(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||o||En||Le||ji(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){o=n=e;try{if(a=o.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,c=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=c==null||typeof c=="boolean"?"":(""+c).trim()}}catch(_){oe(o,o.return,_)}}}else if(e.tag===6){if(n===null){o=e;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(_){oe(o,o.return,_)}}}else if(e.tag===18){if(n===null){o=e;try{var m=o.stateNode;s?Xp(m,!0):Xp(o.stateNode,!1)}catch(_){oe(o,o.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Nl(t,n))));break;case 19:ut(e,t),ct(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Nl(t,i)));break;case 30:break;case 21:break;default:ut(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Iv(i)){n=i;break}i=i.return}if(n==null)throw Error(x(160));switch(n.tag){case 27:var s=n.stateNode,a=Ec(t);wo(t,a,s);break;case 5:var r=n.stateNode;n.flags&32&&(ta(r,""),n.flags&=-33);var l=Ec(t);wo(t,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,u=Ec(t);Mf(t,u,o);break;default:throw Error(x(161))}}catch(h){oe(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Pv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Pv(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function vn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Lv(t,e.alternate,e),e=e.sibling}function ji(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:wi(4,e,e.return),ji(e);break;case 1:ln(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Ov(e,e.return,n),ji(e);break;case 27:cr(e.stateNode);case 26:case 5:ln(e,e.return),ji(e);break;case 22:e.memoizedState===null&&ji(e);break;case 30:ji(e);break;default:ji(e)}t=t.sibling}}function bn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:bn(s,a,n),Jr(4,a);break;case 1:if(bn(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){oe(i,i.return,u)}if(i=a,s=i.updateQueue,s!==null){var l=i.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)By(o[s],l)}catch(u){oe(i,i.return,u)}}n&&r&64&&Mv(a),rr(a,a.return);break;case 27:kv(a);case 26:case 5:bn(s,a,n),n&&i===null&&r&4&&Dv(a),rr(a,a.return);break;case 12:bn(s,a,n);break;case 31:bn(s,a,n),n&&r&4&&Bv(s,a);break;case 13:bn(s,a,n),n&&r&4&&Hv(s,a);break;case 22:a.memoizedState===null&&bn(s,a,n),rr(a,a.return);break;case 30:break;default:bn(s,a,n)}e=e.sibling}}function ld(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&$r(n))}function od(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&$r(t))}function Qt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vv(t,e,n,i),e=e.sibling}function Vv(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Qt(t,e,n,i),s&2048&&Jr(9,e);break;case 1:Qt(t,e,n,i);break;case 3:Qt(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&$r(t)));break;case 12:if(s&2048){Qt(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(o){oe(e,e.return,o)}}else Qt(t,e,n,i);break;case 31:Qt(t,e,n,i);break;case 13:Qt(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?Qt(t,e,n,i):lr(t,e):a._visibility&2?Qt(t,e,n,i):(a._visibility|=2,ws(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&ld(r,e);break;case 24:Qt(t,e,n,i),s&2048&&od(e.alternate,e);break;default:Qt(t,e,n,i)}}function ws(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,r=e,l=n,o=i,u=r.flags;switch(r.tag){case 0:case 11:case 15:ws(a,r,l,o,s),Jr(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?ws(a,r,l,o,s):lr(a,r):(h._visibility|=2,ws(a,r,l,o,s)),s&&u&2048&&ld(r.alternate,r);break;case 24:ws(a,r,l,o,s),s&&u&2048&&od(r.alternate,r);break;default:ws(a,r,l,o,s)}e=e.sibling}}function lr(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:lr(n,i),s&2048&&ld(i.alternate,i);break;case 24:lr(n,i),s&2048&&od(i.alternate,i);break;default:lr(n,i)}e=e.sibling}}var Wa=8192;function Es(t,e,n){if(t.subtreeFlags&Wa)for(t=t.child;t!==null;)qv(t,e,n),t=t.sibling}function qv(t,e,n){switch(t.tag){case 26:Es(t,e,n),t.flags&Wa&&t.memoizedState!==null&&uC(n,Kt,t.memoizedState,t.memoizedProps);break;case 5:Es(t,e,n);break;case 3:case 4:var i=Kt;Kt=Io(t.stateNode.containerInfo),Es(t,e,n),Kt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Wa,Wa=16777216,Es(t,e,n),Wa=i):Es(t,e,n));break;default:Es(t,e,n)}}function Gv(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ha(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ve=i,Yv(i,t)}Gv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fv(t),t=t.sibling}function Fv(t){switch(t.tag){case 0:case 11:case 15:Ha(t),t.flags&2048&&wi(9,t,t.return);break;case 3:Ha(t);break;case 12:Ha(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Xl(t)):Ha(t);break;default:Ha(t)}}function Xl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ve=i,Yv(i,t)}Gv(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:wi(8,e,e.return),Xl(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Xl(e));break;default:Xl(e)}t=t.sibling}}function Yv(t,e){for(;Ve!==null;){var n=Ve;switch(n.tag){case 0:case 11:case 15:wi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:$r(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ve=i;else e:for(n=t;Ve!==null;){i=Ve;var s=i.sibling,a=i.return;if(Uv(i),i===n){Ve=null;break e}if(s!==null){s.return=a,Ve=s;break e}Ve=a}}}var CT={getCacheForType:function(t){var e=Ze(Ue),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Ze(Ue).controller.signal}},wT=typeof WeakMap=="function"?WeakMap:Map,ae=0,me=null,W=null,te=0,le=0,St=null,ri=!1,Ea=!1,ud=!1,Hn=0,Re=0,Ai=0,Zi=0,cd=0,Ct=0,aa=0,or=null,ht=null,Of=!1,Au=0,Qv=0,Ao=1/0,No=null,di=null,Be=0,mi=null,ra=null,Dn=0,Df=0,If=null,Kv=null,ur=0,kf=null;function xt(){return ae&2&&te!==0?te&-te:H.T!==null?hd():iy()}function Xv(){if(Ct===0)if(!(te&536870912)||ne){var t=vl;vl<<=1,!(vl&3932160)&&(vl=262144),Ct=t}else Ct=536870912;return t=Mt.current,t!==null&&(t.flags|=32),Ct}function mt(t,e,n){(t===me&&(le===2||le===9)||t.cancelPendingCommit!==null)&&(la(t,0),li(t,te,Ct,!1)),Kr(t,n),(!(ae&2)||t!==me)&&(t===me&&(!(ae&2)&&(Zi|=n),Re===4&&li(t,te,Ct,!1)),dn(t))}function Wv(t,e,n){if(ae&6)throw Error(x(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Qr(t,e),s=i?xT(t,e):Cc(t,e,!0),a=i;do{if(s===0){Ea&&!i&&li(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!AT(n)){s=Cc(t,e,!1),a=!1;continue}if(s===2){if(a=e,t.errorRecoveryDisabledLanes&a)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var l=t;s=or;var o=l.current.memoizedState.isDehydrated;if(o&&(la(l,r).flags|=256),r=Cc(l,r,!1),r!==2){if(ud&&!o){l.errorRecoveryDisabledLanes|=a,Zi|=a,s=4;break e}a=ht,ht=s,a!==null&&(ht===null?ht=a:ht.push.apply(ht,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){la(t,0),li(t,e,0,!0);break}e:{switch(i=t,a=s,a){case 0:case 1:throw Error(x(345));case 4:if((e&4194048)!==e)break;case 6:li(i,e,Ct,!ri);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(x(329))}if((e&62914560)===e&&(s=Au+300-wt(),10<s)){if(li(i,e,Ct,!ri),pu(i,0,!0)!==0)break e;Dn=e,i.timeoutHandle=g0(Up.bind(null,i,n,ht,No,Of,e,Ct,Zi,aa,ri,a,"Throttled",-0,0),s);break e}Up(i,n,ht,No,Of,e,Ct,Zi,aa,ri,a,null,-0,0)}}break}while(!0);dn(t)}function Up(t,e,n,i,s,a,r,l,o,u,h,f,c,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},qv(e,a,f);var _=(a&62914560)===a?Au-wt():(a&4194048)===a?Qv-wt():0;if(_=cC(f,_),_!==null){Dn=a,t.cancelPendingCommit=_(Bp.bind(null,t,e,a,n,i,s,r,l,o,h,f,null,c,m)),li(t,a,r,!u);return}}Bp(t,e,a,n,i,s,r,l,o)}function AT(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!Rt(a(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e,n,i){e&=~cd,e&=~Zi,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var a=31-Nt(s),r=1<<a;i[a]=-1,s&=~r}n!==0&&ey(t,n,e)}function Nu(){return ae&6?!0:(el(0),!1)}function fd(){if(W!==null){if(le===0)var t=W.return;else t=W,An=gs=null,Wh(t),Gs=null,Cr=0,t=W;for(;t!==null;)Rv(t.alternate,t),t=t.return;W=null}}function la(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,YT(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Dn=0,fd(),me=t,W=n=Mn(t.current,null),te=e,le=0,St=null,ri=!1,Ea=Qr(t,e),ud=!1,aa=Ct=cd=Zi=Ai=Re=0,ht=or=null,Of=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-Nt(i),a=1<<s;e|=t[s],i&=~a}return Hn=e,vu(),n}function $v(t,e){Y=null,H.H=Ar,e===Sa||e===Su?(e=mp(),le=3):e===qh?(e=mp(),le=4):le=e===ad?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,St=e,W===null&&(Re=1,To(t,Bt(e,t.current)))}function Zv(){var t=Mt.current;return t===null?!0:(te&4194048)===te?Pt===null:(te&62914560)===te||te&536870912?t===Pt:!1}function Jv(){var t=H.H;return H.H=Ar,t===null?Ar:t}function e0(){var t=H.A;return H.A=CT,t}function xo(){Re=4,ri||(te&4194048)!==te&&Mt.current!==null||(Ea=!0),!(Ai&134217727)&&!(Zi&134217727)||me===null||li(me,te,Ct,!1)}function Cc(t,e,n){var i=ae;ae|=2;var s=Jv(),a=e0();(me!==t||te!==e)&&(No=null,la(t,e)),e=!1;var r=Re;e:do try{if(le!==0&&W!==null){var l=W,o=St;switch(le){case 8:fd(),r=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(e=!0);var u=le;if(le=0,St=null,Bs(t,l,o,u),n&&Ea){r=0;break e}break;default:u=le,le=0,St=null,Bs(t,l,o,u)}}NT(),r=Re;break}catch(h){$v(t,h)}while(!0);return e&&t.shellSuspendCounter++,An=gs=null,ae=i,H.H=s,H.A=a,W===null&&(me=null,te=0,vu()),r}function NT(){for(;W!==null;)t0(W)}function xT(t,e){var n=ae;ae|=2;var i=Jv(),s=e0();me!==t||te!==e?(No=null,Ao=wt()+500,la(t,e)):Ea=Qr(t,e);e:do try{if(le!==0&&W!==null){e=W;var a=St;t:switch(le){case 1:le=0,St=null,Bs(t,e,a,1);break;case 2:case 9:if(dp(a)){le=0,St=null,zp(e);break}e=function(){le!==2&&le!==9||me!==t||(le=7),dn(t)},a.then(e,e);break e;case 3:le=7;break e;case 4:le=5;break e;case 7:dp(a)?(le=0,St=null,zp(e)):(le=0,St=null,Bs(t,e,a,7));break;case 5:var r=null;switch(W.tag){case 26:r=W.memoizedState;case 5:case 27:var l=W;if(r?S0(r):l.stateNode.complete){le=0,St=null;var o=l.sibling;if(o!==null)W=o;else{var u=l.return;u!==null?(W=u,xu(u)):W=null}break t}}le=0,St=null,Bs(t,e,a,5);break;case 6:le=0,St=null,Bs(t,e,a,6);break;case 8:fd(),Re=6;break e;default:throw Error(x(462))}}RT();break}catch(h){$v(t,h)}while(!0);return An=gs=null,H.H=i,H.A=s,ae=n,W!==null?0:(me=null,te=0,vu(),Re)}function RT(){for(;W!==null&&!ZE();)t0(W)}function t0(t){var e=xv(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?xu(t):W=e}function zp(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Mp(n,e,e.pendingProps,e.type,void 0,te);break;case 11:e=Mp(n,e,e.pendingProps,e.type.render,e.ref,te);break;case 5:Wh(e);default:Rv(n,e),e=W=Ry(e,Hn),e=xv(n,e,Hn)}t.memoizedProps=t.pendingProps,e===null?xu(t):W=e}function Bs(t,e,n,i){An=gs=null,Wh(e),Gs=null,Cr=0;var s=e.return;try{if(_T(t,s,e,n,te)){Re=1,To(t,Bt(n,t.current)),W=null;return}}catch(a){if(s!==null)throw W=s,a;Re=1,To(t,Bt(n,t.current)),W=null;return}e.flags&32768?(ne||i===1?t=!0:Ea||te&536870912?t=!1:(ri=t=!0,(i===2||i===9||i===3||i===6)&&(i=Mt.current,i!==null&&i.tag===13&&(i.flags|=16384))),n0(e,t)):xu(e)}function xu(t){var e=t;do{if(e.flags&32768){n0(e,ri);return}t=e.return;var n=bT(e.alternate,e,Hn);if(n!==null){W=n;return}if(e=e.sibling,e!==null){W=e;return}W=e=t}while(e!==null);Re===0&&(Re=5)}function n0(t,e){do{var n=ST(t.alternate,t);if(n!==null){n.flags&=32767,W=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){W=t;return}W=t=n}while(t!==null);Re=6,W=null}function Bp(t,e,n,i,s,a,r,l,o){t.cancelPendingCommit=null;do Ru();while(Be!==0);if(ae&6)throw Error(x(327));if(e!==null){if(e===t.current)throw Error(x(177));if(a=e.lanes|e.childLanes,a|=Uh,o1(t,n,a,r,l,o),t===me&&(W=me=null,te=0),ra=e,mi=t,Dn=n,Df=a,If=s,Kv=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,IT(fo,function(){return l0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=H.T,H.T=null,s=re.p,re.p=2,r=ae,ae|=4;try{ET(t,e,n)}finally{ae=r,re.p=s,H.T=i}}Be=1,i0(),s0(),a0()}}function i0(){if(Be===1){Be=0;var t=mi,e=ra,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=H.T,H.T=null;var i=re.p;re.p=2;var s=ae;ae|=4;try{jv(e,t);var a=Bf,r=Sy(t.containerInfo),l=a.focusedElem,o=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&by(l.ownerDocument.documentElement,l)){if(o!==null&&Lh(l)){var u=o.start,h=o.end;if(h===void 0&&(h=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(h,l.value.length);else{var f=l.ownerDocument||document,c=f&&f.defaultView||window;if(c.getSelection){var m=c.getSelection(),_=l.textContent.length,T=Math.min(o.start,_),C=o.end===void 0?T:Math.min(o.end,_);!m.extend&&T>C&&(r=C,C=T,T=r);var p=rp(l,T),d=rp(l,C);if(p&&d&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==d.node||m.focusOffset!==d.offset)){var g=f.createRange();g.setStart(p.node,p.offset),m.removeAllRanges(),T>C?(m.addRange(g),m.extend(d.node,d.offset)):(g.setEnd(d.node,d.offset),m.addRange(g))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var E=f[l];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}Uo=!!zf,Bf=zf=null}finally{ae=s,re.p=i,H.T=n}}t.current=e,Be=2}}function s0(){if(Be===2){Be=0;var t=mi,e=ra,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=H.T,H.T=null;var i=re.p;re.p=2;var s=ae;ae|=4;try{Lv(t,e.alternate,e)}finally{ae=s,re.p=i,H.T=n}}Be=3}}function a0(){if(Be===4||Be===3){Be=0,JE();var t=mi,e=ra,n=Dn,i=Kv;e.subtreeFlags&10256||e.flags&10256?Be=5:(Be=0,ra=mi=null,r0(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(di=null),xh(n),e=e.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Yr,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=H.T,s=re.p,re.p=2,H.T=null;try{for(var a=t.onRecoverableError,r=0;r<i.length;r++){var l=i[r];a(l.value,{componentStack:l.stack})}}finally{H.T=e,re.p=s}}Dn&3&&Ru(),dn(t),s=t.pendingLanes,n&261930&&s&42?t===kf?ur++:(ur=0,kf=t):ur=0,el(0)}}function r0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,$r(e)))}function Ru(){return i0(),s0(),a0(),l0()}function l0(){if(Be!==5)return!1;var t=mi,e=Df;Df=0;var n=xh(Dn),i=H.T,s=re.p;try{re.p=32>n?32:n,H.T=null,n=If,If=null;var a=mi,r=Dn;if(Be=0,ra=mi=null,Dn=0,ae&6)throw Error(x(331));var l=ae;if(ae|=4,Fv(a.current),Vv(a,a.current,r,n),ae=l,el(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Yr,a)}catch{}return!0}finally{re.p=s,H.T=i,r0(t,e)}}function Hp(t,e,n){e=Bt(n,e),e=Nf(t.stateNode,e,2),t=hi(t,e,2),t!==null&&(Kr(t,2),dn(t))}function oe(t,e,n){if(t.tag===3)Hp(t,t,n);else for(;e!==null;){if(e.tag===3){Hp(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(di===null||!di.has(i))){t=Bt(n,t),n=Ev(2),i=hi(e,n,2),i!==null&&(Tv(n,i,e,t),Kr(i,2),dn(i));break}}e=e.return}}function wc(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new wT;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(ud=!0,s.add(n),t=MT.bind(null,t,e,n),e.then(t,t))}function MT(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,me===t&&(te&n)===n&&(Re===4||Re===3&&(te&62914560)===te&&300>wt()-Au?!(ae&2)&&la(t,0):cd|=n,aa===te&&(aa=0)),dn(t)}function o0(t,e){e===0&&(e=J_()),t=ps(t,e),t!==null&&(Kr(t,e),dn(t))}function OT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),o0(t,n)}function DT(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(x(314))}i!==null&&i.delete(e),o0(t,n)}function IT(t,e){return Ah(t,e)}var Ro=null,As=null,Lf=!1,Mo=!1,Ac=!1,oi=0;function dn(t){t!==As&&t.next===null&&(As===null?Ro=As=t:As=As.next=t),Mo=!0,Lf||(Lf=!0,LT())}function el(t,e){if(!Ac&&Mo){Ac=!0;do for(var n=!1,i=Ro;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,l=i.pingedLanes;a=(1<<31-Nt(42|t)+1)-1,a&=s&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,jp(i,a))}else a=te,a=pu(i,i===me?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Qr(i,a)||(n=!0,jp(i,a));i=i.next}while(n);Ac=!1}}function kT(){u0()}function u0(){Mo=Lf=!1;var t=0;oi!==0&&FT()&&(t=oi);for(var e=wt(),n=null,i=Ro;i!==null;){var s=i.next,a=c0(i,e);a===0?(i.next=null,n===null?Ro=s:n.next=s,s===null&&(As=n)):(n=i,(t!==0||a&3)&&(Mo=!0)),i=s}Be!==0&&Be!==5||el(t),oi!==0&&(oi=0)}function c0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var r=31-Nt(a),l=1<<r,o=s[r];o===-1?(!(l&n)||l&i)&&(s[r]=l1(l,e)):o<=e&&(t.expiredLanes|=l),a&=~l}if(e=me,n=te,n=pu(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(le===2||le===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&ec(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Qr(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&ec(i),xh(n)){case 2:case 8:n=$_;break;case 32:n=fo;break;case 268435456:n=Z_;break;default:n=fo}return i=f0.bind(null,t),n=Ah(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&ec(i),t.callbackPriority=2,t.callbackNode=null,2}function f0(t,e){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ru()&&t.callbackNode!==n)return null;var i=te;return i=pu(t,t===me?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Wv(t,i,e),c0(t,wt()),t.callbackNode!=null&&t.callbackNode===n?f0.bind(null,t):null)}function jp(t,e){if(Ru())return null;Wv(t,e,!0)}function LT(){QT(function(){ae&6?Ah(W_,kT):u0()})}function hd(){if(oi===0){var t=na;t===0&&(t=yl,yl<<=1,!(yl&261888)&&(yl=256)),oi=t}return oi}function Pp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:jl(""+t)}function Vp(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function UT(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var a=Pp((s[gt]||null).action),r=i.submitter;r&&(e=(e=r[gt]||null)?Pp(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var l=new gu("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(oi!==0){var o=r?Vp(s,r):new FormData(s);wf(n,{pending:!0,data:o,method:s.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=r?Vp(s,r):new FormData(s),wf(n,{pending:!0,data:o,method:s.method,action:a},a,o))},currentTarget:s}]})}}for(var Nc=0;Nc<df.length;Nc++){var xc=df[Nc],zT=xc.toLowerCase(),BT=xc[0].toUpperCase()+xc.slice(1);tn(zT,"on"+BT)}tn(Ty,"onAnimationEnd");tn(Cy,"onAnimationIteration");tn(wy,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(eT,"onTransitionRun");tn(tT,"onTransitionStart");tn(nT,"onTransitionCancel");tn(Ay,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nr));function h0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var r=i.length-1;0<=r;r--){var l=i[r],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=u;try{a(s)}catch(h){mo(h)}s.currentTarget=null,a=o}else for(r=0;r<i.length;r++){if(l=i[r],o=l.instance,u=l.currentTarget,l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=u;try{a(s)}catch(h){mo(h)}s.currentTarget=null,a=o}}}}function X(t,e){var n=e[af];n===void 0&&(n=e[af]=new Set);var i=t+"__bubble";n.has(i)||(d0(e,t,2,!1),n.add(i))}function Rc(t,e,n){var i=0;e&&(i|=4),d0(n,t,i,e)}var xl="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[xl]){t[xl]=!0,sy.forEach(function(n){n!=="selectionchange"&&(HT.has(n)||Rc(n,!1,t),Rc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xl]||(e[xl]=!0,Rc("selectionchange",!1,e))}}function d0(t,e,n,i){switch(A0(e)){case 2:var s=dC;break;case 8:s=mC;break;default:s=_d}n=s.bind(null,e,n,t),s=void 0,!cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mc(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var l=i.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=i.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=Rs(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){i=a=r;continue e}l=l.parentNode}}i=i.return}hy(function(){var u=a,h=Oh(n),f=[];e:{var c=Ny.get(t);if(c!==void 0){var m=gu,_=t;switch(t){case"keypress":if(Vl(n)===0)break e;case"keydown":case"keyup":m=D1;break;case"focusin":_="focus",m=ac;break;case"focusout":_="blur",m=ac;break;case"beforeblur":case"afterblur":m=ac;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=L1;break;case Ty:case Cy:case wy:m=T1;break;case Ay:m=z1;break;case"scroll":case"scrollend":m=y1;break;case"wheel":m=H1;break;case"copy":case"cut":case"paste":m=w1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zm;break;case"toggle":case"beforetoggle":m=P1}var T=(e&4)!==0,C=!T&&(t==="scroll"||t==="scrollend"),p=T?c!==null?c+"Capture":null:c;T=[];for(var d=u,g;d!==null;){var E=d;if(g=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||g===null||p===null||(E=vr(d,p),E!=null&&T.push(xr(d,E,g))),C)break;d=d.return}0<T.length&&(c=new m(c,_,null,n,h),f.push({event:c,listeners:T}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",c&&n!==uf&&(_=n.relatedTarget||n.fromElement)&&(Rs(_)||_[ya]))break e;if((m||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?Rs(_):null,_!==null&&(C=Fr(_),T=_.tag,_!==C||T!==5&&T!==27&&T!==6)&&(_=null)):(m=null,_=u),m!==_)){if(T=Wm,E="onMouseLeave",p="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(T=Zm,E="onPointerLeave",p="onPointerEnter",d="pointer"),C=m==null?c:Ka(m),g=_==null?c:Ka(_),c=new T(E,d+"leave",m,n,h),c.target=C,c.relatedTarget=g,E=null,Rs(h)===u&&(T=new T(p,d+"enter",_,n,h),T.target=g,T.relatedTarget=C,E=T),C=E,m&&_)t:{for(T=jT,p=m,d=_,g=0,E=p;E;E=T(E))g++;E=0;for(var w=d;w;w=T(w))E++;for(;0<g-E;)p=T(p),g--;for(;0<E-g;)d=T(d),E--;for(;g--;){if(p===d||d!==null&&p===d.alternate){T=p;break t}p=T(p),d=T(d)}T=null}else T=null;m!==null&&qp(f,c,m,T,!1),_!==null&&C!==null&&qp(f,C,_,T,!0)}}e:{if(c=u?Ka(u):window,m=c.nodeName&&c.nodeName.toLowerCase(),m==="select"||m==="input"&&c.type==="file")var M=np;else if(tp(c))if(yy)M=$1;else{M=X1;var N=K1}else m=c.nodeName,!m||m.toLowerCase()!=="input"||c.type!=="checkbox"&&c.type!=="radio"?u&&Mh(u.elementType)&&(M=np):M=W1;if(M&&(M=M(t,u))){_y(f,M,n,h);break e}N&&N(t,c,u),t==="focusout"&&u&&c.type==="number"&&u.memoizedProps.value!=null&&of(c,"number",c.value)}switch(N=u?Ka(u):window,t){case"focusin":(tp(N)||N.contentEditable==="true")&&(Ds=N,ff=u,er=null);break;case"focusout":er=ff=Ds=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,lp(f,n,h);break;case"selectionchange":if(J1)break;case"keydown":case"keyup":lp(f,n,h)}var A;if(kh)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Os?py(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(my&&n.locale!=="ko"&&(Os||R!=="onCompositionStart"?R==="onCompositionEnd"&&Os&&(A=dy()):(ai=h,Dh="value"in ai?ai.value:ai.textContent,Os=!0)),N=Oo(u,R),0<N.length&&(R=new $m(R,t,null,n,h),f.push({event:R,listeners:N}),A?R.data=A:(A=gy(n),A!==null&&(R.data=A)))),(A=q1?G1(t,n):F1(t,n))&&(R=Oo(u,"onBeforeInput"),0<R.length&&(N=new $m("onBeforeInput","beforeinput",null,n,h),f.push({event:N,listeners:R}),N.data=A)),UT(f,t,u,n,h)}h0(f,e)})}function xr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oo(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=vr(t,n),s!=null&&i.unshift(xr(t,s,a)),s=vr(t,e),s!=null&&i.push(xr(t,s,a))),t.tag===3)return i;t=t.return}return[]}function jT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qp(t,e,n,i,s){for(var a=e._reactName,r=[];n!==null&&n!==i;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===i)break;l!==5&&l!==26&&l!==27||u===null||(o=u,s?(u=vr(n,a),u!=null&&r.unshift(xr(n,u,o))):s||(u=vr(n,a),u!=null&&r.push(xr(n,u,o)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var PT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function Gp(t){return(typeof t=="string"?t:""+t).replace(PT,`
`).replace(VT,"")}function m0(t,e){return e=Gp(e),Gp(t)===e}function ce(t,e,n,i,s,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||ta(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&ta(t,""+i);break;case"className":Sl(t,"class",i);break;case"tabIndex":Sl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(t,n,i);break;case"style":fy(t,i,a);break;case"data":if(e!=="object"){Sl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=jl(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&ce(t,e,"name",s.name,s,null),ce(t,e,"formEncType",s.formEncType,s,null),ce(t,e,"formMethod",s.formMethod,s,null),ce(t,e,"formTarget",s.formTarget,s,null)):(ce(t,e,"encType",s.encType,s,null),ce(t,e,"method",s.method,s,null),ce(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=jl(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=wn);break;case"onScroll":i!=null&&X("scroll",t);break;case"onScrollEnd":i!=null&&X("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(x(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=jl(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":X("beforetoggle",t),X("toggle",t),Hl(t,"popover",i);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Hl(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=g1.get(n)||n,Hl(t,n,i))}}function Uf(t,e,n,i,s,a){switch(n){case"style":fy(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(x(60));t.innerHTML=n}}break;case"children":typeof i=="string"?ta(t,i):(typeof i=="number"||typeof i=="bigint")&&ta(t,""+i);break;case"onScroll":i!=null&&X("scroll",t);break;case"onScrollEnd":i!=null&&X("scrollend",t);break;case"onClick":i!=null&&(t.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ay.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[gt]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Hl(t,n,i)}}}function Je(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":X("error",t),X("load",t);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(x(137,e));default:ce(t,e,a,r,n,null)}}s&&ce(t,e,"srcSet",n.srcSet,n,null),i&&ce(t,e,"src",n.src,n,null);return;case"input":X("invalid",t);var l=a=r=s=null,o=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":r=h;break;case"checked":o=h;break;case"defaultChecked":u=h;break;case"value":a=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(x(137,e));break;default:ce(t,e,i,h,n,null)}}oy(t,a,l,o,u,r,s,!1);return;case"select":X("invalid",t),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":i=l;default:ce(t,e,s,l,n,null)}e=a,n=r,t.multiple=!!i,e!=null?Ps(t,!!i,e,!1):n!=null&&Ps(t,!!i,n,!0);return;case"textarea":X("invalid",t),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":s=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(x(91));break;default:ce(t,e,r,l,n,null)}cy(t,i,s,a);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ce(t,e,o,i,n,null)}return;case"dialog":X("beforetoggle",t),X("toggle",t),X("cancel",t),X("close",t);break;case"iframe":case"object":X("load",t);break;case"video":case"audio":for(i=0;i<Nr.length;i++)X(Nr[i],t);break;case"image":X("error",t),X("load",t);break;case"details":X("toggle",t);break;case"embed":case"source":case"link":X("error",t),X("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(x(137,e));default:ce(t,e,u,i,n,null)}return;default:if(Mh(e)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Uf(t,e,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&ce(t,e,l,i,n,null))}function qT(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,l=null,o=null,u=null,h=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=f;default:i.hasOwnProperty(m)||ce(t,e,m,null,i,f)}}for(var c in i){var m=i[c];if(f=n[c],i.hasOwnProperty(c)&&(m!=null||f!=null))switch(c){case"type":a=m;break;case"name":s=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(x(137,e));break;default:m!==f&&ce(t,e,c,m,i,f)}}lf(t,r,l,o,u,h,a,s);return;case"select":m=r=l=c=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":m=o;default:i.hasOwnProperty(a)||ce(t,e,a,null,i,o)}for(s in i)if(a=i[s],o=n[s],i.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":c=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==o&&ce(t,e,s,a,i,o)}e=l,n=r,i=m,c!=null?Ps(t,!!n,c,!1):!!i!=!!n&&(e!=null?Ps(t,!!n,e,!0):Ps(t,!!n,n?[]:"",!1));return;case"textarea":m=c=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ce(t,e,l,null,i,s)}for(r in i)if(s=i[r],a=n[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":c=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(x(91));break;default:s!==a&&ce(t,e,r,s,i,a)}uy(t,c,m);return;case"option":for(var _ in n)if(c=n[_],n.hasOwnProperty(_)&&c!=null&&!i.hasOwnProperty(_))switch(_){case"selected":t.selected=!1;break;default:ce(t,e,_,null,i,c)}for(o in i)if(c=i[o],m=n[o],i.hasOwnProperty(o)&&c!==m&&(c!=null||m!=null))switch(o){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ce(t,e,o,c,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in n)c=n[T],n.hasOwnProperty(T)&&c!=null&&!i.hasOwnProperty(T)&&ce(t,e,T,null,i,c);for(u in i)if(c=i[u],m=n[u],i.hasOwnProperty(u)&&c!==m&&(c!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(x(137,e));break;default:ce(t,e,u,c,i,m)}return;default:if(Mh(e)){for(var C in n)c=n[C],n.hasOwnProperty(C)&&c!==void 0&&!i.hasOwnProperty(C)&&Uf(t,e,C,void 0,i,c);for(h in i)c=i[h],m=n[h],!i.hasOwnProperty(h)||c===m||c===void 0&&m===void 0||Uf(t,e,h,c,i,m);return}}for(var p in n)c=n[p],n.hasOwnProperty(p)&&c!=null&&!i.hasOwnProperty(p)&&ce(t,e,p,null,i,c);for(f in i)c=i[f],m=n[f],!i.hasOwnProperty(f)||c===m||c==null&&m==null||ce(t,e,f,c,i,m)}function Fp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,r=s.initiatorType,l=s.duration;if(a&&l&&Fp(r)){for(r=0,l=s.responseEnd,i+=1;i<n.length;i++){var o=n[i],u=o.startTime;if(u>l)break;var h=o.transferSize,f=o.initiatorType;h&&Fp(f)&&(o=o.responseEnd,r+=h*(o<l?1:(l-u)/(o-u)))}if(--i,e+=8*(a+r)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zf=null,Bf=null;function Do(t){return t.nodeType===9?t:t.ownerDocument}function Yp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Hf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oc=null;function FT(){var t=window.event;return t&&t.type==="popstate"?t===Oc?!1:(Oc=t,!0):(Oc=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,QT=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(t){return Qp.resolve(null).then(t).catch(KT)}:g0;function KT(t){setTimeout(function(){throw t})}function Oi(t){return t==="head"}function Kp(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),ua(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")cr(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,cr(n);for(var a=n.firstChild;a;){var r=a.nextSibling,l=a.nodeName;a[Xr]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=r}}else n==="body"&&cr(t.ownerDocument.body);n=s}while(n);ua(e)}function Xp(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function jf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":jf(n),Rh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function XT(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Xr])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function WT(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vt(t.nextSibling),t===null))return null;return t}function _0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Vt(t.nextSibling),t===null))return null;return t}function Pf(t){return t.data==="$?"||t.data==="$~"}function Vf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $T(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Vt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var qf=null;function Wp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Vt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function $p(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function y0(t,e,n){switch(e=Do(n),t){case"html":if(t=e.documentElement,!t)throw Error(x(452));return t;case"head":if(t=e.head,!t)throw Error(x(453));return t;case"body":if(t=e.body,!t)throw Error(x(454));return t;default:throw Error(x(451))}}function cr(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Rh(t)}var qt=new Map,Zp=new Set;function Io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gn=re.d;re.d={f:ZT,r:JT,D:eC,C:tC,L:nC,m:iC,X:aC,S:sC,M:rC};function ZT(){var t=Gn.f(),e=Nu();return t||e}function JT(t){var e=va(t);e!==null&&e.tag===5&&e.type==="form"?fv(e):Gn.r(t)}var Ta=typeof document>"u"?null:document;function v0(t,e,n){var i=Ta;if(i&&typeof e=="string"&&e){var s=zt(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Zp.has(s)||(Zp.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),Je(e,"link",t),Ge(e),i.head.appendChild(e)))}}function eC(t){Gn.D(t),v0("dns-prefetch",t,null)}function tC(t,e){Gn.C(t,e),v0("preconnect",t,e)}function nC(t,e,n){Gn.L(t,e,n);var i=Ta;if(i&&t&&e){var s='link[rel="preload"][as="'+zt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+zt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+zt(n.imageSizes)+'"]')):s+='[href="'+zt(t)+'"]';var a=s;switch(e){case"style":a=oa(t);break;case"script":a=Ca(t)}qt.has(a)||(t=Te({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),qt.set(a,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(tl(a))||e==="script"&&i.querySelector(nl(a))||(e=i.createElement("link"),Je(e,"link",t),Ge(e),i.head.appendChild(e)))}}function iC(t,e){Gn.m(t,e);var n=Ta;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+zt(i)+'"][href="'+zt(t)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ca(t)}if(!qt.has(a)&&(t=Te({rel:"modulepreload",href:t},e),qt.set(a,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(nl(a)))return}i=n.createElement("link"),Je(i,"link",t),Ge(i),n.head.appendChild(i)}}}function sC(t,e,n){Gn.S(t,e,n);var i=Ta;if(i&&t){var s=js(i).hoistableStyles,a=oa(t);e=e||"default";var r=s.get(a);if(!r){var l={loading:0,preload:null};if(r=i.querySelector(tl(a)))l.loading=5;else{t=Te({rel:"stylesheet",href:t,"data-precedence":e},n),(n=qt.get(a))&&md(t,n);var o=r=i.createElement("link");Ge(o),Je(o,"link",t),o._p=new Promise(function(u,h){o.onload=u,o.onerror=h}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Wl(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(a,r)}}}function aC(t,e){Gn.X(t,e);var n=Ta;if(n&&t){var i=js(n).hoistableScripts,s=Ca(t),a=i.get(s);a||(a=n.querySelector(nl(s)),a||(t=Te({src:t,async:!0},e),(e=qt.get(s))&&pd(t,e),a=n.createElement("script"),Ge(a),Je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function rC(t,e){Gn.M(t,e);var n=Ta;if(n&&t){var i=js(n).hoistableScripts,s=Ca(t),a=i.get(s);a||(a=n.querySelector(nl(s)),a||(t=Te({src:t,async:!0,type:"module"},e),(e=qt.get(s))&&pd(t,e),a=n.createElement("script"),Ge(a),Je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function Jp(t,e,n,i){var s=(s=ui.current)?Io(s):null;if(!s)throw Error(x(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=oa(n.href),n=js(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=oa(n.href);var a=js(s).hoistableStyles,r=a.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,r),(a=s.querySelector(tl(t)))&&!a._p&&(r.instance=a,r.state.loading=5),qt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qt.set(t,n),a||lC(s,t,n,r.state))),e&&i===null)throw Error(x(528,""));return r}if(e&&i!==null)throw Error(x(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ca(n),n=js(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(x(444,t))}}function oa(t){return'href="'+zt(t)+'"'}function tl(t){return'link[rel="stylesheet"]['+t+"]"}function b0(t){return Te({},t,{"data-precedence":t.precedence,precedence:null})}function lC(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Je(e,"link",n),Ge(e),t.head.appendChild(e))}function Ca(t){return'[src="'+zt(t)+'"]'}function nl(t){return"script[async]"+t}function eg(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+zt(n.href)+'"]');if(i)return e.instance=i,Ge(i),i;var s=Te({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ge(i),Je(i,"style",s),Wl(i,n.precedence,t),e.instance=i;case"stylesheet":s=oa(n.href);var a=t.querySelector(tl(s));if(a)return e.state.loading|=4,e.instance=a,Ge(a),a;i=b0(n),(s=qt.get(s))&&md(i,s),a=(t.ownerDocument||t).createElement("link"),Ge(a);var r=a;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Je(a,"link",i),e.state.loading|=4,Wl(a,n.precedence,t),e.instance=a;case"script":return a=Ca(n.src),(s=t.querySelector(nl(a)))?(e.instance=s,Ge(s),s):(i=n,(s=qt.get(a))&&(i=Te({},n),pd(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),Ge(s),Je(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(x(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Wl(i,n.precedence,t));return e.instance}function Wl(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var l=i[r];if(l.dataset.precedence===e)a=l;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function md(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function pd(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var $l=null;function tg(t,e,n){if($l===null){var i=new Map,s=$l=new Map;s.set(n,i)}else s=$l,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[Xr]||a[We]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=t+r;var l=i.get(r);l?l.push(a):i.set(r,[a])}}return i}function ng(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function oC(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function S0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function uC(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=oa(i.href),a=e.querySelector(tl(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=ko.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Ge(a);return}a=e.ownerDocument||e,i=b0(i),(s=qt.get(s))&&md(i,s),a=a.createElement("link"),Ge(a);var r=a;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Je(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=ko.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Dc=0;function cC(t,e){return t.stylesheets&&t.count===0&&Zl(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Zl(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Dc===0&&(Dc=62500*GT());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zl(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Dc?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function ko(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lo=null;function Zl(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lo=new Map,e.forEach(fC,t),Lo=null,ko.call(t))}function fC(t,e){if(!(e.state.loading&4)){var n=Lo.get(t);if(n)var i=n.get(null);else{n=new Map,Lo.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),a=n.get(r)||i,a===i&&n.set(null,s),n.set(r,s),this.count++,i=ko.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Rr={$$typeof:Cn,Provider:null,Consumer:null,_currentValue:Ki,_currentValue2:Ki,_threadCount:0};function hC(t,e,n,i,s,a,r,l,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.hiddenUpdates=tc(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function E0(t,e,n,i,s,a,r,l,o,u,h,f){return t=new hC(t,e,n,r,o,u,h,f,l),e=1,a===!0&&(e|=24),a=Tt(3,null,null,e),t.current=a,a.stateNode=t,e=Ph(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},Gh(a),t}function T0(t){return t?(t=Ls,t):Ls}function C0(t,e,n,i,s,a){s=T0(s),i.context===null?i.context=s:i.pendingContext=s,i=fi(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=hi(t,i,e),n!==null&&(mt(n,t,e),nr(n,t,e))}function ig(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gd(t,e){ig(t,e),(t=t.alternate)&&ig(t,e)}function w0(t){if(t.tag===13||t.tag===31){var e=ps(t,67108864);e!==null&&mt(e,t,67108864),gd(t,67108864)}}function sg(t){if(t.tag===13||t.tag===31){var e=xt();e=Nh(e);var n=ps(t,e);n!==null&&mt(n,t,e),gd(t,e)}}var Uo=!0;function dC(t,e,n,i){var s=H.T;H.T=null;var a=re.p;try{re.p=2,_d(t,e,n,i)}finally{re.p=a,H.T=s}}function mC(t,e,n,i){var s=H.T;H.T=null;var a=re.p;try{re.p=8,_d(t,e,n,i)}finally{re.p=a,H.T=s}}function _d(t,e,n,i){if(Uo){var s=Gf(i);if(s===null)Mc(t,e,i,zo,n),ag(t,i);else if(gC(s,t,e,n,i))i.stopPropagation();else if(ag(t,i),e&4&&-1<pC.indexOf(t)){for(;s!==null;){var a=va(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Bi(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-Nt(r);l.entanglements[1]|=o,r&=~o}dn(a),!(ae&6)&&(Ao=wt()+500,el(0))}}break;case 31:case 13:l=ps(a,2),l!==null&&mt(l,a,2),Nu(),gd(a,2)}if(a=Gf(i),a===null&&Mc(t,e,i,zo,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Mc(t,e,i,null,n)}}function Gf(t){return t=Oh(t),yd(t)}var zo=null;function yd(t){if(zo=null,t=Rs(t),t!==null){var e=Fr(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=F_(e),t!==null)return t;t=null}else if(n===31){if(t=Y_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return zo=t,null}function A0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(e1()){case W_:return 2;case $_:return 8;case fo:case t1:return 32;case Z_:return 268435456;default:return 32}default:return 32}}var Ff=!1,pi=null,gi=null,_i=null,Mr=new Map,Or=new Map,ei=[],pC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ag(t,e){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Mr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(e.pointerId)}}function ja(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=va(e),e!==null&&w0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function gC(t,e,n,i,s){switch(e){case"focusin":return pi=ja(pi,t,e,n,i,s),!0;case"dragenter":return gi=ja(gi,t,e,n,i,s),!0;case"mouseover":return _i=ja(_i,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return Mr.set(a,ja(Mr.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Or.set(a,ja(Or.get(a)||null,t,e,n,i,s)),!0}return!1}function N0(t){var e=Rs(t.target);if(e!==null){var n=Fr(e);if(n!==null){if(e=n.tag,e===13){if(e=F_(n),e!==null){t.blockedOn=e,qm(t.priority,function(){sg(n)});return}}else if(e===31){if(e=Y_(n),e!==null){t.blockedOn=e,qm(t.priority,function(){sg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gf(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);uf=i,n.target.dispatchEvent(i),uf=null}else return e=va(n),e!==null&&w0(e),t.blockedOn=n,!1;e.shift()}return!0}function rg(t,e,n){Jl(t)&&n.delete(e)}function _C(){Ff=!1,pi!==null&&Jl(pi)&&(pi=null),gi!==null&&Jl(gi)&&(gi=null),_i!==null&&Jl(_i)&&(_i=null),Mr.forEach(rg),Or.forEach(rg)}function Rl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ff||(Ff=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,_C)))}var Ml=null;function lg(t){Ml!==t&&(Ml=t,je.unstable_scheduleCallback(je.unstable_NormalPriority,function(){Ml===t&&(Ml=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(yd(i||n)===null)continue;break}var a=va(n);a!==null&&(t.splice(e,3),e-=3,wf(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function ua(t){function e(o){return Rl(o,t)}pi!==null&&Rl(pi,t),gi!==null&&Rl(gi,t),_i!==null&&Rl(_i,t),Mr.forEach(e),Or.forEach(e);for(var n=0;n<ei.length;n++){var i=ei[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<ei.length&&(n=ei[0],n.blockedOn===null);)N0(n),n.blockedOn===null&&ei.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],r=s[gt]||null;if(typeof a=="function")r||lg(n);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[gt]||null)l=r.formAction;else if(yd(s)!==null)continue}else l=r.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),lg(n)}}}function x0(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function vd(t){this._internalRoot=t}Mu.prototype.render=vd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));var n=e.current,i=xt();C0(n,i,t,e,null,null)};Mu.prototype.unmount=vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;C0(t.current,2,null,t,null,null),Nu(),e[ya]=null}};function Mu(t){this._internalRoot=t}Mu.prototype.unstable_scheduleHydration=function(t){if(t){var e=iy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ei.length&&e!==0&&e<ei[n].priority;n++);ei.splice(n,0,t),n===0&&N0(t)}};var og=q_.version;if(og!=="19.2.1")throw Error(x(527,og,"19.2.1"));re.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=QE(e),t=t!==null?Q_(t):null,t=t===null?null:t.stateNode,t};var yC={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{Yr=Ol.inject(yC),At=Ol}catch{}}du.createRoot=function(t,e){if(!G_(t))throw Error(x(299));var n=!1,i="",s=vv,a=bv,r=Sv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=E0(t,1,!1,null,null,n,i,null,s,a,r,x0),t[ya]=e.current,dd(t),new vd(e)};du.hydrateRoot=function(t,e,n){if(!G_(t))throw Error(x(299));var i=!1,s="",a=vv,r=bv,l=Sv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),e=E0(t,1,!0,e,n??null,i,s,o,a,r,l,x0),e.context=T0(null),n=e.current,i=xt(),i=Nh(i),s=fi(i),s.callback=null,hi(n,s,i),n=i,e.current.lanes=n,Kr(e,n),dn(e),t[ya]=e.current,dd(t),new Mu(e)};du.version="19.2.1";function R0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R0)}catch(t){console.error(t)}}R0(),z_.exports=du;var vC=z_.exports;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ug="popstate";function bC(t={}){function e(s,a){let{pathname:r="/",search:l="",hash:o=""}=_s(s.location.hash.substring(1));return!r.startsWith("/")&&!r.startsWith(".")&&(r="/"+r),Yf("",{pathname:r,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let r=s.document.querySelector("base"),l="";if(r&&r.getAttribute("href")){let o=s.location.href,u=o.indexOf("#");l=u===-1?o:o.slice(0,u)}return l+"#"+(typeof a=="string"?a:Dr(a))}function i(s,a){Gt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return EC(e,n,i,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SC(){return Math.random().toString(36).substring(2,10)}function cg(t,e){return{usr:t.state,key:t.key,idx:e}}function Yf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_s(e):e,state:n,key:e&&e.key||i||SC()}}function Dr({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function EC(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,r=s.history,l="POP",o=null,u=h();u==null&&(u=0,r.replaceState({...r.state,idx:u},""));function h(){return(r.state||{idx:null}).idx}function f(){l="POP";let C=h(),p=C==null?null:C-u;u=C,o&&o({action:l,location:T.location,delta:p})}function c(C,p){l="PUSH";let d=Yf(T.location,C,p);n&&n(d,C),u=h()+1;let g=cg(d,u),E=T.createHref(d);try{r.pushState(g,"",E)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(E)}a&&o&&o({action:l,location:T.location,delta:1})}function m(C,p){l="REPLACE";let d=Yf(T.location,C,p);n&&n(d,C),u=h();let g=cg(d,u),E=T.createHref(d);r.replaceState(g,"",E),a&&o&&o({action:l,location:T.location,delta:0})}function _(C){return TC(C)}let T={get action(){return l},get location(){return t(s,r)},listen(C){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(ug,f),o=C,()=>{s.removeEventListener(ug,f),o=null}},createHref(C){return e(s,C)},createURL:_,encodeLocation(C){let p=_(C);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:c,replace:m,go(C){return r.go(C)}};return T}function TC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),we(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Dr(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function M0(t,e,n="/"){return CC(t,e,n,!1)}function CC(t,e,n,i){let s=typeof e=="string"?_s(e):e,a=jn(s.pathname||"/",n);if(a==null)return null;let r=O0(t);wC(r);let l=null;for(let o=0;l==null&&o<r.length;++o){let u=UC(a);l=kC(r[o],u,i)}return l}function O0(t,e=[],n=[],i="",s=!1){let a=(r,l,o=s,u)=>{let h={relativePath:u===void 0?r.path||"":u,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&o)return;we(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let f=In([i,h.relativePath]),c=n.concat(h);r.children&&r.children.length>0&&(we(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),O0(r.children,e,c,f,o)),!(r.path==null&&!r.index)&&e.push({path:f,score:DC(f,r.index),routesMeta:c})};return t.forEach((r,l)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))a(r,l);else for(let u of D0(r.path))a(r,l,!0,u)}),e}function D0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let r=D0(i.join("/")),l=[];return l.push(...r.map(o=>o===""?a:[a,o].join("/"))),s&&l.push(...r),l.map(o=>t.startsWith("/")&&o===""?"/":o)}function wC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var AC=/^:[\w-]+$/,NC=3,xC=2,RC=1,MC=10,OC=-2,fg=t=>t==="*";function DC(t,e){let n=t.split("/"),i=n.length;return n.some(fg)&&(i+=OC),e&&(i+=xC),n.filter(s=>!fg(s)).reduce((s,a)=>s+(AC.test(a)?NC:a===""?RC:MC),i)}function IC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function kC(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",r=[];for(let l=0;l<i.length;++l){let o=i[l],u=l===i.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=Bo({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},h),c=o.route;if(!f&&u&&n&&!i[i.length-1].route.index&&(f=Bo({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),r.push({params:s,pathname:In([a,f.pathname]),pathnameBase:PC(In([a,f.pathnameBase])),route:c}),f.pathnameBase!=="/"&&(a=In([a,f.pathnameBase]))}return r}function Bo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=LC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:f},c)=>{if(h==="*"){let _=l[c]||"";r=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const m=l[c];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:r,pattern:t}}function LC(t,e=!1,n=!0){Gt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,o)=>(i.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function UC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var zC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BC=t=>zC.test(t);function HC(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?_s(t):t,a;if(n)if(BC(n))a=n;else{if(n.includes("//")){let r=n;n=n.replace(/\/\/+/g,"/"),Gt(!1,`Pathnames cannot have embedded double slashes - normalizing ${r} -> ${n}`)}n.startsWith("/")?a=hg(n.substring(1),"/"):a=hg(n,e)}else a=e;return{pathname:a,search:VC(i),hash:qC(s)}}function hg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ic(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I0(t){let e=jC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function k0(t,e,n,i=!1){let s;typeof t=="string"?s=_s(t):(s={...t},we(!s.pathname||!s.pathname.includes("?"),Ic("?","pathname","search",s)),we(!s.pathname||!s.pathname.includes("#"),Ic("#","pathname","hash",s)),we(!s.search||!s.search.includes("#"),Ic("#","search","hash",s)));let a=t===""||s.pathname==="",r=a?"/":s.pathname,l;if(r==null)l=n;else{let f=e.length-1;if(!i&&r.startsWith("..")){let c=r.split("/");for(;c[0]==="..";)c.shift(),f-=1;s.pathname=c.join("/")}l=f>=0?e[f]:"/"}let o=HC(s,l),u=r&&r!=="/"&&r.endsWith("/"),h=(a||r===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||h)&&(o.pathname+="/"),o}var In=t=>t.join("/").replace(/\/\/+/g,"/"),PC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function FC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L0=["POST","PUT","PATCH","DELETE"];new Set(L0);var YC=["GET",...L0];new Set(YC);var wa=v.createContext(null);wa.displayName="DataRouter";var Ou=v.createContext(null);Ou.displayName="DataRouterState";v.createContext(!1);var U0=v.createContext({isTransitioning:!1});U0.displayName="ViewTransition";var QC=v.createContext(new Map);QC.displayName="Fetchers";var KC=v.createContext(null);KC.displayName="Await";var nn=v.createContext(null);nn.displayName="Navigation";var il=v.createContext(null);il.displayName="Location";var Fn=v.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var bd=v.createContext(null);bd.displayName="RouteError";function XC(t,{relative:e}={}){we(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=v.useContext(nn),{hash:s,pathname:a,search:r}=al(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:In([n,a])),i.createHref({pathname:l,search:r,hash:s})}function sl(){return v.useContext(il)!=null}function Di(){return we(sl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(il).location}var z0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B0(t){v.useContext(nn).static||v.useLayoutEffect(t)}function H0(){let{isDataRoute:t}=v.useContext(Fn);return t?ow():WC()}function WC(){we(sl(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(wa),{basename:e,navigator:n}=v.useContext(nn),{matches:i}=v.useContext(Fn),{pathname:s}=Di(),a=JSON.stringify(I0(i)),r=v.useRef(!1);return B0(()=>{r.current=!0}),v.useCallback((o,u={})=>{if(Gt(r.current,z0),!r.current)return;if(typeof o=="number"){n.go(o);return}let h=k0(o,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:In([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,a,s,t])}v.createContext(null);function al(t,{relative:e}={}){let{matches:n}=v.useContext(Fn),{pathname:i}=Di(),s=JSON.stringify(I0(n));return v.useMemo(()=>k0(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function $C(t,e){return j0(t,e)}function j0(t,e,n,i,s){var d;we(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(nn),{matches:r}=v.useContext(Fn),l=r[r.length-1],o=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let g=f&&f.path||"";P0(u,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let c=Di(),m;if(e){let g=typeof e=="string"?_s(e):e;we(h==="/"||((d=g.pathname)==null?void 0:d.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${g.pathname}" was given in the \`location\` prop.`),m=g}else m=c;let _=m.pathname||"/",T=_;if(h!=="/"){let g=h.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(g.length).join("/")}let C=M0(t,{pathname:T});Gt(f||C!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Gt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=nw(C&&C.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:In([h,a.encodeLocation?a.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?h:In([h,a.encodeLocation?a.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),r,n,i,s);return e&&p?v.createElement(il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},p):p}function ZC(){let t=lw(),e=GC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",t),r=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,r)}var JC=v.createElement(ZC,null),ew=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(Fn.Provider,{value:this.props.routeContext},v.createElement(bd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tw({routeContext:t,match:e,children:n}){let i=v.useContext(wa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(Fn.Provider,{value:t},n)}function nw(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,r=n==null?void 0:n.errors;if(r!=null){let h=a.findIndex(f=>f.route.id&&(r==null?void 0:r[f.route.id])!==void 0);we(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,o=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=h),f.route.id){let{loaderData:c,errors:m}=n,_=f.route.loader&&!c.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||_){l=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}let u=n&&i?(h,f)=>{var c,m;i(h,{location:n.location,params:((m=(c=n.matches)==null?void 0:c[0])==null?void 0:m.params)??{},unstable_pattern:FC(n.matches),errorInfo:f})}:void 0;return a.reduceRight((h,f,c)=>{let m,_=!1,T=null,C=null;n&&(m=r&&f.route.id?r[f.route.id]:void 0,T=f.route.errorElement||JC,l&&(o<0&&c===0?(P0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):o===c&&(_=!0,C=f.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,c+1)),d=()=>{let g;return m?g=T:_?g=C:f.route.Component?g=v.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=h,v.createElement(tw,{match:f,routeContext:{outlet:h,matches:p,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||c===0)?v.createElement(ew,{location:n.location,revalidation:n.revalidation,component:T,error:m,children:d(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:u}):d()},null)}function Sd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iw(t){let e=v.useContext(wa);return we(e,Sd(t)),e}function sw(t){let e=v.useContext(Ou);return we(e,Sd(t)),e}function aw(t){let e=v.useContext(Fn);return we(e,Sd(t)),e}function Ed(t){let e=aw(t),n=e.matches[e.matches.length-1];return we(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function rw(){return Ed("useRouteId")}function lw(){var i;let t=v.useContext(bd),e=sw("useRouteError"),n=Ed("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function ow(){let{router:t}=iw("useNavigate"),e=Ed("useNavigate"),n=v.useRef(!1);return B0(()=>{n.current=!0}),v.useCallback(async(s,a={})=>{Gt(n.current,z0),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var dg={};function P0(t,e,n){!e&&!dg[t]&&(dg[t]=!0,Gt(!1,n))}v.memo(uw);function uw({routes:t,future:e,state:n,unstable_onError:i}){return j0(t,void 0,n,i,e)}function Qf(t){we(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cw({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:r}){we(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),o=v.useMemo(()=>({basename:l,navigator:s,static:a,unstable_useTransitions:r,future:{}}),[l,s,a,r]);typeof n=="string"&&(n=_s(n));let{pathname:u="/",search:h="",hash:f="",state:c=null,key:m="default"}=n,_=v.useMemo(()=>{let T=jn(u,l);return T==null?null:{location:{pathname:T,search:h,hash:f,state:c,key:m},navigationType:i}},[l,u,h,f,c,m,i]);return Gt(_!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:v.createElement(nn.Provider,{value:o},v.createElement(il.Provider,{children:e,value:_}))}function fw({children:t,location:e}){return $C(Kf(t),e)}function Kf(t,e=[]){let n=[];return v.Children.forEach(t,(i,s)=>{if(!v.isValidElement(i))return;let a=[...e,s];if(i.type===v.Fragment){n.push.apply(n,Kf(i.props.children,a));return}we(i.type===Qf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),we(!i.props.index||!i.props.children,"An index route cannot have child routes.");let r={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(r.children=Kf(i.props.children,a)),n.push(r)}),n}var eo="get",to="application/x-www-form-urlencoded";function Du(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function hw(t){return Du(t)&&t.tagName.toLowerCase()==="button"}function dw(t){return Du(t)&&t.tagName.toLowerCase()==="form"}function mw(t){return Du(t)&&t.tagName.toLowerCase()==="input"}function pw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gw(t,e){return t.button===0&&(!e||e==="_self")&&!pw(t)}var Dl=null;function _w(){if(Dl===null)try{new FormData(document.createElement("form"),0),Dl=!1}catch{Dl=!0}return Dl}var yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kc(t){return t!=null&&!yw.has(t)?(Gt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${to}"`),null):t}function vw(t,e){let n,i,s,a,r;if(dw(t)){let l=t.getAttribute("action");i=l?jn(l,e):null,n=t.getAttribute("method")||eo,s=kc(t.getAttribute("enctype"))||to,a=new FormData(t)}else if(hw(t)||mw(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||l.getAttribute("action");if(i=o?jn(o,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||eo,s=kc(t.getAttribute("formenctype"))||kc(l.getAttribute("enctype"))||to,a=new FormData(l,t),!_w()){let{name:u,type:h,value:f}=t;if(h==="image"){let c=u?`${u}.`:"";a.append(`${c}x`,"0"),a.append(`${c}y`,"0")}else u&&a.append(u,f)}}else{if(Du(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eo,i=null,s=to,r=t}return a&&s==="text/plain"&&(r=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Td(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bw(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&jn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Sw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ew(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Tw(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let r=await Sw(a,n);return r.links?r.links():[]}return[]}));return Nw(i.flat(1).filter(Ew).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function mg(t,e,n,i,s,a){let r=(o,u)=>n[u]?o.route.id!==n[u].route.id:!0,l=(o,u)=>{var h;return n[u].pathname!==o.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==o.params["*"]};return a==="assets"?e.filter((o,u)=>r(o,u)||l(o,u)):a==="data"?e.filter((o,u)=>{var f;let h=i.routes[o.route.id];if(!h||!h.hasLoader)return!1;if(r(o,u)||l(o,u))return!0;if(o.route.shouldRevalidate){let c=o.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof c=="boolean")return c}return!0}):[]}function Cw(t,e,{includeHydrateFallback:n}={}){return ww(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function ww(t){return[...new Set(t)]}function Aw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Nw(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(Aw(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function V0(){let t=v.useContext(wa);return Td(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function xw(){let t=v.useContext(Ou);return Td(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cd=v.createContext(void 0);Cd.displayName="FrameworkContext";function q0(){let t=v.useContext(Cd);return Td(t,"You must render this element inside a <HydratedRouter> element"),t}function Rw(t,e){let n=v.useContext(Cd),[i,s]=v.useState(!1),[a,r]=v.useState(!1),{onFocus:l,onBlur:o,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,c=v.useRef(null);v.useEffect(()=>{if(t==="render"&&r(!0),t==="viewport"){let T=p=>{p.forEach(d=>{r(d.isIntersecting)})},C=new IntersectionObserver(T,{threshold:.5});return c.current&&C.observe(c.current),()=>{C.disconnect()}}},[t]),v.useEffect(()=>{if(i){let T=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(T)}}},[i]);let m=()=>{s(!0)},_=()=>{s(!1),r(!1)};return n?t!=="intent"?[a,c,{}]:[a,c,{onFocus:Pa(l,m),onBlur:Pa(o,_),onMouseEnter:Pa(u,m),onMouseLeave:Pa(h,_),onTouchStart:Pa(f,m)}]:[!1,c,{}]}function Pa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Mw({page:t,...e}){let{router:n}=V0(),i=v.useMemo(()=>M0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?v.createElement(Dw,{page:t,matches:i,...e}):null}function Ow(t){let{manifest:e,routeModules:n}=q0(),[i,s]=v.useState([]);return v.useEffect(()=>{let a=!1;return Tw(t,e,n).then(r=>{a||s(r)}),()=>{a=!0}},[t,e,n]),i}function Dw({page:t,matches:e,...n}){let i=Di(),{manifest:s,routeModules:a}=q0(),{basename:r}=V0(),{loaderData:l,matches:o}=xw(),u=v.useMemo(()=>mg(t,e,o,s,i,"data"),[t,e,o,s,i]),h=v.useMemo(()=>mg(t,e,o,s,i,"assets"),[t,e,o,s,i]),f=v.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let _=new Set,T=!1;if(e.forEach(p=>{var g;let d=s.routes[p.route.id];!d||!d.hasLoader||(!u.some(E=>E.route.id===p.route.id)&&p.route.id in l&&((g=a[p.route.id])!=null&&g.shouldRevalidate)||d.hasClientLoader?T=!0:_.add(p.route.id))}),_.size===0)return[];let C=bw(t,r,"data");return T&&_.size>0&&C.searchParams.set("_routes",e.filter(p=>_.has(p.route.id)).map(p=>p.route.id).join(",")),[C.pathname+C.search]},[r,l,i,s,u,e,t,a]),c=v.useMemo(()=>Cw(h,s),[h,s]),m=Ow(h);return v.createElement(v.Fragment,null,f.map(_=>v.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),c.map(_=>v.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),m.map(({key:_,link:T})=>v.createElement("link",{key:_,nonce:n.nonce,...T})))}function Iw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var G0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G0&&(window.__reactRouterVersion="7.10.1")}catch{}function kw({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=v.useRef();s.current==null&&(s.current=bC({window:i,v5Compat:!0}));let a=s.current,[r,l]=v.useState({action:a.action,location:a.location}),o=v.useCallback(u=>{n===!1?l(u):v.startTransition(()=>l(u))},[n]);return v.useLayoutEffect(()=>a.listen(o),[a,o]),v.createElement(cw,{basename:t,children:e,location:r.location,navigationType:r.action,navigator:a,unstable_useTransitions:n===!0})}var F0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ho=v.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:r,state:l,target:o,to:u,preventScrollReset:h,viewTransition:f,...c},m){let{basename:_,unstable_useTransitions:T}=v.useContext(nn),C=typeof u=="string"&&F0.test(u),p,d=!1;if(typeof u=="string"&&C&&(p=u,G0))try{let D=new URL(window.location.href),U=u.startsWith("//")?new URL(D.protocol+u):new URL(u),ue=jn(U.pathname,_);U.origin===D.origin&&ue!=null?u=ue+U.search+U.hash:d=!0}catch{Gt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=XC(u,{relative:s}),[E,w,M]=Rw(i,c),N=Bw(u,{replace:r,state:l,target:o,preventScrollReset:h,relative:s,viewTransition:f,unstable_useTransitions:T});function A(D){e&&e(D),D.defaultPrevented||N(D)}let R=v.createElement("a",{...c,...M,href:p||g,onClick:d||a?e:A,ref:Iw(m,w),target:o,"data-discover":!C&&n==="render"?"true":void 0});return E&&!C?v.createElement(v.Fragment,null,R,v.createElement(Mw,{page:g})):R});Ho.displayName="Link";var Lw=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:r,viewTransition:l,children:o,...u},h){let f=al(r,{relative:u.relative}),c=Di(),m=v.useContext(Ou),{navigator:_,basename:T}=v.useContext(nn),C=m!=null&&qw(f)&&l===!0,p=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,d=c.pathname,g=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(d=d.toLowerCase(),g=g?g.toLowerCase():null,p=p.toLowerCase()),g&&T&&(g=jn(g,T)||g);const E=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let w=d===p||!s&&d.startsWith(p)&&d.charAt(E)==="/",M=g!=null&&(g===p||!s&&g.startsWith(p)&&g.charAt(p.length)==="/"),N={isActive:w,isPending:M,isTransitioning:C},A=w?e:void 0,R;typeof i=="function"?R=i(N):R=[i,w?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(N):a;return v.createElement(Ho,{...u,"aria-current":A,className:R,ref:h,style:D,to:r,viewTransition:l},typeof o=="function"?o(N):o)});Lw.displayName="NavLink";var Uw=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:r=eo,action:l,onSubmit:o,relative:u,preventScrollReset:h,viewTransition:f,...c},m)=>{let{unstable_useTransitions:_}=v.useContext(nn),T=Pw(),C=Vw(l,{relative:u}),p=r.toLowerCase()==="get"?"get":"post",d=typeof l=="string"&&F0.test(l),g=E=>{if(o&&o(E),E.defaultPrevented)return;E.preventDefault();let w=E.nativeEvent.submitter,M=(w==null?void 0:w.getAttribute("formmethod"))||r,N=()=>T(w||E.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:s,state:a,relative:u,preventScrollReset:h,viewTransition:f});_&&n!==!1?v.startTransition(()=>N()):N()};return v.createElement("form",{ref:m,method:p,action:C,onSubmit:i?o:g,...c,"data-discover":!d&&t==="render"?"true":void 0})});Uw.displayName="Form";function zw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y0(t){let e=v.useContext(wa);return we(e,zw(t)),e}function Bw(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_useTransitions:l}={}){let o=H0(),u=Di(),h=al(t,{relative:a});return v.useCallback(f=>{if(gw(f,e)){f.preventDefault();let c=n!==void 0?n:Dr(u)===Dr(h),m=()=>o(t,{replace:c,state:i,preventScrollReset:s,relative:a,viewTransition:r});l?v.startTransition(()=>m()):m()}},[u,o,h,n,i,e,t,s,a,r,l])}var Hw=0,jw=()=>`__${String(++Hw)}__`;function Pw(){let{router:t}=Y0("useSubmit"),{basename:e}=v.useContext(nn),n=rw(),i=t.fetch,s=t.navigate;return v.useCallback(async(a,r={})=>{let{action:l,method:o,encType:u,formData:h,body:f}=vw(a,e);if(r.navigate===!1){let c=r.fetcherKey||jw();await i(c,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||u,flushSync:r.flushSync})}else await s(r.action||l,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,s,e,n])}function Vw(t,{relative:e}={}){let{basename:n}=v.useContext(nn),i=v.useContext(Fn);we(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...al(t||".",{relative:e})},r=Di();if(t==null){a.search=r.search;let l=new URLSearchParams(a.search),o=l.getAll("index");if(o.some(h=>h==="")){l.delete("index"),o.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:In([n,a.pathname])),Dr(a)}function qw(t,{relative:e}={}){let n=v.useContext(U0);we(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Y0("useViewTransitionState"),s=al(t,{relative:e});if(!n.isTransitioning)return!1;let a=jn(n.currentLocation.pathname,i)||n.currentLocation.pathname,r=jn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Bo(s.pathname,r)!=null||Bo(s.pathname,a)!=null}const Gw="modulepreload",Fw=function(t){return"/shopping-spree/"+t},pg={},Q0=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(o=>{if(o=Fw(o),o in pg)return;pg[o]=!0;const u=o.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Gw,u||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((c,m)=>{f.addEventListener("load",c),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return s.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Yw=()=>{};var gg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw Aa(e)},Aa=function(t){return new Error("Firebase Database ("+K0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Qw=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],r=t[n++],l=t[n++],o=((s&7)<<18|(a&63)<<12|(r&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(o&1023))}else{const a=t[n++],r=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|r&63)}}return e.join("")},wd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],r=s+1<t.length,l=r?t[s+1]:0,o=s+2<t.length,u=o?t[s+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let c=(l&15)<<2|u>>6,m=u&63;o||(m=64,r||(c=64)),i.push(n[h],n[f],n[c],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(X0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||l==null||u==null||f==null)throw new Kw;const c=a<<2|l>>4;if(i.push(c),u!==64){const m=l<<4&240|u>>2;if(i.push(m),f!==64){const _=u<<6&192|f;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Kw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W0=function(t){const e=X0(t);return wd.encodeByteArray(e,!0)},jo=function(t){return W0(t).replace(/\./g,"")},Po=function(t){try{return wd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t){return $0(void 0,t)}function $0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Ww(n)||(t[n]=$0(t[n],e[n]));return t}function Ww(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=()=>$w().__FIREBASE_DEFAULTS__,Jw=()=>{if(typeof process>"u"||typeof gg>"u")return;const t=gg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Po(t[1]);return e&&JSON.parse(e)},Ad=()=>{try{return Yw()||Zw()||Jw()||eA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z0=t=>{var e,n;return(n=(e=Ad())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},tA=t=>{const e=Z0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},J0=()=>{var t;return(t=Ad())==null?void 0:t.config},eb=t=>{var e;return(e=Ad())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jo(JSON.stringify(n)),jo(JSON.stringify(r)),""].join(".")}const fr={};function iA(){const t={prod:[],emulator:[]};for(const e of Object.keys(fr))fr[e]?t.emulator.push(e):t.prod.push(e);return t}function sA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _g=!1;function nb(t,e){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||fr[t]===e||fr[t]||_g)return;fr[t]=e;function n(c){return`__firebase__banner__${c}`}const i="__firebase__banner",a=iA().prod.length>0;function r(){const c=document.getElementById(i);c&&c.remove()}function l(c){c.style.display="flex",c.style.background="#7faaf0",c.style.position="fixed",c.style.bottom="5px",c.style.left="5px",c.style.padding=".5em",c.style.borderRadius="5px",c.style.alignItems="center"}function o(c,m){c.setAttribute("width","24"),c.setAttribute("id",m),c.setAttribute("height","24"),c.setAttribute("viewBox","0 0 24 24"),c.setAttribute("fill","none"),c.style.marginLeft="-6px"}function u(){const c=document.createElement("span");return c.style.cursor="pointer",c.style.marginLeft="16px",c.style.fontSize="24px",c.innerHTML=" &times;",c.onclick=()=>{_g=!0,r()},c}function h(c,m){c.setAttribute("id",m),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline"}function f(){const c=sA(i),m=n("text"),_=document.getElementById(m)||document.createElement("span"),T=n("learnmore"),C=document.getElementById(T)||document.createElement("a"),p=n("preprendIcon"),d=document.getElementById(p)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.created){const g=c.element;l(g),h(C,T);const E=u();o(d,p),g.append(d,_,C,E),document.body.appendChild(g)}a?(_.innerText="Preview backend disconnected.",d.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(d.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function aA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ib(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lA(){const t=at();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oA(){return K0.NODE_ADMIN===!0}function uA(){try{return typeof indexedDB=="object"}catch{return!1}}function cA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="FirebaseError";class Ii extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=fA,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],r=a?hA(a,i):"Error",l=`${this.serviceName}: ${r} (${s}).`;return new Ii(s,l,i)}}function hA(t,e){return t.replace(dA,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const dA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){return JSON.parse(t)}function He(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=function(t){let e={},n={},i={},s="";try{const a=t.split(".");e=Ir(Po(a[0])||""),n=Ir(Po(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},mA=function(t){const e=sb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},pA=function(t){const e=sb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ca(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Xf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function rs(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],r=e[s];if(yg(a)&&yg(r)){if(!rs(a,r))return!1}else if(a!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function yg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const c=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(c<<1|c>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],r=this.chain_[2],l=this.chain_[3],o=this.chain_[4],u,h;for(let f=0;f<80;f++){f<40?f<20?(u=l^a&(r^l),h=1518500249):(u=a^r^l,h=1859775393):f<60?(u=a&r|l&(a|r),h=2400959708):(u=a^r^l,h=3395469782);const c=(s<<5|s>>>27)+u+o+h+i[f]&4294967295;o=l,l=r,r=(a<<30|a>>>2)&4294967295,a=s,s=c}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const a=this.buf_;let r=this.inbuf_;for(;s<n;){if(r===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[r]=e.charCodeAt(s),++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}else for(;s<n;)if(a[r]=e[s],++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[s]>>a&255,++i;return e}}function _A(t,e){const n=new yA(t,e);return n.subscribe.bind(n)}class yA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");vA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Lc),s.error===void 0&&(s.error=Lc),s.complete===void 0&&(s.complete=Lc);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lc(){}function xd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const a=s-55296;i++,O(i<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(i)-56320;s=65536+(a<<10)+r}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ku=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class ls{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Iu;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TA(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);i===l&&r.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:EA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EA(t){return t===Pi?void 0:t}function TA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const wA={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},AA=fe.INFO,NA={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},xA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=NA[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=AA,this._logHandler=xA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const RA=(t,e)=>e.some(n=>t instanceof n);let vg,bg;function MA(){return vg||(vg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OA(){return bg||(bg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,Wf=new WeakMap,rb=new WeakMap,Uc=new WeakMap,Md=new WeakMap;function DA(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",r)},a=()=>{n(yi(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&ab.set(n,t)}).catch(()=>{}),Md.set(e,t),e}function IA(t){if(Wf.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",r),t.removeEventListener("abort",r)},a=()=>{n(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",r),t.addEventListener("abort",r)});Wf.set(t,e)}let $f={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kA(t){$f=t($f)}function LA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(zc(this),e,...n);return rb.set(i,e.sort?e.sort():[e]),yi(i)}:OA().includes(t)?function(...e){return t.apply(zc(this),e),yi(ab.get(this))}:function(...e){return yi(t.apply(zc(this),e))}}function UA(t){return typeof t=="function"?LA(t):(t instanceof IDBTransaction&&IA(t),RA(t,MA())?new Proxy(t,$f):t)}function yi(t){if(t instanceof IDBRequest)return DA(t);if(Uc.has(t))return Uc.get(t);const e=UA(t);return e!==t&&(Uc.set(t,e),Md.set(e,t)),e}const zc=t=>Md.get(t);function zA(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const r=indexedDB.open(t,e),l=yi(r);return i&&r.addEventListener("upgradeneeded",o=>{i(yi(r.result),o.oldVersion,o.newVersion,yi(r.transaction),o)}),n&&r.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),l.then(o=>{a&&o.addEventListener("close",()=>a()),s&&o.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const BA=["get","getKey","getAll","getAllKeys","count"],HA=["put","add","delete","clear"],Bc=new Map;function Sg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bc.get(e))return Bc.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=HA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||BA.includes(n)))return;const a=async function(r,...l){const o=this.transaction(r,s?"readwrite":"readonly");let u=o.store;return i&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&o.done]))[0]};return Bc.set(e,a),a}kA(t=>({...t,get:(e,n,i)=>Sg(e,n)||t.get(e,n,i),has:(e,n)=>!!Sg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function PA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",Eg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new Rd("@firebase/app"),VA="@firebase/app-compat",qA="@firebase/analytics-compat",GA="@firebase/analytics",FA="@firebase/app-check-compat",YA="@firebase/app-check",QA="@firebase/auth",KA="@firebase/auth-compat",XA="@firebase/database",WA="@firebase/data-connect",$A="@firebase/database-compat",ZA="@firebase/functions",JA="@firebase/functions-compat",eN="@firebase/installations",tN="@firebase/installations-compat",nN="@firebase/messaging",iN="@firebase/messaging-compat",sN="@firebase/performance",aN="@firebase/performance-compat",rN="@firebase/remote-config",lN="@firebase/remote-config-compat",oN="@firebase/storage",uN="@firebase/storage-compat",cN="@firebase/firestore",fN="@firebase/ai",hN="@firebase/firestore-compat",dN="firebase",mN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",pN={[Zf]:"fire-core",[VA]:"fire-core-compat",[GA]:"fire-analytics",[qA]:"fire-analytics-compat",[YA]:"fire-app-check",[FA]:"fire-app-check-compat",[QA]:"fire-auth",[KA]:"fire-auth-compat",[XA]:"fire-rtdb",[WA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[ZA]:"fire-fn",[JA]:"fire-fn-compat",[eN]:"fire-iid",[tN]:"fire-iid-compat",[nN]:"fire-fcm",[iN]:"fire-fcm-compat",[sN]:"fire-perf",[aN]:"fire-perf-compat",[rN]:"fire-rc",[lN]:"fire-rc-compat",[oN]:"fire-gcs",[uN]:"fire-gcs-compat",[cN]:"fire-fst",[hN]:"fire-fst-compat",[fN]:"fire-vertex","fire-js":"fire-js",[dN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Map,gN=new Map,eh=new Map;function Tg(t,e){try{t.container.addComponent(e)}catch(n){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(eh.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;eh.set(e,t);for(const n of qo.values())Tg(n,t);for(const n of gN.values())Tg(n,t);return!0}function Od(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new rl("app","Firebase",_N);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=mN;function lb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Jf,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw vi.create("bad-app-name",{appName:String(s)});if(n||(n=J0()),!n)throw vi.create("no-options");const a=qo.get(s);if(a){if(rs(n,a.options)&&rs(i,a.config))return a;throw vi.create("duplicate-app",{appName:s})}const r=new CA(s);for(const o of eh.values())r.addComponent(o);const l=new yN(n,i,r);return qo.set(s,l),l}function ob(t=Jf){const e=qo.get(t);if(!e&&t===Jf&&J0())return lb();if(!e)throw vi.create("no-app",{appName:t});return e}function bi(t,e,n){let i=pN[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const r=[`Unable to register library "${i}" with version "${e}":`];s&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&r.push("and"),a&&r.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(r.join(" "));return}fa(new ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firebase-heartbeat-database",bN=1,kr="firebase-heartbeat-store";let Hc=null;function ub(){return Hc||(Hc=zA(vN,bN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kr)}catch(n){console.warn(n)}}}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),Hc}async function SN(t){try{const n=(await ub()).transaction(kr),i=await n.objectStore(kr).get(cb(t));return await n.done,i}catch(e){if(e instanceof Ii)Pn.warn(e.message);else{const n=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pn.warn(n.message)}}}async function Cg(t,e){try{const i=(await ub()).transaction(kr,"readwrite");await i.objectStore(kr).put(e,cb(t)),await i.done}catch(n){if(n instanceof Ii)Pn.warn(n.message);else{const i=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pn.warn(i.message)}}}function cb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=1024,TN=30;class CN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=wg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(r=>r.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>TN){const r=NN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Pn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wg(),{heartbeatsToSend:i,unsentEntries:s}=wN(this._heartbeatsCache.heartbeats),a=jo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Pn.warn(n),""}}}function wg(){return new Date().toISOString().substring(0,10)}function wN(t,e=EN){const n=[];let i=t.slice();for(const s of t){const a=n.find(r=>r.agent===s.agent);if(a){if(a.dates.push(s.date),Ag(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ag(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class AN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uA()?cA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Cg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Cg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ag(t){return jo(JSON.stringify({version:2,heartbeats:t})).length}function NN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){fa(new ls("platform-logger",e=>new jA(e),"PRIVATE")),fa(new ls("heartbeat",e=>new CN(e),"PRIVATE")),bi(Zf,Eg,t),bi(Zf,Eg,"esm2020"),bi("fire-js","")}xN("");var RN="firebase",MN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(RN,MN,"app");function fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ON=fb,hb=new rl("auth","Firebase",fb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Rd("@firebase/auth");function DN(t,...e){Go.logLevel<=fe.WARN&&Go.warn(`Auth (${Ra}): ${t}`,...e)}function no(t,...e){Go.logLevel<=fe.ERROR&&Go.error(`Auth (${Ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,...e){throw Id(t,...e)}function Jt(t,...e){return Id(t,...e)}function Dd(t,e,n){const i={...ON(),[e]:n};return new rl("auth","Firebase",i).create(e,{appName:t.name})}function Ji(t){return Dd(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IN(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&cn(t,"argument-error"),Dd(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Id(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return hb.create(t,...e)}function V(t,e,...n){if(!t)throw Id(e,...n)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw no(e),new Error(e)}function Vn(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function kN(){return Ng()==="http:"||Ng()==="https:"}function Ng(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kN()||rA()||"connection"in navigator)?navigator.onLine:!0}function UN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=Nd()||ib()}get(){return LN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HN=new ll(3e4,6e4);function Ld(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ma(t,e,n,i,s={}){return mb(t,s,async()=>{let a={},r={};i&&(e==="GET"?r=i:a={body:JSON.stringify(i)});const l=xa({key:t.config.apiKey,...r}).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:o,...a};return aA()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Na(t.emulatorConfig.host)&&(u.credentials="include"),db.fetch()(await pb(t,t.config.apiHost,n,l),u)})}async function mb(t,e,n){t._canInitEmulator=!1;const i={...zN,...e};try{const s=new PN(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const r=await a.json();if("needConfirmation"in r)throw Il(t,"account-exists-with-different-credential",r);if(a.ok&&!("errorMessage"in r))return r;{const l=a.ok?r.errorMessage:r.error.message,[o,u]=l.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw Il(t,"credential-already-in-use",r);if(o==="EMAIL_EXISTS")throw Il(t,"email-already-in-use",r);if(o==="USER_DISABLED")throw Il(t,"user-disabled",r);const h=i[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Dd(t,h,u);cn(t,h)}}catch(s){if(s instanceof Ii)throw s;cn(t,"network-request-failed",{message:String(s)})}}async function jN(t,e,n,i,s={}){const a=await Ma(t,e,n,i,s);return"mfaPendingCredential"in a&&cn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function pb(t,e,n,i){const s=`${e}${n}?${i}`,a=t,r=a.config.emulator?kd(t.config,s):`${t.config.apiScheme}://${s}`;return BN.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(r).toString():r}class PN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Jt(this.auth,"network-request-failed")),HN.get())})}}function Il(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Jt(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(t,e){return Ma(t,"POST","/v1/accounts:delete",e)}async function Fo(t,e){return Ma(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qN(t,e=!1){const n=Ot(t),i=await n.getIdToken(e),s=Ud(i);V(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,r=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:hr(jc(s.auth_time)),issuedAtTime:hr(jc(s.iat)),expirationTime:hr(jc(s.exp)),signInProvider:r||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function jc(t){return Number(t)*1e3}function Ud(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return no("JWT malformed, contained fewer than 3 sections"),null;try{const s=Po(n);return s?JSON.parse(s):(no("Failed to decode base64 JWT payload"),null)}catch(s){return no("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function xg(t){const e=Ud(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ii&&GN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function GN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t){var f;const e=t.auth,n=await t.getIdToken(),i=await Lr(t,Fo(e,{idToken:n}));V(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(f=s.providerUserInfo)!=null&&f.length?gb(s.providerUserInfo):[],r=QN(t.providerData,a),l=t.isAnonymous,o=!(t.email&&s.passwordHash)&&!(r!=null&&r.length),u=l?o:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new nh(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function YN(t){const e=Ot(t);await Yo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QN(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function gb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e){const n=await mb(t,{},async()=>{const i=xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,r=await pb(t,s,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:l,body:i};return t.emulatorConfig&&Na(t.emulatorConfig.host)&&(o.credentials="include"),db.fetch()(r,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XN(t,e){return Ma(t,"POST","/v2/accounts:revokeToken",Ld(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){V(e.length!==0,"internal-error");const n=xg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await KN(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,r=new Qs;return i&&(V(typeof i=="string","internal-error",{appName:e}),r.refreshToken=i),s&&(V(typeof s=="string","internal-error",{appName:e}),r.accessToken=s),a&&(V(typeof a=="number","internal-error",{appName:e}),r.expirationTime=a),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $t{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new FN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Lr(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qN(this,e)}reload(){return YN(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $t({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Yo(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await Lr(this,VN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,r=n.photoURL??void 0,l=n.tenantId??void 0,o=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:c,isAnonymous:m,providerData:_,stsTokenManager:T}=n;V(f&&T,e,"internal-error");const C=Qs.fromJSON(this.name,T);V(typeof f=="string",e,"internal-error"),Kn(i,e.name),Kn(s,e.name),V(typeof c=="boolean",e,"internal-error"),V(typeof m=="boolean",e,"internal-error"),Kn(a,e.name),Kn(r,e.name),Kn(l,e.name),Kn(o,e.name),Kn(u,e.name),Kn(h,e.name);const p=new $t({uid:f,auth:e,email:s,emailVerified:c,displayName:i,isAnonymous:m,photoURL:r,phoneNumber:a,tenantId:l,stsTokenManager:C,createdAt:u,lastLoginAt:h});return _&&Array.isArray(_)&&(p.providerData=_.map(d=>({...d}))),o&&(p._redirectEventId=o),p}static async _fromIdTokenResponse(e,n,i=!1){const s=new Qs;s.updateFromServerResponse(n);const a=new $t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Yo(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];V(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?gb(s.providerUserInfo):[],r=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new Qs;l.updateFromIdToken(i);const o=new $t({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:r}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(o,u),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new Map;function xn(t){Vn(t instanceof Function,"Expected a class definition");let e=Rg.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_b.type="NONE";const Mg=_b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t,e,n){return`firebase:${t}:${e}:${n}`}class Ks{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=io(this.userKey,s.apiKey,a),this.fullPersistenceKey=io("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fo(this.auth,{idToken:e}).catch(()=>{});return n?$t._fromGetAccountInfoResponse(this.auth,n,e):null}return $t._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ks(xn(Mg),e,i);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=s[0]||xn(Mg);const r=io(i,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(r);if(h){let f;if(typeof h=="string"){const c=await Fo(e,{idToken:h}).catch(()=>{});if(!c)break;f=await $t._fromGetAccountInfoResponse(e,c,h)}else f=$t._fromJSON(e,h);u!==a&&(l=f),a=u;break}}catch{}const o=s.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!o.length?new Ks(a,e,i):(a=o[0],l&&await a._set(r,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(r)}catch{}})),new Ks(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tb(e))return"Blackberry";if(Cb(e))return"Webos";if(vb(e))return"Safari";if((e.includes("chrome/")||bb(e))&&!e.includes("edge/"))return"Chrome";if(Eb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function yb(t=at()){return/firefox\//i.test(t)}function vb(t=at()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bb(t=at()){return/crios\//i.test(t)}function Sb(t=at()){return/iemobile/i.test(t)}function Eb(t=at()){return/android/i.test(t)}function Tb(t=at()){return/blackberry/i.test(t)}function Cb(t=at()){return/webos/i.test(t)}function zd(t=at()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WN(t=at()){var e;return zd(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $N(){return lA()&&document.documentMode===10}function wb(t=at()){return zd(t)||Eb(t)||Cb(t)||Tb(t)||/windows phone/i.test(t)||Sb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e=[]){let n;switch(t){case"Browser":n=Og(at());break;case"Worker":n=`${Og(at())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((r,l)=>{try{const o=e(a);r(o)}catch(o){l(o)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e={}){return Ma(t,"GET","/v2/passwordPolicy",Ld(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=6;class tx{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ex,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dg(this),this.idTokenSubscription=new Dg(this),this.beforeStateQueue=new ZN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xn(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fo(this,{idToken:e}),i=await $t._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Xt(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=i==null?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!r||r===l)&&(o!=null&&o.user)&&(i=o.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(r){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(Ji(this));const n=e?Ot(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JN(this),n=new tx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await XN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xn(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[xn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let r=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(l,this,"internal-error"),l.then(()=>{r||a(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,i,s);return()=>{r=!0,o()}}else{const o=e.addObserver(n);return()=>{r=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&DN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Lu(t){return Ot(t)}class Dg{constructor(e){this.auth=e,this.observer=null,this.addObserver=_A(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ix(t){Bd=t}function sx(t){return Bd.loadJS(t)}function ax(){return Bd.gapiScript}function rx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t,e){const n=Od(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(rs(a,e??{}))return s;cn(s,"already-initialized")}return n.initialize({options:e})}function ox(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(xn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function ux(t,e,n){const i=Lu(t);V(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=Nb(e),{host:r,port:l}=cx(e),o=l===null?"":`:${l}`,u={url:`${a}//${r}${o}/`},h=Object.freeze({host:r,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){V(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),V(rs(u,i.config.emulator)&&rs(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Na(r)?(tb(`${a}//${r}${o}`),nb("Auth",!0)):fx()}function Nb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cx(t){const e=Nb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Ig(i.substr(a.length+1))}}else{const[a,r]=i.split(":");return{host:a,port:Ig(r)}}}function Ig(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e){return jN(t,"POST","/v1/accounts:signInWithIdp",Ld(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="http://localhost";class os extends xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const r=new os(i,s);return r.idToken=a.idToken||void 0,r.accessToken=a.accessToken||void 0,r.secret=a.secret,r.nonce=a.nonce,r.pendingToken=a.pendingToken||null,r}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Xs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}buildRequest(){const e={requestUri:hx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Hd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends ol{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return os._fromParams({providerId:Tn.PROVIDER_ID,signInMethod:Tn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Tn.credentialFromTaggedObject(e)}static credentialFromError(e){return Tn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Tn.credential(n,i)}catch{return null}}}Tn.GOOGLE_SIGN_IN_METHOD="google.com";Tn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends ol{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends ol{constructor(){super("twitter.com")}static credential(e,n){return os._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ii.credential(n,i)}catch{return null}}}ii.TWITTER_SIGN_IN_METHOD="twitter.com";ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await $t._fromIdTokenResponse(e,i,s),r=kg(i);return new ha({user:a,providerId:r,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=kg(i);return new ha({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function kg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Ii{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Qo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Qo(e,n,i,s)}}function Rb(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qo._fromErrorAndOperation(t,a,e,i):a})}async function dx(t,e,n=!1){const i=await Lr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ha._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(t,e,n=!1){const{auth:i}=t;if(Xt(i.app))return Promise.reject(Ji(i));const s="reauthenticate";try{const a=await Lr(t,Rb(i,s,e,t),n);V(a.idToken,i,"internal-error");const r=Ud(a.idToken);V(r,i,"internal-error");const{sub:l}=r;return V(t.uid===l,i,"user-mismatch"),ha._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&cn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(t,e,n=!1){if(Xt(t.app))return Promise.reject(Ji(t));const i="signIn",s=await Rb(t,i,e),a=await ha._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}function gx(t,e,n,i){return Ot(t).onIdTokenChanged(e,n,i)}function _x(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function Mb(t,e,n,i){return Ot(t).onAuthStateChanged(e,n,i)}function Ob(t){return Ot(t).signOut()}const Ko="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ko,"1"),this.storage.removeItem(Ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=1e3,vx=10;class Ib extends Db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((r,l,o)=>{this.notifyListeners(r,o)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const r=this.storage.getItem(i);!n&&this.localCache[i]===r||this.notifyListeners(i,r)},a=this.storage.getItem(i);$N()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,vx):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},yx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ib.type="LOCAL";const bx=Ib;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kb.type="SESSION";const Lb=kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Uu(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,r=this.handlersMap[s];if(!(r!=null&&r.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(r).map(async u=>u(n.origin,a)),o=await Sx(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,r;return new Promise((l,o)=>{const u=jd("",20);s.port1.start();const h=setTimeout(()=>{o(new Error("unsupported_event"))},i);r={messageChannel:s,onMessage(f){const c=f;if(c.data.eventId===u)switch(c.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(c.data.response);break;default:clearTimeout(h),clearTimeout(a),o(new Error("invalid_response"));break}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return window}function Tx(t){un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}async function Cx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Ax(){return Ub()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebaseLocalStorageDb",Nx=1,Xo="firebaseLocalStorage",Bb="fbase_key";class ul{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zu(t,e){return t.transaction([Xo],e?"readwrite":"readonly").objectStore(Xo)}function xx(){const t=indexedDB.deleteDatabase(zb);return new ul(t).toPromise()}function ih(){const t=indexedDB.open(zb,Nx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Xo,{keyPath:Bb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Xo)?e(i):(i.close(),await xx(),e(await ih()))})})}async function Lg(t,e,n){const i=zu(t,!0).put({[Bb]:e,value:n});return new ul(i).toPromise()}async function Rx(t,e){const n=zu(t,!1).get(e),i=await new ul(n).toPromise();return i===void 0?null:i.value}function Ug(t,e){const n=zu(t,!0).delete(e);return new ul(n).toPromise()}const Mx=800,Ox=3;class Hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ih(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Ox)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uu._getInstance(Ax()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await Cx(),!this.activeServiceWorker)return;this.sender=new Ex(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ih();return await Lg(e,Ko,"1"),await Ug(e,Ko),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lg(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Rx(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ug(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=zu(s,!1).getAll();return new ul(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hb.type="LOCAL";const Dx=Hb;new ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t,e){return e?xn(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends xb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ix(t){return px(t.auth,new Pd(t),t.bypassAuthState)}function kx(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),mx(n,new Pd(t),t.bypassAuthState)}async function Lx(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),dx(n,new Pd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:r,type:l}=e;if(r){this.reject(r);return}const o={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(o))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ix;case"linkViaPopup":case"linkViaRedirect":return Lx;case"reauthViaPopup":case"reauthViaRedirect":return kx;default:cn(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new ll(2e3,1e4);async function zx(t,e,n){if(Xt(t.app))return Promise.reject(Jt(t,"operation-not-supported-in-this-environment"));const i=Lu(t);IN(t,e,Hd);const s=jb(i,n);return new Gi(i,"signInViaPopup",e,s).executeNotNull()}class Gi extends Pb{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Gi.currentPopupAction&&Gi.currentPopupAction.cancel(),Gi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const e=jd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ux.get())};e()}}Gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="pendingRedirect",so=new Map;class Hx extends Pb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=so.get(this.auth._key());if(!e){try{const i=await jx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}so.set(this.auth._key(),e)}return this.bypassAuthState||so.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jx(t,e){const n=qx(e),i=Vx(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function Px(t,e){so.set(t._key(),e)}function Vx(t){return xn(t._redirectPersistence)}function qx(t){return io(Bx,t.config.apiKey,t.name)}async function Gx(t,e,n=!1){if(Xt(t.app))return Promise.reject(Ji(t));const i=Lu(t),s=jb(i,e),r=await new Hx(i,s,n).execute();return r&&!n&&(delete r.user._redirectEventId,await i._persistUserIfCurrent(r.user),await i._setRedirectUser(null,e)),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=10*60*1e3;class Yx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Vb(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Jt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fx&&this.cachedEventUids.clear(),this.cachedEventUids.has(zg(e))}saveEventToCache(e){this.cachedEventUids.add(zg(e)),this.lastProcessedEventTime=Date.now()}}function zg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Qx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(t,e={}){return Ma(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wx=/^https?/;async function $x(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Kx(t);for(const n of e)try{if(Zx(n))return}catch{}cn(t,"unauthorized-domain")}function Zx(t){const e=th(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return r.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&r.hostname===i}if(!Wx.test(n))return!1;if(Xx.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=new ll(3e4,6e4);function Bg(){const t=un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eR(t){return new Promise((e,n)=>{var s,a,r;function i(){Bg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bg(),n(Jt(t,"network-request-failed"))},timeout:Jx.get()})}if((a=(s=un().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((r=un().gapi)!=null&&r.load)i();else{const l=rx("iframefcb");return un()[l]=()=>{gapi.load?i():n(Jt(t,"network-request-failed"))},sx(`${ax()}?onload=${l}`).catch(o=>n(o))}}).catch(e=>{throw ao=null,e})}let ao=null;function tR(t){return ao=ao||eR(t),ao}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new ll(5e3,15e3),iR="__/auth/iframe",sR="emulator/auth/iframe",aR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lR(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kd(e,sR):`https://${t.config.authDomain}/${iR}`,i={apiKey:e.apiKey,appName:t.name,v:Ra},s=rR.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${xa(i).slice(1)}`}async function oR(t){const e=await tR(t),n=un().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:lR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aR,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const r=Jt(t,"network-request-failed"),l=un().setTimeout(()=>{a(r)},nR.get());function o(){un().clearTimeout(l),s(i)}i.ping(o).then(o,()=>{a(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cR=500,fR=600,hR="_blank",dR="http://localhost";class Hg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mR(t,e,n,i=cR,s=fR){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),r=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const o={...uR,width:i.toString(),height:s.toString(),top:a,left:r},u=at().toLowerCase();n&&(l=bb(u)?hR:n),yb(u)&&(e=e||dR,o.scrollbars="yes");const h=Object.entries(o).reduce((c,[m,_])=>`${c}${m}=${_},`,"");if(WN(u)&&l!=="_self")return pR(e||"",l),new Hg(null);const f=window.open(e||"",l,h);V(f,t,"popup-blocked");try{f.focus()}catch{}return new Hg(f)}function pR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="__/auth/handler",_R="emulator/auth/handler",yR=encodeURIComponent("fac");async function jg(t,e,n,i,s,a){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const r={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ra,eventId:s};if(e instanceof Hd){e.setDefaultLanguage(t.languageCode),r.providerId=e.providerId||"",Xf(e.getCustomParameters())||(r.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))r[h]=f}if(e instanceof ol){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(r.scopes=h.join(","))}t.tenantId&&(r.tid=t.tenantId);const l=r;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const o=await t._getAppCheckToken(),u=o?`#${yR}=${encodeURIComponent(o)}`:"";return`${vR(t)}?${xa(l).slice(1)}${u}`}function vR({config:t}){return t.emulator?kd(t,_R):`https://${t.authDomain}/${gR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="webStorageSupport";class bR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lb,this._completeRedirectFn=Gx,this._overrideRedirectResult=Px}async _openPopup(e,n,i,s){var r;Vn((r=this.eventManagers[e._key()])==null?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await jg(e,n,i,th(),s);return mR(e,a,jd())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await jg(e,n,i,th(),s);return Tx(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Vn(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await oR(e),i=new Yx(e);return n.register("authEvent",s=>(V(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pc,{type:Pc},s=>{var r;const a=(r=s==null?void 0:s[0])==null?void 0:r[Pc];a!==void 0&&n(!!a),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$x(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wb()||vb()||zd()}}const SR=bR;var Pg="@firebase/auth",Vg="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CR(t){fa(new ls("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:r,authDomain:l}=i.options;V(r&&!r.includes(":"),"invalid-api-key",{appName:i.name});const o={apiKey:r,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(t)},u=new nx(i,s,a,o);return ox(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),fa(new ls("auth-internal",e=>{const n=Lu(e.getProvider("auth").getImmediate());return(i=>new ER(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(Pg,Vg,TR(t)),bi(Pg,Vg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=5*60,AR=eb("authIdTokenMaxAge")||wR;let qg=null;const NR=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>AR)return;const s=n==null?void 0:n.token;qg!==s&&(qg=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xR(t=ob()){const e=Od(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lx(t,{popupRedirectResolver:SR,persistence:[Dx,bx,Lb]}),i=eb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const r=NR(a.toString());_x(n,r,()=>r(n.currentUser)),gx(n,l=>r(l))}}const s=Z0("auth");return s&&ux(n,`http://${s}`),n}function RR(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}ix({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=Jt("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",RR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CR("Browser");var Gg={};const Fg="@firebase/database",Yg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qb="";function MR(t){qb=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),He(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ir(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new OR(e)}}catch{}return new DR},Fi=Gb("localStorage"),IR=Gb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Rd("@firebase/database"),kR=function(){let t=1;return function(){return t++}}(),Fb=function(t){const e=bA(t),n=new gA;n.update(e);const i=n.digest();return wd.encodeByteArray(i)},cl=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=cl.apply(null,i):typeof i=="object"?e+=He(i):e+=i,e+=" "}return e};let dr=null,Qg=!0;const LR=function(t,e){O(!0,"Can't turn on custom loggers persistently."),Ws.logLevel=fe.VERBOSE,dr=Ws.log.bind(Ws)},Xe=function(...t){if(Qg===!0&&(Qg=!1,dr===null&&IR.get("logging_enabled")===!0&&LR()),dr){const e=cl.apply(null,t);dr(e)}},fl=function(t){return function(...e){Xe(t,...e)}},sh=function(...t){const e="FIREBASE INTERNAL ERROR: "+cl(...t);Ws.error(e)},qn=function(...t){const e=`FIREBASE FATAL ERROR: ${cl(...t)}`;throw Ws.error(e),new Error(e)},pt=function(...t){const e="FIREBASE WARNING: "+cl(...t);Ws.warn(e)},UR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},zR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},da="[MIN_NAME]",us="[MAX_NAME]",ys=function(t,e){if(t===e)return 0;if(t===da||e===us)return-1;if(e===da||t===us)return 1;{const n=Kg(t),i=Kg(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},BR=function(t,e){return t===e?0:t<e?-1:1},Va=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+He(e))},qd=function(t){if(typeof t!="object"||t===null)return He(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=He(e[i]),n+=":",n+=qd(t[e[i]]);return n+="}",n},Yb=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Qb=function(t){O(!Vd(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,a,r,l,o;t===0?(a=0,r=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=l+i,r=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,r=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(o=n;o;o-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(o=e;o;o-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(s?1:0),u.reverse();const h=u.join("");let f="";for(o=0;o<64;o+=8){let c=parseInt(h.substr(o,8),2).toString(16);c.length===1&&(c="0"+c),f=f+c}return f.toLowerCase()},HR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function PR(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const VR=new RegExp("^-?(0*)\\d{1,10}$"),qR=-2147483648,GR=2147483647,Kg=function(t){if(VR.test(t)){const e=Number(t);if(e>=qR&&e<=GR)return e}return null},Oa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw pt("Exception was thrown by user callback.",n),e},Math.floor(0))}},FR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},mr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){pt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pt(e)}}class ro{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ro.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="5",Kb="v",Xb="s",Wb="r",$b="f",Zb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jb="ls",eS="p",ah="ac",tS="websocket",nS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,i,s,a=!1,r="",l=!1,o=!1,u=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=r,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=o,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function KR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function sS(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let i;if(e===tS)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===nS)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);KR(t)&&(n.ns=t.namespace);const s=[];return et(n,(a,r)=>{s.push(a+"="+r)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.counters_={}}incrementCounter(e,n=1){mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Xw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc={},qc={};function Fd(t){const e=t.toString();return Vc[e]||(Vc[e]=new XR),Vc[e]}function WR(t,e){const n=t.toString();return qc[n]||(qc[n]=e()),qc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Oa(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="start",ZR="close",JR="pLPCommand",e2="pRTLPCB",aS="id",rS="pw",lS="ser",t2="cb",n2="seg",i2="ts",s2="d",a2="dframe",oS=1870,uS=30,r2=oS-uS,l2=25e3,o2=3e4;class Hs{constructor(e,n,i,s,a,r,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=r,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fl(e),this.stats_=Fd(n),this.urlFn=o=>(this.appCheckToken&&(o[ah]=this.appCheckToken),sS(n,nS,o))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $R(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(o2)),zR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yd((...a)=>{const[r,l,o,u,h]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===Xg)this.id=l,this.password=o;else if(r===ZR)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...a)=>{const[r,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(r,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[Xg]="t",i[lS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[t2]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Kb]=Gd,this.transportSessionId&&(i[Xb]=this.transportSessionId),this.lastSessionId&&(i[Jb]=this.lastSessionId),this.applicationId&&(i[eS]=this.applicationId),this.appCheckToken&&(i[ah]=this.appCheckToken),typeof location<"u"&&location.hostname&&Zb.test(location.hostname)&&(i[Wb]=$b);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hs.forceAllow_=!0}static forceDisallow(){Hs.forceDisallow_=!0}static isAvailable(){return Hs.forceAllow_?!0:!Hs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!HR()&&!jR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=W0(n),s=Yb(i,r2);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[a2]="t",i[aS]=e,i[rS]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=He(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Yd{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kR(),window[JR+this.uniqueCallbackIdentifier]=e,window[e2+this.uniqueCallbackIdentifier]=n,this.myIFrame=Yd.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(l){Xe("frame writing exception"),l.stack&&Xe(l.stack),Xe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xe("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[aS]=this.myID,e[rS]=this.myPW,e[lS]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uS+i.length<=oS;){const r=this.pendingSegs.shift();i=i+"&"+n2+s+"="+r.seg+"&"+i2+s+"="+r.ts+"&"+s2+s+"="+r.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(l2)),a=()=>{clearTimeout(s),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Xe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=16384,c2=45e3;let Wo=null;typeof MozWebSocket<"u"?Wo=MozWebSocket:typeof WebSocket<"u"&&(Wo=WebSocket);class Wt{constructor(e,n,i,s,a,r,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fl(this.connId),this.stats_=Fd(n),this.connURL=Wt.connectionURL_(n,r,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,a){const r={};return r[Kb]=Gd,typeof location<"u"&&location.hostname&&Zb.test(location.hostname)&&(r[Wb]=$b),n&&(r[Xb]=n),i&&(r[Jb]=i),s&&(r[ah]=s),a&&(r[eS]=a),sS(e,tS,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fi.set("previous_websocket_failure",!0);try{let i;oA(),this.mySock=new Wo(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Wo!==null&&!Wt.forceDisallow_}static previouslyFailed(){return Fi.isInMemoryStorage||Fi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ir(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Yb(n,u2);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(c2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{static get ALL_TRANSPORTS(){return[Hs,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Wt&&Wt.isAvailable();let i=n&&!Wt.previouslyFailed();if(e.webSocketOnly&&(n||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Wt];else{const s=this.transports_=[];for(const a of Ur.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Ur.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ur.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=6e4,h2=5e3,d2=10*1024,m2=100*1024,Gc="t",Wg="d",p2="s",$g="r",g2="e",Zg="o",Jg="a",e_="n",t_="p",_2="h";class y2{constructor(e,n,i,s,a,r,l,o,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=r,this.onReady_=l,this.onDisconnect_=o,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fl("c:"+this.id+":"),this.transportManager_=new Ur(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=mr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>m2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>d2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Gc in e){const n=e[Gc];n===Jg?this.upgradeIfSecondaryHealthy_():n===$g?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Zg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Va("t",e),i=Va("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:t_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Jg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:e_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Va("t",e),i=Va("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Va(Gc,e);if(Wg in e){const i=e[Wg];if(n===_2){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===e_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===p2?this.onConnectionShutdown_(i):n===$g?this.onReset_(i):n===g2?sh("Server Error: "+i):n===Zg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Gd!==i&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),mr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(f2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(h2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:t_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!i||i===s[a].context)){s.splice(a,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends fS{static getInstance(){return new $o}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Nd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=32,i_=768;class de{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function se(){return new de("")}function $(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ni(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function Qd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function v2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function zr(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function hS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function Me(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof de)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new de(n,0)}function Z(t){return t.pieceNum_>=t.pieces_.length}function st(t,e){const n=$(t),i=$(e);if(n===null)return e;if(n===i)return st(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function b2(t,e){const n=zr(t,0),i=zr(e,0);for(let s=0;s<n.length&&s<i.length;s++){const a=ys(n[s],i[s]);if(a!==0)return a}return n.length===i.length?0:n.length<i.length?-1:1}function Kd(t,e){if(Ni(t)!==Ni(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function jt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ni(t)>Ni(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class S2{constructor(e,n){this.errorPrefix_=n,this.parts_=zr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ku(this.parts_[i]);dS(this)}}function E2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ku(e),dS(t)}function T2(t){const e=t.parts_.pop();t.byteLength_-=ku(e),t.parts_.length>0&&(t.byteLength_-=1)}function dS(t){if(t.byteLength_>i_)throw new Error(t.errorPrefix_+"has a key path longer than "+i_+" bytes ("+t.byteLength_+").");if(t.parts_.length>n_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+n_+") or object contains a cycle "+Vi(t))}function Vi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends fS{static getInstance(){return new Xd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=1e3,C2=60*5*1e3,s_=30*1e3,w2=1.3,A2=3e4,N2="server_kill",a_=3;class kn extends cS{constructor(e,n,i,s,a,r,l,o){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.authOverride_=o,this.id=kn.nextPersistentConnectionId_++,this.log_=fl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qa,this.maxReconnectDelay_=C2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&$o.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(He(a)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Iu,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const l=r.d;r.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,s){this.initConnection_();const a=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+a),this.listens.has(r)||this.listens.set(r,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(r).has(a),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(r).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i},r="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(r,a,l=>{const o=l.d,u=l.s;kn.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(u,o))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&mn(e,"w")){const i=ca(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||pA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=s_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=mA(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const a=s.s,r=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},r="n";s&&(a.q=i,a.t=s),this.sendRequest(r,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,r=>{s&&setTimeout(()=>{s(r.s,r.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,a){this.initConnection_();const r={p:n,d:i};a!==void 0&&(r.h=a),this.outstandingPuts_.push({action:e,request:r,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+He(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):sh("Unrecognized action received from server: "+He(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>A2&&(this.reconnectDelay_=qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*w2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+kn.nextConnectionId_++,a=this.lastSessionId;let r=!1,l=null;const o=function(){l?l.close():(r=!0,i())},u=function(f){O(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:o,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,c]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);r?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=c&&c.token,l=new y2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,m=>{pt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(N2)},a))}catch(f){this.log_("Failed to get token: "+f),r||(this.repoInfo_.nodeAdmin&&pt(f),o())}}}interrupt(e){Xe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xf(this.interruptReasons_)&&(this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>qd(a)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new de(e).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Xe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=a_&&(this.reconnectDelay_=s_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Xe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=a_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+qb.replace(/\./g,"-")]=1,Nd()?e["framework.cordova"]=1:ib()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$o.getInstance().currentlyOnline();return Xf(this.interruptReasons_)&&e}}kn.nextPersistentConnectionId_=0;kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new K(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new K(da,e),s=new K(da,n);return this.compare(i,s)!==0}minPost(){return K.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl;class mS extends Bu{static get __EMPTY_NODE(){return kl}static set __EMPTY_NODE(e){kl=e}compare(e,n){return ys(e.name,n.name)}isDefinedOn(e){throw Aa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return K.MIN}maxPost(){return new K(us,kl)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new K(e,kl)}toString(){return".key"}}const $s=new mS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?i(e.key,n):1,s&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qe{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??qe.RED,this.left=s??dt.EMPTY_NODE,this.right=a??dt.EMPTY_NODE}copy(e,n,i,s,a){return new qe(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return dt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qe.RED=!0;qe.BLACK=!1;class x2{copy(e,n,i,s,a){return this}insert(e,n,i){return new qe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dt{constructor(e,n=dt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new dt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qe.BLACK,null,null))}remove(e){return new dt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qe.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ll(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ll(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ll(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ll(this.root_,null,this.comparator_,!0,e)}}dt.EMPTY_NODE=new x2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){return ys(t.name,e.name)}function Wd(t,e){return ys(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh;function M2(t){rh=t}const pS=function(t){return typeof t=="number"?"number:"+Qb(t):"string:"+t},gS=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mn(e,".sv"),"Priority must be a string or number.")}else O(t===rh||t.isEmpty(),"priority of unexpected type.");O(t===rh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r_;class Pe{static set __childrenNodeConstructor(e){r_=e}static get __childrenNodeConstructor(){return r_}constructor(e,n=Pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Pe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Z(e)?this:$(e)===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=$(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(O(i!==".priority"||Ni(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Qb(this.value_):e+=this.value_,this.lazyHash_=Fb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Pe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Pe.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Pe.VALUE_TYPE_ORDER.indexOf(n),a=Pe.VALUE_TYPE_ORDER.indexOf(i);return O(s>=0,"Unknown leaf type: "+n),O(a>=0,"Unknown leaf type: "+i),s===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _S,yS;function O2(t){_S=t}function D2(t){yS=t}class I2 extends Bu{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),a=i.compareTo(s);return a===0?ys(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return K.MIN}maxPost(){return new K(us,new Pe("[PRIORITY-POST]",yS))}makePost(e,n){const i=_S(e);return new K(n,new Pe("[PRIORITY-POST]",i))}toString(){return".priority"}}const Oe=new I2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=Math.log(2);class L2{constructor(e){const n=a=>parseInt(Math.log(a)/k2,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zo=function(t,e,n,i){t.sort(e);const s=function(o,u){const h=u-o;let f,c;if(h===0)return null;if(h===1)return f=t[o],c=n?n(f):f,new qe(c,f.node,qe.BLACK,null,null);{const m=parseInt(h/2,10)+o,_=s(o,m),T=s(m+1,u);return f=t[m],c=n?n(f):f,new qe(c,f.node,qe.BLACK,_,T)}},a=function(o){let u=null,h=null,f=t.length;const c=function(_,T){const C=f-_,p=f;f-=_;const d=s(C+1,p),g=t[C],E=n?n(g):g;m(new qe(E,g.node,T,null,d))},m=function(_){u?(u.left=_,u=_):(h=_,u=_)};for(let _=0;_<o.count;++_){const T=o.nextBitIsOne(),C=Math.pow(2,o.count-(_+1));T?c(C,qe.BLACK):(c(C,qe.BLACK),c(C,qe.RED))}return h},r=new L2(t.length),l=a(r);return new dt(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;const Ts={};class Rn{static get Default(){return O(Ts&&Oe,"ChildrenNode.ts has not been loaded"),Fc=Fc||new Rn({".priority":Ts},{".priority":Oe}),Fc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ca(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof dt?n:null}hasIndex(e){return mn(this.indexSet_,e.toString())}addIndex(e,n){O(e!==$s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=n.getIterator(K.Wrap);let r=a.getNext();for(;r;)s=s||e.isDefinedOn(r.node),i.push(r),r=a.getNext();let l;s?l=Zo(i,e.getCompare()):l=Ts;const o=e.toString(),u={...this.indexSet_};u[o]=e;const h={...this.indexes_};return h[o]=l,new Rn(h,u)}addToIndexes(e,n){const i=Vo(this.indexes_,(s,a)=>{const r=ca(this.indexSet_,a);if(O(r,"Missing index implementation for "+a),s===Ts)if(r.isDefinedOn(e.node)){const l=[],o=n.getIterator(K.Wrap);let u=o.getNext();for(;u;)u.name!==e.name&&l.push(u),u=o.getNext();return l.push(e),Zo(l,r.getCompare())}else return Ts;else{const l=n.get(e.name);let o=s;return l&&(o=o.remove(new K(e.name,l))),o.insert(e,e.node)}});return new Rn(i,this.indexSet_)}removeFromIndexes(e,n){const i=Vo(this.indexes_,s=>{if(s===Ts)return s;{const a=n.get(e.name);return a?s.remove(new K(e.name,a)):s}});return new Rn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;class B{static get EMPTY_NODE(){return Ga||(Ga=new B(new dt(Wd),null,Rn.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&gS(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ga}updatePriority(e){return this.children_.isEmpty()?this:new B(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ga:n}}getChild(e){const n=$(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new K(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const r=s.isEmpty()?Ga:this.priorityNode_;return new B(s,r,a)}}updateChild(e,n){const i=$(e);if(i===null)return n;{O($(e)!==".priority"||Ni(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(_e(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,a=!0;if(this.forEachChild(Oe,(r,l)=>{n[r]=l.val(e),i++,a&&B.INTEGER_REGEXP_.test(r)?s=Math.max(s,Number(r)):a=!1}),!e&&a&&s<2*i){const r=[];for(const l in n)r[l]=n[l];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+pS(this.getPriority().val())+":"),this.forEachChild(Oe,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Fb(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new K(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new K(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new K(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,K.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,K.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hl?-1:0}withIndex(e){if(e===$s||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new B(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$s||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Oe),s=n.getIterator(Oe);let a=i.getNext(),r=s.getNext();for(;a&&r;){if(a.name!==r.name||!a.node.equals(r.node))return!1;a=i.getNext(),r=s.getNext()}return a===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===$s?null:this.indexMap_.get(e.toString())}}B.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class U2 extends B{constructor(){super(new dt(Wd),B.EMPTY_NODE,Rn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return B.EMPTY_NODE}isEmpty(){return!1}}const hl=new U2;Object.defineProperties(K,{MIN:{value:new K(da,B.EMPTY_NODE)},MAX:{value:new K(us,hl)}});mS.__EMPTY_NODE=B.EMPTY_NODE;Pe.__childrenNodeConstructor=B;M2(hl);D2(hl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=!0;function Fe(t,e=null){if(t===null)return B.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Pe(n,Fe(e))}if(!(t instanceof Array)&&z2){const n=[];let i=!1;if(et(t,(r,l)=>{if(r.substring(0,1)!=="."){const o=Fe(l);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new K(r,o)))}}),n.length===0)return B.EMPTY_NODE;const a=Zo(n,R2,r=>r.name,Wd);if(i){const r=Zo(n,Oe.getCompare());return new B(a,Fe(e),new Rn({".priority":r},{".priority":Oe}))}else return new B(a,Fe(e),Rn.Default)}else{let n=B.EMPTY_NODE;return et(t,(i,s)=>{if(mn(t,i)&&i.substring(0,1)!=="."){const a=Fe(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(Fe(e))}}O2(Fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2 extends Bu{constructor(e){super(),this.indexPath_=e,O(!Z(e)&&$(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),a=i.compareTo(s);return a===0?ys(e.name,n.name):a}makePost(e,n){const i=Fe(e),s=B.EMPTY_NODE.updateChild(this.indexPath_,i);return new K(n,s)}maxPost(){const e=B.EMPTY_NODE.updateChild(this.indexPath_,hl);return new K(us,e)}toString(){return zr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2 extends Bu{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ys(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return K.MIN}maxPost(){return K.MAX}makePost(e,n){const i=Fe(e);return new K(n,i)}toString(){return".value"}}const j2=new H2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){return{type:"value",snapshotNode:t}}function ma(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Br(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function P2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.index_=e}updateChild(e,n,i,s,a,r){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(r!=null&&(i.isEmpty()?e.hasChild(n)?r.trackChildChange(Br(n,l)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?r.trackChildChange(ma(n,i)):r.trackChildChange(Hr(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Oe,(s,a)=>{n.hasChild(s)||i.trackChildChange(Br(s,a))}),n.isLeafNode()||n.forEachChild(Oe,(s,a)=>{if(e.hasChild(s)){const r=e.getImmediateChild(s);r.equals(a)||i.trackChildChange(Hr(s,a,r))}else i.trackChildChange(ma(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?B.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.indexedFilter_=new $d(e.getIndex()),this.index_=e.getIndex(),this.startPost_=jr.getStartPost_(e),this.endPost_=jr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,a,r){return this.matches(new K(n,i))||(i=B.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,a,r)}updateFullNode(e,n,i){n.isLeafNode()&&(n=B.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(B.EMPTY_NODE);const a=this;return n.forEachChild(Oe,(r,l)=>{a.matches(new K(r,l))||(s=s.updateImmediateChild(r,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new jr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,a,r){return this.rangedFilter_.matches(new K(n,i))||(i=B.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,a,r):this.fullLimitUpdateChild_(e,n,i,a,r)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=B.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;a.hasNext()&&r<this.limit_;){const l=a.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),r++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(B.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let r=0;for(;a.hasNext();){const l=a.getNext();r<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?r++:s=s.updateImmediateChild(l.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,a){let r;if(this.reverse_){const f=this.index_.getCompare();r=(c,m)=>f(m,c)}else r=this.index_.getCompare();const l=e;O(l.numChildren()===this.limit_,"");const o=new K(n,i),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(l.hasChild(n)){const f=l.getImmediateChild(n);let c=s.getChildAfterChild(this.index_,u,this.reverse_);for(;c!=null&&(c.name===n||l.hasChild(c.name));)c=s.getChildAfterChild(this.index_,c,this.reverse_);const m=c==null?1:r(c,o);if(h&&!i.isEmpty()&&m>=0)return a!=null&&a.trackChildChange(Hr(n,i,f)),l.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(Br(n,f));const T=l.updateImmediateChild(n,B.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(a!=null&&a.trackChildChange(ma(c.name,c.node)),T.updateImmediateChild(c.name,c.node)):T}}else return i.isEmpty()?e:h&&r(u,o)>=0?(a!=null&&(a.trackChildChange(Br(u.name,u.node)),a.trackChildChange(ma(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(u.name,B.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:da}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oe}copy(){const e=new Zd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function q2(t){return t.loadsAllData()?new $d(t.getIndex()):t.hasLimit()?new V2(t):new jr(t)}function l_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Oe?n="$priority":t.index_===j2?n="$value":t.index_===$s?n="$key":(O(t.index_ instanceof B2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=He(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=He(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+He(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=He(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+He(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function o_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Oe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends cS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=fl("p:rest:"),this.listens_={}}listen(e,n,i,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const r=Jo.getListenId_(e,i),l={};this.listens_[r]=l;const o=l_(e._queryParams);this.restRequest_(a+".json",o,(u,h)=>{let f=h;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(a,f,!1,i),ca(this.listens_,r)===l){let c;u?u===401?c="permission_denied":c="rest_error:"+u:c="ok",s(c,null)}})}unlisten(e,n){const i=Jo.getListenId_(e,n);delete this.listens_[i]}get(e){const n=l_(e._queryParams),i=e._path.toString(),s=new Iu;return this.restRequest_(i+".json",n,(a,r)=>{let l=r;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+xa(n);this.log_("Sending REST request for "+r);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+r+" received. status:",l.status,"response:",l.responseText);let o=null;if(l.status>=200&&l.status<300){try{o=Ir(l.responseText)}catch{pt("Failed to parse JSON response for "+r+": "+l.responseText)}i(null,o)}else l.status!==401&&l.status!==404&&pt("Got unsuccessful REST response for "+r+" Status: "+l.status),i(l.status);i=null}},l.open("GET",r,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(){return{value:null,children:new Map}}function bS(t,e,n){if(Z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=$(e);t.children.has(i)||t.children.set(i,eu());const s=t.children.get(i);e=_e(e),bS(s,e,n)}}function lh(t,e,n){t.value!==null?n(e,t.value):F2(t,(i,s)=>{const a=new de(e.toString()+"/"+i);lh(s,a,n)})}function F2(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&et(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=10*1e3,Q2=30*1e3,K2=5*60*1e3;class X2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Y2(e);const i=u_+(Q2-u_)*Math.random();mr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;et(e,(s,a)=>{a>0&&mn(this.statsToReport_,s)&&(n[s]=a,i=!0)}),i&&this.server_.reportStats(n),mr(this.reportStats_.bind(this),Math.floor(Math.random()*2*K2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function Jd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function em(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Zt.ACK_USER_WRITE,this.source=Jd()}operationForChild(e){if(Z(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new de(e));return new tu(se(),n,this.revert)}}else return O($(this.path)===e,"operationForChild called for unrelated child."),new tu(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return Z(this.path)?new Pr(this.source,se()):new Pr(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Zt.OVERWRITE}operationForChild(e){return Z(this.path)?new cs(this.source,se(),this.snap.getImmediateChild(e)):new cs(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Zt.MERGE}operationForChild(e){if(Z(this.path)){const n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new cs(this.source,se(),n.value):new pa(this.source,se(),n)}else return O($(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new pa(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;const n=$(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $2(t,e,n,i){const s=[],a=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&a.push(P2(r.childName,r.snapshotNode))}),Fa(t,s,"child_removed",e,i,n),Fa(t,s,"child_added",e,i,n),Fa(t,s,"child_moved",a,i,n),Fa(t,s,"child_changed",e,i,n),Fa(t,s,"value",e,i,n),s}function Fa(t,e,n,i,s,a){const r=i.filter(l=>l.type===n);r.sort((l,o)=>J2(t,l,o)),r.forEach(l=>{const o=Z2(t,l,a);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(o,t.query_))})})}function Z2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function J2(t,e,n){if(e.childName==null||n.childName==null)throw Aa("Should only compare child_ events.");const i=new K(e.childName,e.snapshotNode),s=new K(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t,e){return{eventCache:t,serverCache:e}}function pr(t,e,n,i){return Hu(new xi(e,n,i),t.serverCache)}function SS(t,e,n,i){return Hu(t.eventCache,new xi(e,n,i))}function nu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc;const eM=()=>(Yc||(Yc=new dt(BR)),Yc);class ge{static fromObject(e){let n=new ge(null);return et(e,(i,s)=>{n=n.set(new de(i),s)}),n}constructor(e,n=eM()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:se(),value:this.value};if(Z(e))return null;{const i=$(e),s=this.children.get(i);if(s!==null){const a=s.findRootMostMatchingPathAndValue(_e(e),n);return a!=null?{path:Me(new de(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{const n=$(e),i=this.children.get(n);return i!==null?i.subtree(_e(e)):new ge(null)}}set(e,n){if(Z(e))return new ge(n,this.children);{const i=$(e),a=(this.children.get(i)||new ge(null)).set(_e(e),n),r=this.children.insert(i,a);return new ge(this.value,r)}}remove(e){if(Z(e))return this.children.isEmpty()?new ge(null):new ge(null,this.children);{const n=$(e),i=this.children.get(n);if(i){const s=i.remove(_e(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new ge(null):new ge(this.value,a)}else return this}}get(e){if(Z(e))return this.value;{const n=$(e),i=this.children.get(n);return i?i.get(_e(e)):null}}setTree(e,n){if(Z(e))return n;{const i=$(e),a=(this.children.get(i)||new ge(null)).setTree(_e(e),n);let r;return a.isEmpty()?r=this.children.remove(i):r=this.children.insert(i,a),new ge(this.value,r)}}fold(e){return this.fold_(se(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(Me(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,se(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(Z(e))return null;{const a=$(e),r=this.children.get(a);return r?r.findOnPath_(_e(e),Me(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,se(),n)}foreachOnPath_(e,n,i){if(Z(e))return this;{this.value&&i(n,this.value);const s=$(e),a=this.children.get(s);return a?a.foreachOnPath_(_e(e),Me(n,s),i):new ge(null)}}foreach(e){this.foreach_(se(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Me(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new ge(null))}}function gr(t,e,n){if(Z(e))return new en(new ge(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let a=i.value;const r=st(s,e);return a=a.updateChild(r,n),new en(t.writeTree_.set(s,a))}else{const s=new ge(n),a=t.writeTree_.setTree(e,s);return new en(a)}}}function oh(t,e,n){let i=t;return et(n,(s,a)=>{i=gr(i,Me(e,s),a)}),i}function c_(t,e){if(Z(e))return en.empty();{const n=t.writeTree_.setTree(e,new ge(null));return new en(n)}}function uh(t,e){return vs(t,e)!=null}function vs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(st(n.path,e)):null}function f_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Oe,(i,s)=>{e.push(new K(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new K(i,s.value))}),e}function Si(t,e){if(Z(e))return t;{const n=vs(t,e);return n!=null?new en(new ge(n)):new en(t.writeTree_.subtree(e))}}function ch(t){return t.writeTree_.isEmpty()}function ga(t,e){return ES(se(),t.writeTree_,e)}function ES(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(O(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=ES(Me(t,s),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Me(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e){return AS(e,t)}function tM(t,e,n,i,s){O(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=gr(t.visibleWrites,e,n)),t.lastWriteId=i}function nM(t,e,n,i){O(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=oh(t.visibleWrites,e,n),t.lastWriteId=i}function iM(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function sM(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,a=!1,r=t.allWrites.length-1;for(;s&&r>=0;){const l=t.allWrites[r];l.visible&&(r>=n&&aM(l,i.path)?s=!1:jt(i.path,l.path)&&(a=!0)),r--}if(s){if(a)return rM(t),!0;if(i.snap)t.visibleWrites=c_(t.visibleWrites,i.path);else{const l=i.children;et(l,o=>{t.visibleWrites=c_(t.visibleWrites,Me(i.path,o))})}return!0}else return!1}function aM(t,e){if(t.snap)return jt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&jt(Me(t.path,n),e))return!0;return!1}function rM(t){t.visibleWrites=TS(t.allWrites,lM,se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function lM(t){return t.visible}function TS(t,e,n){let i=en.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const r=a.path;let l;if(a.snap)jt(n,r)?(l=st(n,r),i=gr(i,l,a.snap)):jt(r,n)&&(l=st(r,n),i=gr(i,se(),a.snap.getChild(l)));else if(a.children){if(jt(n,r))l=st(n,r),i=oh(i,l,a.children);else if(jt(r,n))if(l=st(r,n),Z(l))i=oh(i,se(),a.children);else{const o=ca(a.children,$(l));if(o){const u=o.getChild(_e(l));i=gr(i,se(),u)}}}else throw Aa("WriteRecord should have .snap or .children")}}return i}function CS(t,e,n,i,s){if(!i&&!s){const a=vs(t.visibleWrites,e);if(a!=null)return a;{const r=Si(t.visibleWrites,e);if(ch(r))return n;if(n==null&&!uh(r,se()))return null;{const l=n||B.EMPTY_NODE;return ga(r,l)}}}else{const a=Si(t.visibleWrites,e);if(!s&&ch(a))return n;if(!s&&n==null&&!uh(a,se()))return null;{const r=function(u){return(u.visible||s)&&(!i||!~i.indexOf(u.writeId))&&(jt(u.path,e)||jt(e,u.path))},l=TS(t.allWrites,r,e),o=n||B.EMPTY_NODE;return ga(l,o)}}}function oM(t,e,n){let i=B.EMPTY_NODE;const s=vs(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Oe,(a,r)=>{i=i.updateImmediateChild(a,r)}),i;if(n){const a=Si(t.visibleWrites,e);return n.forEachChild(Oe,(r,l)=>{const o=ga(Si(a,new de(r)),l);i=i.updateImmediateChild(r,o)}),f_(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}else{const a=Si(t.visibleWrites,e);return f_(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}}function uM(t,e,n,i,s){O(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=Me(e,n);if(uh(t.visibleWrites,a))return null;{const r=Si(t.visibleWrites,a);return ch(r)?s.getChild(n):ga(r,s.getChild(n))}}function cM(t,e,n,i){const s=Me(e,n),a=vs(t.visibleWrites,s);if(a!=null)return a;if(i.isCompleteForChild(n)){const r=Si(t.visibleWrites,s);return ga(r,i.getNode().getImmediateChild(n))}else return null}function fM(t,e){return vs(t.visibleWrites,e)}function hM(t,e,n,i,s,a,r){let l;const o=Si(t.visibleWrites,e),u=vs(o,se());if(u!=null)l=u;else if(n!=null)l=ga(o,n);else return[];if(l=l.withIndex(r),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=r.getCompare(),c=a?l.getReverseIteratorFrom(i,r):l.getIteratorFrom(i,r);let m=c.getNext();for(;m&&h.length<s;)f(m,i)!==0&&h.push(m),m=c.getNext();return h}else return[]}function dM(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function iu(t,e,n,i){return CS(t.writeTree,t.treePath,e,n,i)}function nm(t,e){return oM(t.writeTree,t.treePath,e)}function h_(t,e,n,i){return uM(t.writeTree,t.treePath,e,n,i)}function su(t,e){return fM(t.writeTree,Me(t.treePath,e))}function mM(t,e,n,i,s,a){return hM(t.writeTree,t.treePath,e,n,i,s,a)}function im(t,e,n){return cM(t.writeTree,t.treePath,e,n)}function wS(t,e){return AS(Me(t.treePath,e),t.writeTree)}function AS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,Hr(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,Br(i,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,ma(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,Hr(i,e.snapshotNode,s.oldSnap));else throw Aa("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const NS=new gM;class sm{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return im(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fs(this.viewCache_),a=mM(this.writes_,s,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){return{filter:t}}function yM(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function vM(t,e,n,i,s){const a=new pM;let r,l;if(n.type===Zt.OVERWRITE){const u=n;u.source.fromUser?r=fh(t,e,u.path,u.snap,i,s,a):(O(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!Z(u.path),r=au(t,e,u.path,u.snap,i,s,l,a))}else if(n.type===Zt.MERGE){const u=n;u.source.fromUser?r=SM(t,e,u.path,u.children,i,s,a):(O(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),r=hh(t,e,u.path,u.children,i,s,l,a))}else if(n.type===Zt.ACK_USER_WRITE){const u=n;u.revert?r=CM(t,e,u.path,i,s,a):r=EM(t,e,u.path,u.affectedTree,i,s,a)}else if(n.type===Zt.LISTEN_COMPLETE)r=TM(t,e,n.path,i,a);else throw Aa("Unknown operation type: "+n.type);const o=a.getChanges();return bM(e,r,o),{viewCache:r,changes:o}}function bM(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=nu(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(vS(nu(e)))}}function xS(t,e,n,i,s,a){const r=e.eventCache;if(su(i,n)!=null)return e;{let l,o;if(Z(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=fs(e),h=u instanceof B?u:B.EMPTY_NODE,f=nm(i,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const u=iu(i,fs(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,a)}else{const u=$(n);if(u===".priority"){O(Ni(n)===1,"Can't have a priority with additional path components");const h=r.getNode();o=e.serverCache.getNode();const f=h_(i,n,h,o);f!=null?l=t.filter.updatePriority(h,f):l=r.getNode()}else{const h=_e(n);let f;if(r.isCompleteForChild(u)){o=e.serverCache.getNode();const c=h_(i,n,r.getNode(),o);c!=null?f=r.getNode().getImmediateChild(u).updateChild(h,c):f=r.getNode().getImmediateChild(u)}else f=im(i,u,e.serverCache);f!=null?l=t.filter.updateChild(r.getNode(),u,f,h,s,a):l=r.getNode()}}return pr(e,l,r.isFullyInitialized()||Z(n),t.filter.filtersNodes())}}function au(t,e,n,i,s,a,r,l){const o=e.serverCache;let u;const h=r?t.filter:t.filter.getIndexedFilter();if(Z(n))u=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const m=o.getNode().updateChild(n,i);u=h.updateFullNode(o.getNode(),m,null)}else{const m=$(n);if(!o.isCompleteForPath(n)&&Ni(n)>1)return e;const _=_e(n),C=o.getNode().getImmediateChild(m).updateChild(_,i);m===".priority"?u=h.updatePriority(o.getNode(),C):u=h.updateChild(o.getNode(),m,C,_,NS,null)}const f=SS(e,u,o.isFullyInitialized()||Z(n),h.filtersNodes()),c=new sm(s,f,a);return xS(t,f,n,s,c,l)}function fh(t,e,n,i,s,a,r){const l=e.eventCache;let o,u;const h=new sm(s,e,a);if(Z(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,r),o=pr(e,u,!0,t.filter.filtersNodes());else{const f=$(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),o=pr(e,u,l.isFullyInitialized(),l.isFiltered());else{const c=_e(n),m=l.getNode().getImmediateChild(f);let _;if(Z(c))_=i;else{const T=h.getCompleteChild(f);T!=null?Qd(c)===".priority"&&T.getChild(hS(c)).isEmpty()?_=T:_=T.updateChild(c,i):_=B.EMPTY_NODE}if(m.equals(_))o=e;else{const T=t.filter.updateChild(l.getNode(),f,_,c,h,r);o=pr(e,T,l.isFullyInitialized(),t.filter.filtersNodes())}}}return o}function d_(t,e){return t.eventCache.isCompleteForChild(e)}function SM(t,e,n,i,s,a,r){let l=e;return i.foreach((o,u)=>{const h=Me(n,o);d_(e,$(h))&&(l=fh(t,l,h,u,s,a,r))}),i.foreach((o,u)=>{const h=Me(n,o);d_(e,$(h))||(l=fh(t,l,h,u,s,a,r))}),l}function m_(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function hh(t,e,n,i,s,a,r,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let o=e,u;Z(n)?u=i:u=new ge(null).setTree(n,i);const h=e.serverCache.getNode();return u.children.inorderTraversal((f,c)=>{if(h.hasChild(f)){const m=e.serverCache.getNode().getImmediateChild(f),_=m_(t,m,c);o=au(t,o,new de(f),_,s,a,r,l)}}),u.children.inorderTraversal((f,c)=>{const m=!e.serverCache.isCompleteForChild(f)&&c.value===null;if(!h.hasChild(f)&&!m){const _=e.serverCache.getNode().getImmediateChild(f),T=m_(t,_,c);o=au(t,o,new de(f),T,s,a,r,l)}}),o}function EM(t,e,n,i,s,a,r){if(su(s,n)!=null)return e;const l=e.serverCache.isFiltered(),o=e.serverCache;if(i.value!=null){if(Z(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return au(t,e,n,o.getNode().getChild(n),s,a,l,r);if(Z(n)){let u=new ge(null);return o.getNode().forEachChild($s,(h,f)=>{u=u.set(new de(h),f)}),hh(t,e,n,u,s,a,l,r)}else return e}else{let u=new ge(null);return i.foreach((h,f)=>{const c=Me(n,h);o.isCompleteForPath(c)&&(u=u.set(h,o.getNode().getChild(c)))}),hh(t,e,n,u,s,a,l,r)}}function TM(t,e,n,i,s){const a=e.serverCache,r=SS(e,a.getNode(),a.isFullyInitialized()||Z(n),a.isFiltered());return xS(t,r,n,i,NS,s)}function CM(t,e,n,i,s,a){let r;if(su(i,n)!=null)return e;{const l=new sm(i,e,s),o=e.eventCache.getNode();let u;if(Z(n)||$(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=iu(i,fs(e));else{const f=e.serverCache.getNode();O(f instanceof B,"serverChildren would be complete if leaf node"),h=nm(i,f)}h=h,u=t.filter.updateFullNode(o,h,a)}else{const h=$(n);let f=im(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=o.getImmediateChild(h)),f!=null?u=t.filter.updateChild(o,h,f,_e(n),l,a):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(o,h,B.EMPTY_NODE,_e(n),l,a):u=o,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=iu(i,fs(e)),r.isLeafNode()&&(u=t.filter.updateFullNode(u,r,a)))}return r=e.serverCache.isFullyInitialized()||su(i,se())!=null,pr(e,u,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new $d(i.getIndex()),a=q2(i);this.processor_=_M(a);const r=n.serverCache,l=n.eventCache,o=s.updateFullNode(B.EMPTY_NODE,r.getNode(),null),u=a.updateFullNode(B.EMPTY_NODE,l.getNode(),null),h=new xi(o,r.isFullyInitialized(),s.filtersNodes()),f=new xi(u,l.isFullyInitialized(),a.filtersNodes());this.viewCache_=Hu(f,h),this.eventGenerator_=new W2(this.query_)}get query(){return this.query_}}function AM(t){return t.viewCache_.serverCache.getNode()}function NM(t){return nu(t.viewCache_)}function xM(t,e){const n=fs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Z(e)&&!n.getImmediateChild($(e)).isEmpty())?n.getChild(e):null}function p_(t){return t.eventRegistrations_.length===0}function RM(t,e){t.eventRegistrations_.push(e)}function g_(t,e,n){const i=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const r=a.createCancelEvent(n,s);r&&i.push(r)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const r=t.eventRegistrations_[a];if(!r.matches(e))s.push(r);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function __(t,e,n,i){e.type===Zt.MERGE&&e.source.queryId!==null&&(O(fs(t.viewCache_),"We should always have a full cache before handling merges"),O(nu(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=vM(t.processor_,s,e,n,i);return yM(t.processor_,a.viewCache),O(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,RS(t,a.changes,a.viewCache.eventCache.getNode(),null)}function MM(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Oe,(a,r)=>{i.push(ma(a,r))}),n.isFullyInitialized()&&i.push(vS(n.getNode())),RS(t,i,n.getNode(),e)}function RS(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return $2(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru;class MS{constructor(){this.views=new Map}}function OM(t){O(!ru,"__referenceConstructor has already been defined"),ru=t}function DM(){return O(ru,"Reference.ts has not been loaded"),ru}function IM(t){return t.views.size===0}function am(t,e,n,i){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return O(a!=null,"SyncTree gave us an op for an invalid query."),__(a,e,n,i)}else{let a=[];for(const r of t.views.values())a=a.concat(__(r,e,n,i));return a}}function OS(t,e,n,i,s){const a=e._queryIdentifier,r=t.views.get(a);if(!r){let l=iu(n,s?i:null),o=!1;l?o=!0:i instanceof B?(l=nm(n,i),o=!1):(l=B.EMPTY_NODE,o=!1);const u=Hu(new xi(l,o,!1),new xi(i,s,!1));return new wM(e,u)}return r}function kM(t,e,n,i,s,a){const r=OS(t,e,i,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),RM(r,n),MM(r,n)}function LM(t,e,n,i){const s=e._queryIdentifier,a=[];let r=[];const l=Ri(t);if(s==="default")for(const[o,u]of t.views.entries())r=r.concat(g_(u,n,i)),p_(u)&&(t.views.delete(o),u.query._queryParams.loadsAllData()||a.push(u.query));else{const o=t.views.get(s);o&&(r=r.concat(g_(o,n,i)),p_(o)&&(t.views.delete(s),o.query._queryParams.loadsAllData()||a.push(o.query)))}return l&&!Ri(t)&&a.push(new(DM())(e._repo,e._path)),{removed:a,events:r}}function DS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ei(t,e){let n=null;for(const i of t.views.values())n=n||xM(i,e);return n}function IS(t,e){if(e._queryParams.loadsAllData())return Pu(t);{const i=e._queryIdentifier;return t.views.get(i)}}function kS(t,e){return IS(t,e)!=null}function Ri(t){return Pu(t)!=null}function Pu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu;function UM(t){O(!lu,"__referenceConstructor has already been defined"),lu=t}function zM(){return O(lu,"Reference.ts has not been loaded"),lu}let BM=1;class y_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ge(null),this.pendingWriteTree_=dM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function HM(t,e,n,i,s){return tM(t.pendingWriteTree_,e,n,i,s),s?Da(t,new cs(Jd(),e,n)):[]}function jM(t,e,n,i){nM(t.pendingWriteTree_,e,n,i);const s=ge.fromObject(n);return Da(t,new pa(Jd(),e,s))}function Yi(t,e,n=!1){const i=iM(t.pendingWriteTree_,e);if(sM(t.pendingWriteTree_,e)){let a=new ge(null);return i.snap!=null?a=a.set(se(),!0):et(i.children,r=>{a=a.set(new de(r),!0)}),Da(t,new tu(i.path,a,n))}else return[]}function dl(t,e,n){return Da(t,new cs(em(),e,n))}function PM(t,e,n){const i=ge.fromObject(n);return Da(t,new pa(em(),e,i))}function VM(t,e){return Da(t,new Pr(em(),e))}function qM(t,e,n){const i=rm(t,n);if(i){const s=lm(i),a=s.path,r=s.queryId,l=st(a,e),o=new Pr(tm(r),l);return om(t,a,o)}else return[]}function ou(t,e,n,i,s=!1){const a=e._path,r=t.syncPointTree_.get(a);let l=[];if(r&&(e._queryIdentifier==="default"||kS(r,e))){const o=LM(r,e,n,i);IM(r)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const u=o.removed;if(l=o.events,!s){const h=u.findIndex(c=>c._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(a,(c,m)=>Ri(m));if(h&&!f){const c=t.syncPointTree_.subtree(a);if(!c.isEmpty()){const m=YM(c);for(let _=0;_<m.length;++_){const T=m[_],C=T.query,p=HS(t,T);t.listenProvider_.startListening(_r(C),Vr(t,C),p.hashFn,p.onComplete)}}}!f&&u.length>0&&!i&&(h?t.listenProvider_.stopListening(_r(e),null):u.forEach(c=>{const m=t.queryToTagMap.get(Vu(c));t.listenProvider_.stopListening(_r(c),m)}))}QM(t,u)}return l}function LS(t,e,n,i){const s=rm(t,i);if(s!=null){const a=lm(s),r=a.path,l=a.queryId,o=st(r,e),u=new cs(tm(l),o,n);return om(t,r,u)}else return[]}function GM(t,e,n,i){const s=rm(t,i);if(s){const a=lm(s),r=a.path,l=a.queryId,o=st(r,e),u=ge.fromObject(n),h=new pa(tm(l),o,u);return om(t,r,h)}else return[]}function dh(t,e,n,i=!1){const s=e._path;let a=null,r=!1;t.syncPointTree_.foreachOnPath(s,(c,m)=>{const _=st(c,s);a=a||Ei(m,_),r=r||Ri(m)});let l=t.syncPointTree_.get(s);l?(r=r||Ri(l),a=a||Ei(l,se())):(l=new MS,t.syncPointTree_=t.syncPointTree_.set(s,l));let o;a!=null?o=!0:(o=!1,a=B.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((m,_)=>{const T=Ei(_,se());T&&(a=a.updateImmediateChild(m,T))}));const u=kS(l,e);if(!u&&!e._queryParams.loadsAllData()){const c=Vu(e);O(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");const m=KM();t.queryToTagMap.set(c,m),t.tagToQueryMap.set(m,c)}const h=ju(t.pendingWriteTree_,s);let f=kM(l,e,n,h,a,o);if(!u&&!r&&!i){const c=IS(l,e);f=f.concat(XM(t,e,c))}return f}function US(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(r,l)=>{const o=st(r,e),u=Ei(l,o);if(u)return u});return CS(s,e,a,n,!0)}function FM(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(u,h)=>{const f=st(u,n);i=i||Ei(h,f)});let s=t.syncPointTree_.get(n);s?i=i||Ei(s,se()):(s=new MS,t.syncPointTree_=t.syncPointTree_.set(n,s));const a=i!=null,r=a?new xi(i,!0,!1):null,l=ju(t.pendingWriteTree_,e._path),o=OS(s,e,l,a?r.getNode():B.EMPTY_NODE,a);return NM(o)}function Da(t,e){return zS(e,t.syncPointTree_,null,ju(t.pendingWriteTree_,se()))}function zS(t,e,n,i){if(Z(t.path))return BS(t,e,n,i);{const s=e.get(se());n==null&&s!=null&&(n=Ei(s,se()));let a=[];const r=$(t.path),l=t.operationForChild(r),o=e.children.get(r);if(o&&l){const u=n?n.getImmediateChild(r):null,h=wS(i,r);a=a.concat(zS(l,o,u,h))}return s&&(a=a.concat(am(s,t,i,n))),a}}function BS(t,e,n,i){const s=e.get(se());n==null&&s!=null&&(n=Ei(s,se()));let a=[];return e.children.inorderTraversal((r,l)=>{const o=n?n.getImmediateChild(r):null,u=wS(i,r),h=t.operationForChild(r);h&&(a=a.concat(BS(h,l,o,u)))}),s&&(a=a.concat(am(s,t,i,n))),a}function HS(t,e){const n=e.query,i=Vr(t,n);return{hashFn:()=>(AM(e)||B.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?qM(t,n._path,i):VM(t,n._path);{const a=PR(s,n);return ou(t,n,null,a)}}}}function Vr(t,e){const n=Vu(e);return t.queryToTagMap.get(n)}function Vu(t){return t._path.toString()+"$"+t._queryIdentifier}function rm(t,e){return t.tagToQueryMap.get(e)}function lm(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function om(t,e,n){const i=t.syncPointTree_.get(e);O(i,"Missing sync point for query tag that we're tracking");const s=ju(t.pendingWriteTree_,e);return am(i,n,s,null)}function YM(t){return t.fold((e,n,i)=>{if(n&&Ri(n))return[Pu(n)];{let s=[];return n&&(s=DS(n)),et(i,(a,r)=>{s=s.concat(r)}),s}})}function _r(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(zM())(t._repo,t._path):t}function QM(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Vu(i),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function KM(){return BM++}function XM(t,e,n){const i=e._path,s=Vr(t,e),a=HS(t,n),r=t.listenProvider_.startListening(_r(e),s,a.hashFn,a.onComplete),l=t.syncPointTree_.subtree(i);if(s)O(!Ri(l.value),"If we're adding a query, it shouldn't be shadowed");else{const o=l.fold((u,h,f)=>{if(!Z(u)&&h&&Ri(h))return[Pu(h).query];{let c=[];return h&&(c=c.concat(DS(h).map(m=>m.query))),et(f,(m,_)=>{c=c.concat(_)}),c}});for(let u=0;u<o.length;++u){const h=o[u];t.listenProvider_.stopListening(_r(h),Vr(t,h))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new um(n)}node(){return this.node_}}class cm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Me(this.path_,e);return new cm(this.syncTree_,n)}node(){return US(this.syncTree_,this.path_)}}const WM=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},v_=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return $M(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ZM(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},$M=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},ZM=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&O(!1,"Unexpected increment value: "+i);const s=e.node();if(O(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return typeof r!="number"?i:r+i},jS=function(t,e,n,i){return fm(e,new cm(n,t),i)},JM=function(t,e,n){return fm(t,new um(e),n)};function fm(t,e,n){const i=t.getPriority().val(),s=v_(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const r=t,l=v_(r.getValue(),e,n);return l!==r.getValue()||s!==r.getPriority().val()?new Pe(l,Fe(s)):t}else{const r=t;return a=r,s!==r.getPriority().val()&&(a=a.updatePriority(new Pe(s))),r.forEachChild(Oe,(l,o)=>{const u=fm(o,e.getImmediateChild(l),n);u!==o&&(a=a.updateImmediateChild(l,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function dm(t,e){let n=e instanceof de?e:new de(e),i=t,s=$(n);for(;s!==null;){const a=ca(i.node.children,s)||{children:{},childCount:0};i=new hm(s,i,a),n=_e(n),s=$(n)}return i}function Ia(t){return t.node.value}function PS(t,e){t.node.value=e,mh(t)}function VS(t){return t.node.childCount>0}function eO(t){return Ia(t)===void 0&&!VS(t)}function qu(t,e){et(t.node.children,(n,i)=>{e(new hm(n,t,i))})}function qS(t,e,n,i){n&&e(t),qu(t,s=>{qS(s,e,!0)})}function tO(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function ml(t){return new de(t.parent===null?t.name:ml(t.parent)+"/"+t.name)}function mh(t){t.parent!==null&&nO(t.parent,t.name,t)}function nO(t,e,n){const i=eO(n),s=mn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,mh(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,mh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/[\[\].#$\/\u0000-\u001F\u007F]/,sO=/[\[\].#$\u0000-\u001F\u007F]/,Qc=10*1024*1024,mm=function(t){return typeof t=="string"&&t.length!==0&&!iO.test(t)},GS=function(t){return typeof t=="string"&&t.length!==0&&!sO.test(t)},aO=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GS(t)},rO=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Vd(t)||t&&typeof t=="object"&&mn(t,".sv")},pm=function(t,e,n){const i=n instanceof de?new S2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Vi(i));if(typeof e=="function")throw new Error(t+"contains a function "+Vi(i)+" with contents = "+e.toString());if(Vd(e))throw new Error(t+"contains "+e.toString()+" "+Vi(i));if(typeof e=="string"&&e.length>Qc/3&&ku(e)>Qc)throw new Error(t+"contains a string greater than "+Qc+" utf8 bytes "+Vi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(et(e,(r,l)=>{if(r===".value")s=!0;else if(r!==".priority"&&r!==".sv"&&(a=!0,!mm(r)))throw new Error(t+" contains an invalid key ("+r+") "+Vi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);E2(i,r),pm(t,l,i),T2(i)}),s&&a)throw new Error(t+' contains ".value" child '+Vi(i)+" in addition to actual children.")}},lO=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const a=zr(i);for(let r=0;r<a.length;r++)if(!(a[r]===".priority"&&r===a.length-1)){if(!mm(a[r]))throw new Error(t+"contains an invalid key ("+a[r]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(b2);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&jt(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},oO=function(t,e,n,i){const s=xd(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const a=[];et(e,(r,l)=>{const o=new de(r);if(pm(s,l,Me(n,o)),Qd(o)===".priority"&&!rO(l))throw new Error(s+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(o)}),lO(s,a)},FS=function(t,e,n,i){if(!GS(n))throw new Error(xd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},uO=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),FS(t,e,n)},cO=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!mm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!aO(n))throw new Error(xd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gm(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],a=s.getPath();n!==null&&!Kd(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function YS(t,e,n){gm(t,n),QS(t,i=>Kd(i,e))}function fn(t,e,n){gm(t,n),QS(t,i=>jt(i,e)||jt(e,i))}function QS(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const a=s.path;e(a)?(hO(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function hO(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();dr&&Xe("event: "+n.toString()),Oa(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="repo_interrupt",mO=25;class pO{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=eu(),this.transactionQueueTree_=new hm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gO(t,e,n){if(t.stats_=Fd(t.repoInfo_),t.forceRestClient_||FR())t.server_=new Jo(t.repoInfo_,(i,s,a,r)=>{b_(t,i,s,a,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>S_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{He(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new kn(t.repoInfo_,e,(i,s,a,r)=>{b_(t,i,s,a,r)},i=>{S_(t,i)},i=>{yO(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=WR(t.repoInfo_,()=>new X2(t.stats_,t.server_)),t.infoData_=new G2,t.infoSyncTree_=new y_({startListening:(i,s,a,r)=>{let l=[];const o=t.infoData_.getNode(i._path);return o.isEmpty()||(l=dl(t.infoSyncTree_,i._path,o),setTimeout(()=>{r("ok")},0)),l},stopListening:()=>{}}),ym(t,"connected",!1),t.serverSyncTree_=new y_({startListening:(i,s,a,r)=>(t.server_.listen(i,a,s,(l,o)=>{const u=r(l,o);fn(t.eventQueue_,i._path,u)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function _O(t){const n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _m(t){return WM({timestamp:_O(t)})}function b_(t,e,n,i,s){t.dataUpdateCount++;const a=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(s)if(i){const o=Vo(n,u=>Fe(u));r=GM(t.serverSyncTree_,a,o,s)}else{const o=Fe(n);r=LS(t.serverSyncTree_,a,o,s)}else if(i){const o=Vo(n,u=>Fe(u));r=PM(t.serverSyncTree_,a,o)}else{const o=Fe(n);r=dl(t.serverSyncTree_,a,o)}let l=a;r.length>0&&(l=qr(t,a)),fn(t.eventQueue_,l,r)}function S_(t,e){ym(t,"connected",e),e===!1&&SO(t)}function yO(t,e){et(e,(n,i)=>{ym(t,n,i)})}function ym(t,e,n){const i=new de("/.info/"+e),s=Fe(n);t.infoData_.updateSnapshot(i,s);const a=dl(t.infoSyncTree_,i,s);fn(t.eventQueue_,i,a)}function KS(t){return t.nextWriteId_++}function vO(t,e,n){const i=FM(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const a=Fe(s).withIndex(e._queryParams.getIndex());dh(t.serverSyncTree_,e,n,!0);let r;if(e._queryParams.loadsAllData())r=dl(t.serverSyncTree_,e._path,a);else{const l=Vr(t.serverSyncTree_,e);r=LS(t.serverSyncTree_,e._path,a,l)}return fn(t.eventQueue_,e._path,r),ou(t.serverSyncTree_,e,n,null,!0),a},s=>(Gu(t,"get for query "+He(e)+" failed: "+s),Promise.reject(new Error(s))))}function bO(t,e,n,i){Gu(t,"update",{path:e.toString(),value:n});let s=!0;const a=_m(t),r={};if(et(n,(l,o)=>{s=!1,r[l]=jS(Me(e,l),Fe(o),t.serverSyncTree_,a)}),s)Xe("update() called with empty data.  Don't do anything."),E_(t,i,"ok",void 0);else{const l=KS(t),o=jM(t.serverSyncTree_,e,r,l);gm(t.eventQueue_,o),t.server_.merge(e.toString(),n,(u,h)=>{const f=u==="ok";f||pt("update at "+e+" failed: "+u);const c=Yi(t.serverSyncTree_,l,!f),m=c.length>0?qr(t,e):e;fn(t.eventQueue_,m,c),E_(t,i,u,h)}),et(n,u=>{const h=eE(t,Me(e,u));qr(t,h)}),fn(t.eventQueue_,e,[])}}function SO(t){Gu(t,"onDisconnectEvents");const e=_m(t),n=eu();lh(t.onDisconnect_,se(),(s,a)=>{const r=jS(s,a,t.serverSyncTree_,e);bS(n,s,r)});let i=[];lh(n,se(),(s,a)=>{i=i.concat(dl(t.serverSyncTree_,s,a));const r=eE(t,s);qr(t,r)}),t.onDisconnect_=eu(),fn(t.eventQueue_,se(),i)}function EO(t,e,n){let i;$(e._path)===".info"?i=dh(t.infoSyncTree_,e,n):i=dh(t.serverSyncTree_,e,n),YS(t.eventQueue_,e._path,i)}function XS(t,e,n){let i;$(e._path)===".info"?i=ou(t.infoSyncTree_,e,n):i=ou(t.serverSyncTree_,e,n),YS(t.eventQueue_,e._path,i)}function TO(t){t.persistentConnection_&&t.persistentConnection_.interrupt(dO)}function Gu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Xe(n,...e)}function E_(t,e,n,i){e&&Oa(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;i&&(a+=": "+i);const r=new Error(a);r.code=s,e(r)}})}function WS(t,e,n){return US(t.serverSyncTree_,e,n)||B.EMPTY_NODE}function vm(t,e=t.transactionQueueTree_){if(e||Fu(t,e),Ia(e)){const n=ZS(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&CO(t,ml(e),n)}else VS(e)&&qu(e,n=>{vm(t,n)})}function CO(t,e,n){const i=n.map(u=>u.currentWriteId),s=WS(t,e,i);let a=s;const r=s.hash();for(let u=0;u<n.length;u++){const h=n[u];O(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=st(e,h.path);a=a.updateChild(f,h.currentOutputSnapshotRaw)}const l=a.val(!0),o=e;t.server_.put(o.toString(),l,u=>{Gu(t,"transaction put response",{path:o.toString(),status:u});let h=[];if(u==="ok"){const f=[];for(let c=0;c<n.length;c++)n[c].status=2,h=h.concat(Yi(t.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&f.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();Fu(t,dm(t.transactionQueueTree_,e)),vm(t,t.transactionQueueTree_),fn(t.eventQueue_,e,h);for(let c=0;c<f.length;c++)Oa(f[c])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{pt("transaction at "+o.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}qr(t,e)}},r)}function qr(t,e){const n=$S(t,e),i=ml(n),s=ZS(t,n);return wO(t,s,i),i}function wO(t,e,n){if(e.length===0)return;const i=[];let s=[];const r=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const o=e[l],u=st(n,o.path);let h=!1,f;if(O(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,f=o.abortReason,s=s.concat(Yi(t.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=mO)h=!0,f="maxretry",s=s.concat(Yi(t.serverSyncTree_,o.currentWriteId,!0));else{const c=WS(t,o.path,r);o.currentInputSnapshot=c;const m=e[l].update(c.val());if(m!==void 0){pm("transaction failed: Data returned ",m,o.path);let _=Fe(m);typeof m=="object"&&m!=null&&mn(m,".priority")||(_=_.updatePriority(c.getPriority()));const C=o.currentWriteId,p=_m(t),d=JM(_,c,p);o.currentOutputSnapshotRaw=_,o.currentOutputSnapshotResolved=d,o.currentWriteId=KS(t),r.splice(r.indexOf(C),1),s=s.concat(HM(t.serverSyncTree_,o.path,d,o.currentWriteId,o.applyLocally)),s=s.concat(Yi(t.serverSyncTree_,C,!0))}else h=!0,f="nodata",s=s.concat(Yi(t.serverSyncTree_,o.currentWriteId,!0))}fn(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(c){setTimeout(c,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(f),!1,null))))}Fu(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Oa(i[l]);vm(t,t.transactionQueueTree_)}function $S(t,e){let n,i=t.transactionQueueTree_;for(n=$(e);n!==null&&Ia(i)===void 0;)i=dm(i,n),e=_e(e),n=$(e);return i}function ZS(t,e){const n=[];return JS(t,e,n),n.sort((i,s)=>i.order-s.order),n}function JS(t,e,n){const i=Ia(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);qu(e,s=>{JS(t,s,n)})}function Fu(t,e){const n=Ia(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,PS(e,n.length>0?n:void 0)}qu(e,i=>{Fu(t,i)})}function eE(t,e){const n=ml($S(t,e)),i=dm(t.transactionQueueTree_,e);return tO(i,s=>{Kc(t,s)}),Kc(t,i),qS(i,s=>{Kc(t,s)}),n}function Kc(t,e){const n=Ia(e);if(n){const i=[];let s=[],a=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(O(a===r-1,"All SENT items should be at beginning of queue."),a=r,n[r].status=3,n[r].abortReason="set"):(O(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),s=s.concat(Yi(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&i.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));a===-1?PS(e,void 0):n.length=a+1,fn(t.eventQueue_,ml(e),s);for(let r=0;r<i.length;r++)Oa(i[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function NO(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):pt(`Invalid query segment '${n}' in query '${t}'`)}return e}const T_=function(t,e){const n=xO(t),i=n.namespace;n.domain==="firebase.com"&&qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||UR();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new iS(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new de(n.pathString)}},xO=function(t){let e="",n="",i="",s="",a="",r=!0,l="https",o=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=AO(t.substring(h,f)));const c=NO(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(r=l==="https"||l==="wss",o=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const _=e.indexOf(".");i=e.substring(0,_).toLowerCase(),n=e.substring(_+1),a=i}"ns"in c&&(a=c.ns)}return{host:e,port:o,domain:n,subdomain:i,secure:r,scheme:l,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+He(this.snapshot.exportVal())}}class MO{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return Z(this._path)?null:Qd(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=o_(this._queryParams),n=qd(e);return n==="{}"?"default":n}get _queryObject(){return o_(this._queryParams)}isEqual(e){if(e=Ot(e),!(e instanceof Sm))return!1;const n=this._repo===e._repo,i=Kd(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+v2(this._path)}}class Yn extends Sm{constructor(e,n){super(e,n,new Zd,!1)}get parent(){const e=hS(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Gr{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new de(e),i=ph(this.ref,e);return new Gr(this._node.getChild(n),i,Oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Gr(s,ph(this.ref,i),Oe)))}hasChild(e){const n=new de(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _t(t,e){return t=Ot(t),t._checkNotDeleted("ref"),e!==void 0?ph(t._root,e):t._root}function ph(t,e){return t=Ot(t),$(t._path)===null?uO("child","path",e):FS("child","path",e),new Yn(t._repo,Me(t._path,e))}function bs(t,e){oO("update",e,t._path);const n=new Iu;return bO(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Em(t){t=Ot(t);const e=new bm(()=>{}),n=new pl(e);return vO(t._repo,t,n).then(i=>new Gr(i,new Yn(t._repo,t._path),t._queryParams.getIndex()))}class pl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new RO("value",this,new Gr(e.snapshotNode,new Yn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new MO(this,e,n):null}matches(e){return e instanceof pl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function OO(t,e,n,i,s){const a=new bm(n,void 0),r=new pl(a);return EO(t._repo,t,r),()=>XS(t._repo,t,r)}function Tm(t,e,n,i){return OO(t,"value",e)}function Yu(t,e,n){let i=null;const s=n?new bm(n):null;i=new pl(s),XS(t._repo,t,i)}OM(Yn);UM(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="FIREBASE_DATABASE_EMULATOR_HOST",gh={};let IO=!1;function kO(t,e,n,i){const s=e.lastIndexOf(":"),a=e.substring(0,s),r=Na(a);t.repoInfo_=new iS(e,r,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function LO(t,e,n,i,s){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=T_(a,s),l=r.repoInfo,o;typeof process<"u"&&Gg&&(o=Gg[DO]),o?(a=`http://${o}?ns=${l.namespace}`,r=T_(a,s),l=r.repoInfo):r.repoInfo.secure;const u=new QR(t.name,t.options,e);cO("Invalid Firebase Database URL",r),Z(r.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=zO(l,t,u,new YR(t,n));return new BO(h,t)}function UO(t,e){const n=gh[e];(!n||n[t.key]!==t)&&qn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),TO(t),delete n[t.key]}function zO(t,e,n,i){let s=gh[e.name];s||(s={},gh[e.name]=s);let a=s[t.toURLString()];return a&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new pO(t,IO,n,i),s[t.toURLString()]=a,a}class BO{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&qn("Cannot call "+e+" on a deleted database.")}}function HO(t=ob(),e){const n=Od(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=tA("database");i&&jO(n,...i)}return n}function jO(t,e,n,i={}){t=Ot(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&rs(i,a.repoInfo_.emulatorOptions))return;qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let r;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new ro(ro.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:nA(i.mockUserToken,t.app.options.projectId);r=new ro(l)}Na(e)&&(tb(e),nb("Database",!0)),kO(a,s,i,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){MR(Ra),fa(new ls("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return LO(i,s,a,n)},"PUBLIC").setMultipleInstances(!0)),bi(Fg,Yg,t),bi(Fg,Yg,"esm2020")}kn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};kn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};PO();const VO={apiKey:"AIzaSyDks3_CoJfEpj2bqTCGeQZhGibXgY9n9l8",authDomain:"shopping-spree-94c4d.firebaseapp.com",projectId:"shopping-spree-94c4d",storageBucket:"shopping-spree-94c4d.firebasestorage.app",messagingSenderId:"289860492862",appId:"1:289860492862:web:63f3b31fe637472280fb6f",databaseURL:"https://shopping-spree-94c4d-default-rtdb.europe-west1.firebasedatabase.app"};let Ul=null,es=null,C_=null;const Qu=[],Cm="buildInfo";function tt(){return Ul||(Ul=lb(VO),es=xR(Ul),C_=HO(Ul)),{auth:es,database:C_}}function qO(){const{auth:t}=tt();return new Promise(e=>{const n=Mb(t,i=>{n(),e(i)},()=>{n(),e(null)})})}function wm(t){const{auth:e}=tt();return Mb(e,t)}async function tE(){const{auth:t}=tt(),e=new Tn,i=(await zx(t,e)).user;if(!await Am(i.uid)){await GO(i),await Ob(t);const a=new Error(`${i.email} is not whitelisted yet. You've been added to the waiting list.`);throw a.code="auth/waiting-list",a.waitingUid=i.uid,a}return i}async function Am(t){const{database:e}=tt(),n=_t(e,`whitelist/${t}`);return(await Em(n)).exists()}async function GO(t){const{database:e}=tt(),n=_t(e,`waitingList/${t.uid}`);await bs(n,{email:t.email,displayName:t.displayName||"",requestedAt:new Date().toISOString(),status:"pending"})}async function nE(){es&&await Ob(es)}function Nm(){return(es==null?void 0:es.currentUser)||null}async function _h(){const{database:t}=tt(),e=_t(t,"family/shared"),n=await Em(e);if(!n.exists())return null;const i=n.val();return i.items&&typeof i.items=="object"&&!Array.isArray(i.items)&&(i.items=Object.values(i.items)),i}async function iE(){const{database:t}=tt(),e=_t(t,Cm),n=await Em(e);return n.exists()?n.val():null}async function lo(t,e,n){const{database:i,auth:s}=tt(),a=s.currentUser;if(!a)throw new Error("User not authenticated");_t(i,`family/shared/budget/${t}/${e}`),await bs(_t(i,"family/shared"),{[`budget/${t}/${e}`]:n,lastModified:new Date().toISOString(),lastModifiedBy:a.email})}async function qi(t){const{database:e,auth:n}=tt(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await bs(_t(e,"family/shared"),{[`items/${t.id}`]:t,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function FO(t){const{database:e,auth:n}=tt(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await bs(_t(e,"family/shared"),{[`items/${t}`]:null,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function sE(t){const{database:e,auth:n}=tt(),i=n.currentUser;if(!i)throw new Error("User not authenticated");const s=_t(e,"family/shared");await bs(s,{budget:t,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function aE(t){const{database:e,auth:n}=tt(),i=n.currentUser;if(!i)throw new Error("User not authenticated");const s=t.reduce((r,l)=>(r[l.id]=l,r),{}),a=_t(e,"family/shared");await bs(a,{items:s,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function rE(t){const{database:e,auth:n}=tt(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await bs(_t(e,Cm),{...t,lastUpdatedAt:new Date().toISOString(),lastUpdatedBy:i.email})}function YO(t){const{database:e}=tt(),n=_t(e,"family/shared/budget"),i=s=>{t(s.exists()?s.val():null)};return Tm(n,i),Qu.push({ref:n,handler:i}),()=>Yu(n,"value",i)}function QO(t){const{database:e}=tt(),n=_t(e,"family/shared/items"),i=s=>{if(s.exists()){const a=s.val(),r=Object.values(a||{});t(r)}};return Tm(n,i),Qu.push({ref:n,handler:i}),()=>Yu(n,"value",i)}function KO(t){const{database:e}=tt(),n=_t(e,Cm),i=s=>{t(s.exists()?s.val():null)};return Tm(n,i),Qu.push({ref:n,handler:i}),()=>Yu(n,"value",i)}function XO(){Qu.splice(0).forEach(({ref:t,handler:e})=>{Yu(t,"value",e)})}const lE=Object.freeze(Object.defineProperty({__proto__:null,deleteItem:FO,getCurrentUser:Nm,isUserWhitelisted:Am,listenToBuildInfo:KO,listenToFamilyBudget:YO,listenToFamilyItems:QO,loadBuildInfoFromDatabase:iE,loadFamilyData:_h,onAuthChange:wm,saveBuildInfo:rE,saveFamilyBudget:sE,saveFamilyItems:aE,signInWithGoogle:tE,signOut:nE,stopListening:XO,updateBudgetField:lo,updateItem:qi,waitForAuthReady:qO},Symbol.toStringTag,{value:"Module"})),Ui={BUDGET:"shopping_spree_budget",ITEMS:"shopping_spree_items"},WO={income:{target:0,actual:0},needs:{target:0,actual:0},future:{target:0,actual:0},wants:{target:0,actual:0}},w_=(t,e)=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error("Local Storage Error",n),e}},zl=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Local Storage Save Error",n)}};function uu(){return!!Nm()}async function $O(t){if(uu())try{await sE(t)}catch(e){console.error("Firebase sync error:",e)}}async function ZO(t){if(uu())try{await aE(t)}catch(e){console.error("Firebase sync error:",e)}}const Bl={getBudget:async()=>{const t=w_(Ui.BUDGET,WO);if(uu())try{const e=await _h();if(e&&e.budget)return zl(Ui.BUDGET,e.budget),e.budget}catch(e){console.error("Firebase load error:",e)}return t},saveBudget:async t=>{zl(Ui.BUDGET,t),await $O(t)},getItems:async()=>{let t=w_(Ui.ITEMS,[]);if(Array.isArray(t)||(t=t&&typeof t=="object"?Object.values(t):[]),uu())try{const e=await _h();if(e&&e.items){let n=e.items;return Array.isArray(n)||(n=n&&typeof n=="object"?Object.values(n):[]),zl(Ui.ITEMS,n),n}}catch(e){console.error("Firebase load error:",e)}return t},saveItems:async t=>{zl(Ui.ITEMS,t),await ZO(t)},getKeys:()=>Ui};function JO(t,e){let n=0;const i=new Date(t,e,1);for(;i.getMonth()===e;)i.getDay()===6&&n++,i.setDate(i.getDate()+1);return n}function eD(t=new Date){const e=new Date(t),n=e.getDate();let i=0;for(let s=1;s<n;s++)new Date(e.getFullYear(),e.getMonth(),s).getDay()===6&&i++;return i+1}function tD(t,e,n){return t-e-n}function nD(t,e,n){return t+e+n}function iD(t,e,n,i){const a=t/i,r=a*n;return{remaining:r-e,weeklyLimit:a,cumulativeAllowed:r}}const sD=32,aD="2025-12-14T09:34:38.465Z",cu={buildNumber:sD,builtAt:aD},oE=v.createContext(),rD=[{id:"demo-1",name:"Milk",isInStock:!1,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-2",name:"Eggs",isInStock:!0,isOnShoppingList:!1,activatedAt:Date.now()},{id:"demo-3",name:"Bread",isInStock:!1,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-4",name:"Coffee",isInStock:!0,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-5",name:"Ice Cream",isInStock:!1,isOnShoppingList:!1}],lD={income:{target:5e3,actual:3100},needs:{target:2e3,actual:1950},future:{target:1e3,actual:1e3},wants:{target:2e3,actual:150}};function oD({children:t}){const[e,n]=v.useState(null),[i,s]=v.useState([]),[a,r]=v.useState(!0),[l,o]=v.useState(null),[u,h]=v.useState(typeof navigator>"u"?!0:navigator.onLine),f=v.useRef(!1);v.useEffect(()=>{(async()=>{const[M,N]=await Promise.all([Bl.getBudget(),Bl.getItems()]),A=Array.isArray(N)?N:[];A.length===0&&(!M||M.income.target===0)?(n(lD),s(rD)):(n(M),s(A)),r(!1)})()},[]),v.useEffect(()=>{const w=wm(M=>{o(M)});return()=>w==null?void 0:w()},[]),v.useEffect(()=>{if(typeof window>"u")return;const w=()=>h(navigator.onLine);return window.addEventListener("online",w),window.addEventListener("offline",w),()=>{window.removeEventListener("online",w),window.removeEventListener("offline",w)}},[]),v.useEffect(()=>{!a&&!f.current&&Bl.saveBudget(e),f.current=!1},[e,a]),v.useEffect(()=>{!a&&!f.current&&Bl.saveItems(i),f.current=!1},[i,a]),v.useEffect(()=>{if(a||!l)return;let w;return Q0(()=>Promise.resolve().then(()=>lE),[]).then(async({listenToFamilyBudget:M,listenToFamilyItems:N,stopListening:A})=>{const R=M(U=>{U&&(f.current=!0,n(U),localStorage.setItem("shopping_spree_budget",JSON.stringify(U)))}),D=N(U=>{if(!U)return;f.current=!0;const ue=Array.isArray(U)?U:[];s(ue),localStorage.setItem("shopping_spree_items",JSON.stringify(ue))});w=()=>{R==null||R(),D==null||D(),A()}}).catch(M=>{console.error("Firebase listener error:",M)}),()=>{w==null||w()}},[a,l]),v.useEffect(()=>{if(a||!l||!u)return;(async()=>{try{if(!await Am(l.uid))return;const N=await iE(),A=Number(N==null?void 0:N.buildNumber),R=Number(cu.buildNumber);Number.isFinite(R)&&(!Number.isFinite(A)||A<R)&&await rE({buildNumber:R,builtAt:cu.builtAt})}catch(M){console.error("Failed to sync build info to database",M)}})()},[a,l,u]);const c=(w,M,N)=>{w==="income"&&M==="actual"||w==="wants"&&M==="target"||n(A=>{const R={...A,[w]:{...A[w],[M]:Number(N)}},D=w==="needs"&&M==="actual"?Number(N):R.needs.actual,U=w==="future"&&M==="actual"?Number(N):R.future.actual,ue=w==="wants"&&M==="actual"?Number(N):R.wants.actual;R.income.actual=nD(D,U,ue);const vt=w==="income"&&M==="target"?Number(N):R.income.target,Dt=w==="needs"&&M==="target"?Number(N):R.needs.target,bt=w==="future"&&M==="target"?Number(N):R.future.target;return R.wants.target=tD(vt,Dt,bt),l&&(lo(w,M,Number(N)).catch(console.error),(w==="needs"||w==="future"||w==="wants")&&lo("income","actual",R.income.actual).catch(console.error),(w==="income"||w==="needs"||w==="future")&&lo("wants","target",R.wants.target).catch(console.error)),R})},m=w=>{const M=w.trim();if(!M)return;const N=i.find(R=>R.name.toLowerCase()===M.toLowerCase());if(N)return N;const A={id:crypto.randomUUID(),name:M,isInStock:!1,isOnShoppingList:!1,activatedAt:Date.now()};return l&&qi(A).catch(console.error),s(R=>[...R,A]),A},_=(w,M)=>{s(N=>N.map(A=>{if(A.id!==w)return A;const R=typeof M=="boolean"?M:!A.isInStock,D={...A,isInStock:R,activatedAt:R?Date.now():A.activatedAt};return l&&qi(D).catch(console.error),D}))},T=(w,M)=>{s(N=>N.map(A=>{if(A.id!==w)return A;const R=typeof M=="boolean"?M:!A.isOnShoppingList,D={...A,isOnShoppingList:R,activatedAt:R?Date.now():A.activatedAt};return l&&qi(D).catch(console.error),D}))},C=w=>{s(M=>M.map(N=>{if(N.id!==w)return N;const A={...N,isOnShoppingList:!1};return l&&qi(A).catch(console.error),A}))},p=(w,M)=>{const N=M.trim();N&&s(A=>A.map(R=>{if(R.id!==w)return R;const D={...R,name:N};return l&&qi(D).catch(console.error),D}))},d=(w,M="both")=>{s(N=>N.map(A=>{if(A.id!==w)return A;const R={...A,isInStock:M==="shop"?A.isInStock:!1,isOnShoppingList:M==="stock"?A.isOnShoppingList:!1};return l&&qi(R).catch(console.error),R}))},g=v.useMemo(()=>{if(!e)return 0;const w=new Date,N=JO(w.getFullYear(),w.getMonth())||1,A=e.wants.target,R=e.wants.actual,D=eD(w);return{remaining:iD(A,R,D,N).remaining,currentWeek:D,totalWeeks:N}},[e]),E={budget:e,items:i,loading:a,currentUser:l,actions:{updateBudget:c,addItem:m,toggleStock:_,toggleShop:T,markBought:C,renameItem:p,hideItem:d},computed:{weeklyWantsRemaining:(g==null?void 0:g.remaining)||0,currentWeek:(g==null?void 0:g.currentWeek)||1,totalWeeks:(g==null?void 0:g.totalWeeks)||4}};return S.jsx(oE.Provider,{value:E,children:t})}const Ku=()=>v.useContext(oE);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),A_=t=>{const e=cD(t);return e.charAt(0).toUpperCase()+e.slice(1)},uE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),fD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:r,...l},o)=>v.createElement("svg",{ref:o,...hD,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:uE("lucide",s),...!a&&!fD(l)&&{"aria-hidden":"true"},...l},[...r.map(([u,h])=>v.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(t,e)=>{const n=v.forwardRef(({className:i,...s},a)=>v.createElement(dD,{ref:a,iconNode:e,className:uE(`lucide-${uD(A_(t))}`,`lucide-${t}`,i),...s}));return n.displayName=A_(t),n};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],pD=lt("box",mD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_D=lt("check",gD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vD=lt("chevron-down",yD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],SD=lt("chevron-up",bD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],TD=lt("circle-x",ED);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wD=lt("clock",CD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],ND=lt("ghost",AD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],RD=lt("log-in",xD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],OD=lt("log-out",MD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],ID=lt("package-plus",DD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],LD=lt("party-popper",kD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zD=lt("pencil",UD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],N_=lt("search",BD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],xm=lt("shopping-cart",HD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M12 14v-4",key:"1evpnu"}],["path",{d:"M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6",key:"1ts96g"}],["path",{d:"M9 17H4v5",key:"8t5av"}]],PD=lt("timer-reset",jD);function VD({compact:t=!1}){const[e,n]=v.useState(null),[i,s]=v.useState(""),[a,r]=v.useState(""),[l,o]=v.useState("idle");v.useEffect(()=>{let T;return n(Nm()),T=wm(C=>{n(C),C?(s(`Syncing as ${C.email}`),r(""),o("approved")):o("idle")}),()=>T==null?void 0:T()},[]);const u=async()=>{r(""),s(""),o("idle");try{const T=await tE();n(T),s(`Syncing as ${T.email}`),o("approved")}catch(T){T.code==="auth/waiting-list"?(s("Waiting for admin approval"),o("pending")):r(T.message)}},h=async()=>{try{await nE(),n(null),s("Signed out"),o("idle")}catch{r("Failed to sign out")}},f=l==="pending"&&!e,c=()=>e?t?"bg-white/20 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200":f?t?"bg-amber-500/80 text-white":"bg-amber-500 text-white hover:bg-amber-600":t?"bg-white/10 text-white/90":"bg-blue-500 text-white hover:bg-blue-600",m=()=>e?S.jsx(OD,{size:18}):f?S.jsx(wD,{size:18}):S.jsx(RD,{size:18}),_=()=>a?"text-red-600":f?"text-amber-600":"text-green-600";return S.jsxs("div",{className:`flex items-center gap-2 ${t?"text-white":"bg-white rounded-xl shadow-sm p-4 border border-brand-100"}`,children:[S.jsxs("button",{onClick:e?h:u,className:`flex items-center justify-center h-9 px-3 rounded-full transition ${c()}`,"aria-label":e?"Sign out of Google":"Sign in with Google",title:e?"Sign out of Google":"Sign in with Google",children:[m(),!t&&S.jsx("span",{className:"ml-2 text-sm font-medium",children:e?"Sign Out":f?"Pending":"Sign In"})]}),!t&&S.jsxs("div",{className:"flex-1 text-sm text-gray-700 min-w-0",children:[S.jsx("p",{className:"font-medium truncate",children:e?e.email:"Sign in to sync across devices"}),(i||a)&&S.jsx("p",{className:_(),children:a||i})]}),t&&(i||a)&&S.jsx("span",{className:"sr-only","aria-live":"polite",children:a||i})]})}function qD(){const{computed:t,actions:e,budget:n,loading:i,currentUser:s}=Ku(),[a,r]=v.useState(!1),[l,o]=v.useState(null),u=Number(cu.buildNumber),h=Number(l==null?void 0:l.buildNumber),f=Number.isFinite(u)&&Number.isFinite(h)&&h>u,c=(s==null?void 0:s.uid)==="vy1PP3WXv3PFz6zyCEiEN0ILmDW2",m=async()=>{try{if(localStorage.clear(),"serviceWorker"in navigator){const p=await navigator.serviceWorker.getRegistrations();await Promise.all(p.map(d=>d.unregister()))}if("caches"in window){const p=await caches.keys();await Promise.all(p.map(d=>caches.delete(d)))}window.location.href=`${window.location.pathname}?t=${Date.now()}`}catch(p){console.error("Manual reset failed:",p),window.location.reload()}},_=p=>{if(!p)return"";try{const d=new Date(p),g=E=>E.toString().padStart(2,"0");return`${g(d.getDate())}/${g(d.getMonth()+1)}/${d.getFullYear()} ${g(d.getHours())}:${g(d.getMinutes())}:${g(d.getSeconds())}`}catch{return p}};if(v.useEffect(()=>{let p;return Q0(async()=>{const{listenToBuildInfo:d}=await Promise.resolve().then(()=>lE);return{listenToBuildInfo:d}},void 0).then(({listenToBuildInfo:d})=>{p=d(g=>o(g))}).catch(d=>{console.error("Build info listener error:",d)}),()=>p==null?void 0:p()},[]),i)return S.jsx("div",{className:"h-24 bg-brand-500 animate-pulse"});const T=t.weeklyWantsRemaining,C=T<0;return S.jsxs("header",{className:"bg-brand-500 text-white shadow-md z-10 transition-all duration-300 relative",children:[S.jsxs("div",{className:"px-4 pt-3 pb-2 grid grid-cols-[1fr_auto_1fr] items-center",children:[S.jsxs("div",{className:"flex flex-col gap-1",children:[c&&S.jsx("div",{className:"opacity-80 text-xs font-medium uppercase tracking-wider",children:"Weekly Wants"}),S.jsxs("div",{className:"bg-brand-600 px-2 py-0.5 rounded text-xs font-medium opacity-90 w-fit",children:["Week ",t.currentWeek," / ",t.totalWeeks]})]}),c?S.jsxs("button",{type:"button",onClick:()=>r(!a),className:"justify-self-center flex flex-col items-center justify-center gap-1 text-center cursor-pointer active:opacity-90 transition-opacity",children:[S.jsx("div",{className:`text-3xl font-bold tracking-tight transition-colors duration-300 ${C?"text-red-200":"text-white"}`,children:Math.floor(T)}),S.jsx("div",{className:"flex justify-center -mt-1 opacity-50",children:a?S.jsx(SD,{size:16}):S.jsx(vD,{size:16})})]}):S.jsx("div",{className:"justify-self-center text-center text-sm font-semibold opacity-50","aria-hidden":"true",children:""}),S.jsx("div",{className:"flex justify-end items-start text-right",children:S.jsx(VD,{compact:!0})})]}),c&&S.jsx("div",{className:`bg-brand-600 overflow-hidden transition-all duration-300 ease-in-out ${a?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:S.jsxs("div",{className:"p-4 space-y-4",children:[S.jsx("div",{className:"flex items-start justify-between gap-4 text-xs uppercase tracking-wide text-brand-100",children:S.jsxs("div",{className:"flex flex-col gap-1",children:[S.jsx("span",{className:"font-semibold",children:"Labs"}),S.jsx("span",{className:"text-[11px] opacity-80",children:"Budget configuration"})]})}),["income","needs","future","wants"].map(p=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"capitalize font-medium opacity-90",children:p}),S.jsxs("div",{className:"flex gap-4 text-right",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-xs opacity-60",children:"Target"}),S.jsx("input",{type:"number",className:`w-20 bg-brand-700 text-white text-right rounded px-1 focus:ring-2 focus:ring-white outline-none ${p==="wants"?"opacity-50 cursor-not-allowed":""}`,value:n[p].target,onChange:d=>e.updateBudget(p,"target",d.target.value),onClick:d=>d.stopPropagation(),disabled:p==="wants"})]}),S.jsxs("div",{className:"border-l border-brand-500 pl-4",children:[S.jsx("div",{className:"text-xs opacity-60",children:"Actual"}),S.jsx("input",{type:"number",className:`w-20 bg-brand-700 text-white text-right rounded px-1 focus:ring-2 focus:ring-white outline-none ${p==="income"?"opacity-50 cursor-not-allowed":""}`,value:n[p].actual,onChange:d=>e.updateBudget(p,"actual",d.target.value),onClick:d=>d.stopPropagation(),disabled:p==="income"})]}),S.jsxs("div",{className:"border-l border-brand-500 pl-4",children:[S.jsx("div",{className:"text-xs opacity-60",children:"Remaining"}),S.jsx("div",{className:`w-20 text-right font-medium ${n[p].target-n[p].actual<0?"text-red-300":"text-white"}`,children:n[p].target-n[p].actual})]})]})]},p)),S.jsx("div",{className:"mt-4 pt-4 border-t border-brand-500/60 flex justify-end",children:S.jsxs("div",{className:"text-sm font-semibold text-white flex flex-wrap items-center gap-2 text-right",children:[S.jsxs("span",{children:["Build #",cu.buildNumber]}),S.jsx("span",{className:"text-white/40",children:"/"}),S.jsxs("span",{children:["DB #",(l==null?void 0:l.buildNumber)??""]}),f&&S.jsx("button",{type:"button",onClick:m,className:"ml-1 px-2 py-1 text-[11px] font-semibold bg-white/10 hover:bg-white/20 active:bg-white/25 rounded transition-colors",children:"Upgrade"}),l!=null&&l.builtAt?S.jsxs("span",{className:"text-[11px] font-medium text-white/60",children:["(",_(l.builtAt),")"]}):S.jsx("span",{className:"text-[11px] font-medium text-white/60",children:"Waiting for database build metadata"})]})})]})})]})}const Qi={LAST_SESSION_START:"focus_last_session_start",LAST_REWARDED_AT:"focus_last_rewarded_at",FOCUS_RANK:"focus_rank"},cE=3*60*60*1e3,fu=10,yh=t=>{const e=localStorage.getItem(t);if(e===null||typeof e>"u")return null;const n=Number(e);return Number.isFinite(n)?n:null};function GD(t=Date.now()){localStorage.setItem(Qi.LAST_SESSION_START,String(t))}function FD(){const t=yh(Qi.FOCUS_RANK);return Number.isFinite(t)?t:fu}function YD(t=Date.now()){const e=yh(Qi.LAST_SESSION_START),n=yh(Qi.LAST_REWARDED_AT),i=Number.isFinite(e)?t-e>=cE:!1,s=Number.isFinite(n)&&Number.isFinite(e)?n>=e:!1;return i&&!s?(localStorage.setItem(Qi.FOCUS_RANK,String(fu)),localStorage.setItem(Qi.LAST_REWARDED_AT,String(t)),{shouldCelebrate:!0,focusRank:fu,lastSessionStart:e}):{shouldCelebrate:!1,focusRank:FD(),lastSessionStart:e}}function QD(){return{cooldownMs:cE,maxRank:fu,storageKeys:{...Qi}}}const{cooldownMs:KD,maxRank:XD}=QD();function WD(t){if(!(typeof window>"u"||typeof window.AudioContext>"u"))try{const e=new window.AudioContext;t.current=e;const n=(s,a,r)=>{const l=e.createOscillator(),o=e.createGain();l.type="triangle",l.frequency.value=s,o.gain.setValueAtTime(1e-4,a),o.gain.exponentialRampToValueAtTime(.18,a+.04),o.gain.exponentialRampToValueAtTime(1e-4,a+r),l.connect(o).connect(e.destination),l.start(a),l.stop(a+r+.02)},i=e.currentTime+.05;n(554.37,i,.35),n(659.25,i+.22,.4),n(830.61,i+.44,.5),setTimeout(()=>{e.close().catch(()=>{})},1200)}catch(e){console.warn("Focus celebration sound could not play",e)}}function $D({rank:t=XD,onDismiss:e}){const n=v.useRef(null),i=Math.round(KD/(1e3*60*60));return v.useEffect(()=>{WD(n);const s=setTimeout(()=>{e==null||e()},3600);return()=>{clearTimeout(s);const a=n.current;(a==null?void 0:a.state)!=="closed"&&a.close().catch(()=>{})}},[e]),S.jsxs("div",{className:"fixed inset-0 z-50 bg-gradient-to-br from-brand-900 via-brand-700 to-brand-500 text-white flex items-center justify-center px-6 py-8",children:[S.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(255,255,255,0.15),transparent_35%),radial-gradient(circle_at_80%_0%,rgba(255,255,255,0.12),transparent_30%),radial-gradient(circle_at_50%_80%,rgba(255,255,255,0.1),transparent_28%)]","aria-hidden":!0}),S.jsxs("div",{className:"relative max-w-lg w-full bg-white/10 border border-white/20 rounded-3xl shadow-2xl backdrop-blur-md p-6 sm:p-8 text-center animate-[pop_0.4s_ease-out]",role:"dialog","aria-modal":"true","aria-label":"Focus reward celebration",children:[S.jsxs("div",{className:"flex items-center justify-center gap-3 text-sm uppercase tracking-[0.24em] text-white/80 mb-3",children:[S.jsx(PD,{className:"h-5 w-5","aria-hidden":!0}),S.jsx("span",{children:"Focus Reign"})]}),S.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[S.jsx(LD,{className:"h-7 w-7","aria-hidden":!0}),S.jsxs("h1",{className:"text-3xl sm:text-4xl font-black",children:["Rank ",t," Restored"]})]}),S.jsx("p",{className:"text-xl font-semibold text-white/90 mb-4",children:"Discipline Rewarded"}),S.jsxs("p",{className:"text-sm sm:text-base text-white/80 mb-6 leading-relaxed",children:["You stayed out for ",i," hours. Your Focus Rank is reset to the maximum levelenjoy the minimum delay and a fresh start."]}),S.jsx("button",{type:"button",onClick:e,className:"inline-flex items-center justify-center w-full sm:w-auto px-5 py-3 rounded-2xl bg-white text-brand-700 font-semibold shadow-lg shadow-brand-900/30 transition transform hover:-translate-y-0.5 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-white/80",children:"Continue"})]})]})}function ZD({children:t}){const e=Di(),n=H0(),i=v.useRef(null),s=v.useRef(null),[a,r]=v.useState(null),[l,o]=v.useState(null),u=d=>e.pathname===d,h=(d,g)=>{o(g),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{o(null)},200),n(d)},f=(d,g)=>{i.current={...d,source:g}},c=(d,g)=>{if(!i.current||i.current.source!==g)return;const E=d.x-i.current.x,w=d.y-i.current.y;Math.abs(E)>60&&Math.abs(E)>Math.abs(w)&&(E<0&&!u("/stock")?h("/stock","left"):E>0&&!u("/")&&h("/","right")),i.current=null},m=d=>{var g;d.pointerType!=="touch"||((g=i.current)==null?void 0:g.source)==="touch"||f({x:d.clientX,y:d.clientY},"pointer")},_=d=>{d.pointerType==="touch"&&c({x:d.clientX,y:d.clientY},"pointer")},T=d=>{var g;(g=d.touches)!=null&&g.length&&f({x:d.touches[0].clientX,y:d.touches[0].clientY},"touch")},C=d=>{var g;(g=d.changedTouches)!=null&&g.length&&c({x:d.changedTouches[0].clientX,y:d.changedTouches[0].clientY},"touch")};v.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]),v.useEffect(()=>{if(typeof window>"u")return;const d=Date.now(),g=YD(d);g.shouldCelebrate&&r({rank:g.focusRank}),GD(d)},[]),v.useEffect(()=>{if(!a)return;const d=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=d}},[a]);const p=l==="left"?"swipe-slide-left":l==="right"?"swipe-slide-right":"";return S.jsxs("div",{className:"flex flex-col h-screen bg-brand-50 text-gray-800 font-sans overflow-hidden",children:[S.jsx(qD,{}),S.jsxs("main",{className:`flex-1 overflow-y-auto pb-24 relative p-3 sm:p-4 space-y-3 sm:space-y-4 ${p}`,onPointerDown:m,onPointerUp:_,onTouchStart:T,onTouchEnd:C,style:{touchAction:"pan-y"},"aria-label":"Swipe left or right on empty space to switch between tabs",children:[S.jsx("p",{className:"sr-only",children:"Swipe left or right on empty space to switch between Shop and Stock. Swipe item cards to reveal hide or buy actions."}),t]}),S.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-brand-100 shadow-lg pb-safe",children:S.jsxs("div",{className:"flex justify-around items-center h-16",children:[S.jsxs(Ho,{to:"/",className:`flex flex-col items-center justify-center w-full h-full transition-colors ${u("/")?"text-brand-600":"text-gray-400"}`,children:[S.jsx(xm,{size:24}),S.jsx("span",{className:"text-xs font-medium mt-1",children:"Shop"})]}),S.jsxs(Ho,{to:"/stock",className:`flex flex-col items-center justify-center w-full h-full transition-colors ${u("/stock")?"text-brand-600":"text-gray-400"}`,children:[S.jsx(pD,{size:24}),S.jsx("span",{className:"text-xs font-medium mt-1",children:"Stock"})]})]})}),a?S.jsx($D,{rank:a.rank,onDismiss:()=>r(null)}):null]})}var Rm={};(function t(e,n,i,s){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),r=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;try{var b=new OffscreenCanvas(1,1),y=b.getContext("2d");y.fillRect(0,0,1,1);var L=b.transferToImageBitmap();y.createPattern(L,"no-repeat")}catch{return!1}return!0}();function o(){}function u(b){var y=n.exports.Promise,L=y!==void 0?y:e.Promise;return typeof L=="function"?new L(b):(b(o,o),null)}var h=function(b,y){return{transform:function(L){if(b)return L;if(y.has(L))return y.get(L);var z=new OffscreenCanvas(L.width,L.height),j=z.getContext("2d");return j.drawImage(L,0,0),y.set(L,z),z},clear:function(){y.clear()}}}(l,new Map),f=function(){var b=Math.floor(16.666666666666668),y,L,z={},j=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(y=function(G){var J=Math.random();return z[J]=requestAnimationFrame(function P(ee){j===ee||j+b-1<ee?(j=ee,delete z[J],G()):z[J]=requestAnimationFrame(P)}),J},L=function(G){z[G]&&cancelAnimationFrame(z[G])}):(y=function(G){return setTimeout(G,b)},L=function(G){return clearTimeout(G)}),{frame:y,cancel:L}}(),c=function(){var b,y,L={};function z(j){function G(J,P){j.postMessage({options:J||{},callback:P})}j.init=function(P){var ee=P.transferControlToOffscreen();j.postMessage({canvas:ee},[ee])},j.fire=function(P,ee,pe){if(y)return G(P,null),y;var Ae=Math.random().toString(36).slice(2);return y=u(function(ve){function Ne(Qe){Qe.data.callback===Ae&&(delete L[Ae],j.removeEventListener("message",Ne),y=null,h.clear(),pe(),ve())}j.addEventListener("message",Ne),G(P,Ae),L[Ae]=Ne.bind(null,{data:{callback:Ae}})}),y},j.reset=function(){j.postMessage({reset:!0});for(var P in L)L[P](),delete L[P]}}return function(){if(b)return b;if(!i&&a){var j=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{b=new Worker(URL.createObjectURL(new Blob([j])))}catch(G){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",G),null}z(b)}return b}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(b,y){return y?y(b):b}function T(b){return b!=null}function C(b,y,L){return _(b&&T(b[y])?b[y]:m[y],L)}function p(b){return b<0?0:Math.floor(b)}function d(b,y){return Math.floor(Math.random()*(y-b))+b}function g(b){return parseInt(b,16)}function E(b){return b.map(w)}function w(b){var y=String(b).replace(/[^0-9a-f]/gi,"");return y.length<6&&(y=y[0]+y[0]+y[1]+y[1]+y[2]+y[2]),{r:g(y.substring(0,2)),g:g(y.substring(2,4)),b:g(y.substring(4,6))}}function M(b){var y=C(b,"origin",Object);return y.x=C(y,"x",Number),y.y=C(y,"y",Number),y}function N(b){b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight}function A(b){var y=b.getBoundingClientRect();b.width=y.width,b.height=y.height}function R(b){var y=document.createElement("canvas");return y.style.position="fixed",y.style.top="0px",y.style.left="0px",y.style.pointerEvents="none",y.style.zIndex=b,y}function D(b,y,L,z,j,G,J,P,ee){b.save(),b.translate(y,L),b.rotate(G),b.scale(z,j),b.arc(0,0,1,J,P,ee),b.restore()}function U(b){var y=b.angle*(Math.PI/180),L=b.spread*(Math.PI/180);return{x:b.x,y:b.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:b.startVelocity*.5+Math.random()*b.startVelocity,angle2D:-y+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:b.color,shape:b.shape,tick:0,totalTicks:b.ticks,decay:b.decay,drift:b.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:b.gravity*3,ovalScalar:.6,scalar:b.scalar,flat:b.flat}}function ue(b,y){y.x+=Math.cos(y.angle2D)*y.velocity+y.drift,y.y+=Math.sin(y.angle2D)*y.velocity+y.gravity,y.velocity*=y.decay,y.flat?(y.wobble=0,y.wobbleX=y.x+10*y.scalar,y.wobbleY=y.y+10*y.scalar,y.tiltSin=0,y.tiltCos=0,y.random=1):(y.wobble+=y.wobbleSpeed,y.wobbleX=y.x+10*y.scalar*Math.cos(y.wobble),y.wobbleY=y.y+10*y.scalar*Math.sin(y.wobble),y.tiltAngle+=.1,y.tiltSin=Math.sin(y.tiltAngle),y.tiltCos=Math.cos(y.tiltAngle),y.random=Math.random()+2);var L=y.tick++/y.totalTicks,z=y.x+y.random*y.tiltCos,j=y.y+y.random*y.tiltSin,G=y.wobbleX+y.random*y.tiltCos,J=y.wobbleY+y.random*y.tiltSin;if(b.fillStyle="rgba("+y.color.r+", "+y.color.g+", "+y.color.b+", "+(1-L)+")",b.beginPath(),r&&y.shape.type==="path"&&typeof y.shape.path=="string"&&Array.isArray(y.shape.matrix))b.fill(Q(y.shape.path,y.shape.matrix,y.x,y.y,Math.abs(G-z)*.1,Math.abs(J-j)*.1,Math.PI/10*y.wobble));else if(y.shape.type==="bitmap"){var P=Math.PI/10*y.wobble,ee=Math.abs(G-z)*.1,pe=Math.abs(J-j)*.1,Ae=y.shape.bitmap.width*y.scalar,ve=y.shape.bitmap.height*y.scalar,Ne=new DOMMatrix([Math.cos(P)*ee,Math.sin(P)*ee,-Math.sin(P)*pe,Math.cos(P)*pe,y.x,y.y]);Ne.multiplySelf(new DOMMatrix(y.shape.matrix));var Qe=b.createPattern(h.transform(y.shape.bitmap),"no-repeat");Qe.setTransform(Ne),b.globalAlpha=1-L,b.fillStyle=Qe,b.fillRect(y.x-Ae/2,y.y-ve/2,Ae,ve),b.globalAlpha=1}else if(y.shape==="circle")b.ellipse?b.ellipse(y.x,y.y,Math.abs(G-z)*y.ovalScalar,Math.abs(J-j)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI):D(b,y.x,y.y,Math.abs(G-z)*y.ovalScalar,Math.abs(J-j)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI);else if(y.shape==="star")for(var ie=Math.PI/2*3,ot=4*y.scalar,Ft=8*y.scalar,Yt=y.x,pn=y.y,ki=5,sn=Math.PI/ki;ki--;)Yt=y.x+Math.cos(ie)*Ft,pn=y.y+Math.sin(ie)*Ft,b.lineTo(Yt,pn),ie+=sn,Yt=y.x+Math.cos(ie)*ot,pn=y.y+Math.sin(ie)*ot,b.lineTo(Yt,pn),ie+=sn;else b.moveTo(Math.floor(y.x),Math.floor(y.y)),b.lineTo(Math.floor(y.wobbleX),Math.floor(j)),b.lineTo(Math.floor(G),Math.floor(J)),b.lineTo(Math.floor(z),Math.floor(y.wobbleY));return b.closePath(),b.fill(),y.tick<y.totalTicks}function vt(b,y,L,z,j){var G=y.slice(),J=b.getContext("2d"),P,ee,pe=u(function(Ae){function ve(){P=ee=null,J.clearRect(0,0,z.width,z.height),h.clear(),j(),Ae()}function Ne(){i&&!(z.width===s.width&&z.height===s.height)&&(z.width=b.width=s.width,z.height=b.height=s.height),!z.width&&!z.height&&(L(b),z.width=b.width,z.height=b.height),J.clearRect(0,0,z.width,z.height),G=G.filter(function(Qe){return ue(J,Qe)}),G.length?P=f.frame(Ne):ve()}P=f.frame(Ne),ee=ve});return{addFettis:function(Ae){return G=G.concat(Ae),pe},canvas:b,promise:pe,reset:function(){P&&f.cancel(P),ee&&ee()}}}function Dt(b,y){var L=!b,z=!!C(y||{},"resize"),j=!1,G=C(y,"disableForReducedMotion",Boolean),J=a&&!!C(y||{},"useWorker"),P=J?c():null,ee=L?N:A,pe=b&&P?!!b.__confetti_initialized:!1,Ae=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ve;function Ne(ie,ot,Ft){for(var Yt=C(ie,"particleCount",p),pn=C(ie,"angle",Number),ki=C(ie,"spread",Number),sn=C(ie,"startVelocity",Number),pE=C(ie,"decay",Number),gE=C(ie,"gravity",Number),_E=C(ie,"drift",Number),Om=C(ie,"colors",E),yE=C(ie,"ticks",Number),Dm=C(ie,"shapes"),vE=C(ie,"scalar"),bE=!!C(ie,"flat"),Im=M(ie),km=Yt,Xu=[],SE=b.width*Im.x,EE=b.height*Im.y;km--;)Xu.push(U({x:SE,y:EE,angle:pn,spread:ki,startVelocity:sn,color:Om[km%Om.length],shape:Dm[d(0,Dm.length)],ticks:yE,decay:pE,gravity:gE,drift:_E,scalar:vE,flat:bE}));return ve?ve.addFettis(Xu):(ve=vt(b,Xu,ee,ot,Ft),ve.promise)}function Qe(ie){var ot=G||C(ie,"disableForReducedMotion",Boolean),Ft=C(ie,"zIndex",Number);if(ot&&Ae)return u(function(sn){sn()});L&&ve?b=ve.canvas:L&&!b&&(b=R(Ft),document.body.appendChild(b)),z&&!pe&&ee(b);var Yt={width:b.width,height:b.height};P&&!pe&&P.init(b),pe=!0,P&&(b.__confetti_initialized=!0);function pn(){if(P){var sn={getBoundingClientRect:function(){if(!L)return b.getBoundingClientRect()}};ee(sn),P.postMessage({resize:{width:sn.width,height:sn.height}});return}Yt.width=Yt.height=null}function ki(){ve=null,z&&(j=!1,e.removeEventListener("resize",pn)),L&&b&&(document.body.contains(b)&&document.body.removeChild(b),b=null,pe=!1)}return z&&!j&&(j=!0,e.addEventListener("resize",pn,!1)),P?P.fire(ie,Yt,ki):Ne(ie,Yt,ki)}return Qe.reset=function(){P&&P.reset(),ve&&ve.reset()},Qe}var bt;function k(){return bt||(bt=Dt(null,{useWorker:!0,resize:!0})),bt}function Q(b,y,L,z,j,G,J){var P=new Path2D(b),ee=new Path2D;ee.addPath(P,new DOMMatrix(y));var pe=new Path2D;return pe.addPath(ee,new DOMMatrix([Math.cos(J)*j,Math.sin(J)*j,-Math.sin(J)*G,Math.cos(J)*G,L,z])),pe}function q(b){if(!r)throw new Error("path confetti are not supported in this browser");var y,L;typeof b=="string"?y=b:(y=b.path,L=b.matrix);var z=new Path2D(y),j=document.createElement("canvas"),G=j.getContext("2d");if(!L){for(var J=1e3,P=J,ee=J,pe=0,Ae=0,ve,Ne,Qe=0;Qe<J;Qe+=2)for(var ie=0;ie<J;ie+=2)G.isPointInPath(z,Qe,ie,"nonzero")&&(P=Math.min(P,Qe),ee=Math.min(ee,ie),pe=Math.max(pe,Qe),Ae=Math.max(Ae,ie));ve=pe-P,Ne=Ae-ee;var ot=10,Ft=Math.min(ot/ve,ot/Ne);L=[Ft,0,0,Ft,-Math.round(ve/2+P)*Ft,-Math.round(Ne/2+ee)*Ft]}return{type:"path",path:y,matrix:L}}function I(b){var y,L=1,z="#000000",j='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof b=="string"?y=b:(y=b.text,L="scalar"in b?b.scalar:L,j="fontFamily"in b?b.fontFamily:j,z="color"in b?b.color:z);var G=10*L,J=""+G+"px "+j,P=new OffscreenCanvas(G,G),ee=P.getContext("2d");ee.font=J;var pe=ee.measureText(y),Ae=Math.ceil(pe.actualBoundingBoxRight+pe.actualBoundingBoxLeft),ve=Math.ceil(pe.actualBoundingBoxAscent+pe.actualBoundingBoxDescent),Ne=2,Qe=pe.actualBoundingBoxLeft+Ne,ie=pe.actualBoundingBoxAscent+Ne;Ae+=Ne+Ne,ve+=Ne+Ne,P=new OffscreenCanvas(Ae,ve),ee=P.getContext("2d"),ee.font=J,ee.fillStyle=z,ee.fillText(y,Qe,ie);var ot=1/L;return{type:"bitmap",bitmap:P.transferToImageBitmap(),matrix:[ot,0,0,ot,-Ae*ot/2,-ve*ot/2]}}n.exports=function(){return k().apply(this,arguments)},n.exports.reset=function(){k().reset()},n.exports.create=Dt,n.exports.shapeFromPath=q,n.exports.shapeFromText=I})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Rm,!1);const JD=Rm.exports;Rm.exports.create;function fE({item:t,mode:e}){const{actions:n}=Ku(),[i,s]=v.useState(!1),[a,r]=v.useState(t.name),l=v.useRef(null),o=v.useRef({x:0,y:0}),u=v.useRef(null),[h,f]=v.useState(0),[c,m]=v.useState(!1);v.useEffect(()=>{i&&l.current&&(l.current.focus(),l.current.select())},[i]);const _=I=>{const b={x:((I==null?void 0:I.x)??window.innerWidth/2)/window.innerWidth,y:((I==null?void 0:I.y)??window.innerHeight/2)/window.innerHeight};JD({origin:b,particleCount:50,spread:60,colors:["#f43f5e","#fb7185","#ffe4e6"]})},T=(I,b)=>{if(I!=null&&I.target){const y=I.target.getBoundingClientRect();_({x:y.left+y.width/2,y:y.top+y.height/2})}else _(b||o.current);n.markBought(t.id)},C=()=>{n.toggleShop(t.id)},p=()=>{r(t.name),s(!0)},d=()=>{a.trim()?n.renameItem(t.id,a):r(t.name),s(!1)},g=()=>{r(t.name),s(!1)},E=I=>{I.key==="Enter"?d():I.key==="Escape"&&g()},w=I=>Math.abs(I)<10?null:I<0?"hide":null,M=()=>{f(0),m(!1),u.current=null},N=(I,b)=>{u.current={...I,source:b},o.current=I,m(!0)},A=(I,b)=>{if(!c||!u.current||u.current.source!==b)return;o.current=I;const y=I.x-u.current.x;f(Math.min(y,0))},R=I=>{var y;if(!c||((y=u.current)==null?void 0:y.source)!==I)return;(Math.abs(h)>80?w(h):null)==="hide"&&n.hideItem(t.id,e),M()},D=I=>{var b;I.pointerType==="mouse"&&I.button!==0||((b=u.current)==null?void 0:b.source)!=="touch"&&(I.stopPropagation(),N({x:I.clientX,y:I.clientY},"pointer"))},U=I=>{A({x:I.clientX,y:I.clientY},"pointer")},ue=I=>{I.stopPropagation(),R("pointer")},vt=I=>{var b;(b=I.touches)!=null&&b.length&&(I.stopPropagation(),N({x:I.touches[0].clientX,y:I.touches[0].clientY},"touch"))},Dt=I=>{var b;(b=I.touches)!=null&&b.length&&A({x:I.touches[0].clientX,y:I.touches[0].clientY},"touch")},bt=I=>{var b;(b=I.changedTouches)!=null&&b.length&&(I.stopPropagation(),o.current={x:I.changedTouches[0].clientX,y:I.changedTouches[0].clientY},R("touch"))},k=w(h);return S.jsxs("div",{className:"relative",onPointerDown:D,onPointerMove:U,onPointerUp:ue,onPointerCancel:ue,onTouchStart:vt,onTouchMove:Dt,onTouchEnd:bt,children:[S.jsx("div",{className:`absolute inset-0 rounded-xl px-3 sm:px-4 flex items-center justify-end select-none transition-colors duration-150 ${k==="hide"?"bg-red-50":"bg-gray-50"}`,style:{touchAction:"pan-y"},children:S.jsx("span",{className:`text-xs sm:text-sm font-semibold whitespace-nowrap text-red-500 text-right transition-opacity ${h<-10?"opacity-100":"opacity-40"}`,children:"Swipe left to hide"})}),S.jsxs("div",{"data-item-id":t.id,className:`bg-white rounded-xl shadow-sm p-3 sm:p-4 flex items-center justify-between gap-3 group animate-pop transition-transform duration-150 ${c?"cursor-grabbing":"cursor-pointer"}`,style:{transform:`translateX(${h}px)`,touchAction:"pan-y"},children:[S.jsx("div",{className:"flex-1 flex items-center gap-2",children:i?S.jsx("input",{ref:l,type:"text",value:a,onChange:I=>r(I.target.value),onBlur:d,onKeyDown:E,className:"flex-1 font-medium text-base sm:text-lg text-gray-800 border-b-2 border-brand-500 outline-none bg-transparent"}):S.jsxs(S.Fragment,{children:[S.jsx("h3",{className:"font-medium text-base sm:text-lg text-gray-800 leading-snug",children:t.name}),S.jsx("button",{onClick:p,className:"p-1 hover:bg-gray-100 rounded transition-opacity",title:"Rename",children:S.jsx(zD,{size:16,className:"text-gray-400"})})]})}),S.jsxs("div",{className:"flex items-center gap-2",children:[e==="shop"&&S.jsx("button",{onClick:T,className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center hover:bg-brand-500 hover:text-white transition-colors active:scale-90",title:"Mark Bought",children:S.jsx(_D,{size:20})}),e==="stock"&&S.jsx("button",{onClick:C,className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors active:scale-90 ${t.isOnShoppingList?"bg-brand-500 text-white hover:bg-brand-600":"bg-gray-100 text-gray-600 hover:bg-brand-500 hover:text-white"}`,title:t.isOnShoppingList?"Remove from Shopping List":"Add to Shopping List",children:S.jsx(xm,{size:20})})]})]})]})}function Zs(t){return t.trim().toLowerCase()}function eI(t,e){const n=Zs(e);if(!n)return null;const i=t.filter(a=>{var r;return(r=a.name)==null?void 0:r.toLowerCase().includes(n)});return i.length===0?null:[...i].sort((a,r)=>{const l=a.name.toLowerCase().startsWith(n),o=r.name.toLowerCase().startsWith(n);if(l!==o)return l?-1:1;const u=a.name.length-r.name.length;return u!==0?u:a.name.localeCompare(r.name,void 0,{sensitivity:"base"})})[0]}const Mm=(t,e)=>{const n=(e.activatedAt??0)-(t.activatedAt??0);return n!==0?n:t.name.localeCompare(e.name,void 0,{sensitivity:"base"})};function tI({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,inputRef:r}){const[l,o]=v.useState(""),[u,h]=v.useState(""),[f,c]=v.useState(null),[m,_]=v.useState(!1),T=v.useRef(!1),C=v.useRef(!1),p=v.useRef(!1);v.useEffect(()=>{a==null||a(u.trim())},[u,a]),v.useEffect(()=>{f&&(r!=null&&r.current)&&(r.current.setSelectionRange(f.start,f.end),c(null))},[f,l,r]);const d=()=>{o(""),h(""),_(!1)},g=(A,R=m)=>{if(C.current=!1,!A){o(""),c({start:0,end:0});return}if(R){o(A),c({start:A.length,end:A.length});return}const D=eI(t,A);if(D){const U=D.name,ue=U.toLowerCase(),vt=Zs(A);if(ue.startsWith(vt)&&U.length>A.length){C.current=!0,o(U),c({start:A.length,end:U.length});return}}o(A),c({start:A.length,end:A.length})},E=A=>{var b;const R=A.target.value,D=A.target.selectionStart??R.length;A.target.selectionEnd;const U=R.slice(0,D),ue=A.inputType||((b=A.nativeEvent)==null?void 0:b.inputType),vt=ue==="deleteContentBackward"||T.current,Dt=(ue==null?void 0:ue.startsWith("insert"))??!vt,bt=C.current,k=T.current;Dt&&(bt||k)&&(p.current=!0,C.current=!1),T.current=!1;const q=vt?!0:Dt||R===""?!1:m,I=p.current&&Dt;I&&(p.current=!1),_(q),h(U),g(U,I?!0:q)},w=A=>{if(!(r!=null&&r.current))return!1;const{selectionStart:R,selectionEnd:D}=r.current;if(R!==D){A.preventDefault();const U=l.slice(0,R)+l.slice(D);return p.current=!0,_(!0),h(U),o(U),c({start:U.length,end:U.length}),!0}if(l.length>u.length){A.preventDefault();const U=l.slice(0,R);return p.current=!0,_(!0),h(U),o(U),c({start:U.length,end:U.length}),!0}return!1},M=()=>{const A=l.trim();if(!A)return{status:"noop"};const R=t.find(U=>Zs(U.name)===Zs(A));if(R)return e(R)?(s==null||s(R),d(),{status:"existing",item:R}):(n(R),d(),{status:"reactivated",item:R});const D=i(A);return D?(n(D),d(),{status:"created",item:D}):(d(),{status:"noop"})};return{value:l,handleChange:E,handleKeyDown:A=>{if(A.key==="Backspace"&&(T.current=!0,w(A))){T.current=!1;return}A.key==="Enter"&&(A.preventDefault(),M())},handleSubmit:M,clearInput:d}}function hE({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,placeholder:r="Search or add item...",actionIcon:l,actionLabel:o}){const u=v.useRef(null),{value:h,handleChange:f,handleKeyDown:c,handleSubmit:m,clearInput:_}=tI({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,inputRef:u});return S.jsx("form",{onSubmit:T=>{T.preventDefault(),m()},className:"sticky top-0 bg-brand-50 pt-2 pb-4 z-10",children:S.jsxs("div",{className:"relative",children:[S.jsx(N_,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),S.jsx("input",{ref:u,type:"text",placeholder:r,className:"w-full bg-white rounded-xl py-3 pl-10 pr-28 shadow-sm focus:ring-2 focus:ring-brand-500 outline-none",value:h,onChange:f,onKeyDown:c,"aria-label":r}),h.trim()&&S.jsx("button",{type:"button",onClick:()=>{var T;_(),(T=u.current)==null||T.focus()},className:"absolute right-12 top-1/2 -translate-y-1/2 inline-flex h-9 w-9 items-center justify-center rounded-full text-gray-500 transition-colors hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 focus:ring-offset-white","aria-label":"Clear filter",children:S.jsx(TD,{size:18,"aria-hidden":!0})}),S.jsxs("button",{type:"submit",disabled:!h.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-brand-500 text-white p-1.5 rounded-lg disabled:opacity-50",children:[l?S.jsx(l,{size:20,"aria-hidden":!0}):S.jsx(N_,{size:20,"aria-hidden":!0}),S.jsx("span",{className:"sr-only",children:o||"Submit item"})]})]})})}function dE({items:t,isActive:e}){const[n,i]=v.useState(""),s=Zs(n),a=s.length>0,r=v.useMemo(()=>a?t.filter(c=>Zs(c.name).includes(s)):[],[a,t,s]),l=v.useMemo(()=>[...r].sort((c,m)=>{const _=Number(e(c))-Number(e(m));return _!==0?_:Mm(c,m)}),[r,e]),o=v.useMemo(()=>l.filter(c=>!e(c)),[l,e]),u=v.useMemo(()=>o.filter(c=>!c.isInStock&&!c.isOnShoppingList),[o]),h=v.useMemo(()=>o.filter(c=>c.isInStock||c.isOnShoppingList),[o]),f=v.useMemo(()=>l.filter(e),[l,e]);return{query:n,setQuery:i,normalizedQuery:s,hasQuery:a,sortedMatches:l,visibleAddableMatches:h,hiddenMatches:u,activeMatches:f}}function mE(t){const e=document.querySelector(`[data-item-id="${t}"]`);e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.classList.add("omni-highlighted"),window.setTimeout(()=>{e.classList.remove("omni-highlighted")},1e3))}function nI(){const{items:t,actions:e}=Ku(),n=v.useCallback(_=>_.isOnShoppingList,[]),{query:i,setQuery:s,hasQuery:a,sortedMatches:r,visibleAddableMatches:l,hiddenMatches:o,activeMatches:u}=dE({items:t,isActive:n}),h=v.useMemo(()=>t.filter(n).sort(Mm),[t,n]),f=_=>{e.toggleShop(_.id,!0)},c=_=>e.addItem(_),m=_=>{mE(_.id)};return S.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[S.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-1 sm:mb-2",children:"Shopping List"}),S.jsx(hE,{items:t,isActive:n,activateItem:f,createItem:c,onExistingActive:m,onQueryChange:s,placeholder:"Search or Add item...",actionIcon:xm,actionLabel:"Add to shopping list"}),h.length===0&&!a?S.jsxs("div",{className:"flex flex-col items-center justify-center py-14 sm:py-20 opacity-50 text-center",children:[S.jsx(ND,{size:48,className:"mb-4 text-brand-300"}),S.jsx("p",{children:"Your list is empty!"}),S.jsx("p",{className:"text-sm",children:"Check Stock to add items."})]}):a?S.jsx("div",{className:"space-y-2",children:r.length===0?S.jsxs("p",{className:"text-sm text-gray-500",children:['No matches found. Press Enter to add "',i.trim(),'".']}):S.jsxs("div",{className:"space-y-2.5 sm:space-y-3",children:[l.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Available to add"}),l.map(_=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsxs("div",{className:"flex flex-col gap-0.5",children:[S.jsx("span",{className:"font-medium text-gray-800",children:_.name}),S.jsxs("div",{className:"flex gap-2 text-xs text-gray-500",children:[S.jsx("span",{children:"Not in current list"}),!_.isInStock&&S.jsx("span",{"aria-hidden":!0,children:""}),!_.isInStock&&S.jsx("span",{children:"Not in stock"})]})]}),S.jsx("button",{onClick:()=>e.toggleShop(_.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to list"})]},_.id))]}),o.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Hidden items"}),o.map(_=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsxs("div",{className:"flex flex-col gap-0.5",children:[S.jsx("span",{className:"font-medium text-gray-800",children:_.name}),S.jsxs("div",{className:"flex gap-2 text-xs text-gray-500",children:[S.jsx("span",{children:"Previously hidden"}),S.jsx("span",{"aria-hidden":!0,children:""}),S.jsx("span",{children:"Not in stock"})]})]}),S.jsx("button",{onClick:()=>e.toggleShop(_.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to list"})]},_.id))]}),u.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Already on your list"}),u.map(_=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsx("span",{className:"font-medium text-gray-800",children:_.name}),S.jsx("button",{disabled:!0,className:"px-3 py-2 rounded-lg text-sm font-semibold bg-gray-100 text-gray-500 cursor-not-allowed",children:"On list"})]},_.id))]})]})}):h.map(_=>S.jsx(fE,{item:_,mode:"shop"},_.id))]})}function iI(){const{items:t,actions:e}=Ku(),n=v.useCallback(_=>_.isInStock,[]),{query:i,setQuery:s,hasQuery:a,sortedMatches:r,visibleAddableMatches:l,hiddenMatches:o,activeMatches:u}=dE({items:t,isActive:n}),h=v.useMemo(()=>t.filter(n).sort(Mm),[t,n]),f=_=>{e.toggleStock(_.id,!0)},c=_=>e.addItem(_),m=_=>{mE(_.id)};return S.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[S.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-1 sm:mb-2",children:"Inventory"}),S.jsx(hE,{items:t,isActive:n,activateItem:f,createItem:c,onExistingActive:m,onQueryChange:s,placeholder:"Search or Add item...",actionIcon:ID,actionLabel:"Add to inventory"}),!a&&h.length===0&&S.jsx("div",{className:"text-center py-8 sm:py-10 opacity-50",children:S.jsx("p",{children:"Your pantry is empty."})}),a?S.jsx("div",{className:"space-y-2",children:r.length===0?S.jsxs("p",{className:"text-sm text-gray-500",children:['No matches found. Press Enter to add "',i.trim(),'".']}):S.jsxs("div",{className:"space-y-2.5 sm:space-y-3",children:[l.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Available to add"}),l.map(_=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsx("span",{className:"font-medium text-gray-800",children:_.name}),S.jsx("button",{onClick:()=>e.toggleStock(_.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to inventory"})]},_.id))]}),o.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Hidden items"}),o.map(_=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsx("span",{className:"font-medium text-gray-800",children:_.name}),S.jsx("button",{onClick:()=>e.toggleStock(_.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to inventory"})]},_.id))]}),u.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Already in inventory"}),u.map(_=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsx("span",{className:"font-medium text-gray-800",children:_.name}),S.jsx("button",{disabled:!0,className:"px-3 py-2 rounded-lg text-sm font-semibold bg-gray-100 text-gray-500 cursor-not-allowed",children:"In inventory"})]},_.id))]})]})}):S.jsx("div",{className:"space-y-3",children:h.map(_=>S.jsx(fE,{item:_,mode:"stock"},_.id))})]})}function sI(){return S.jsx(oD,{children:S.jsx(kw,{children:S.jsx(ZD,{children:S.jsxs(fw,{children:[S.jsx(Qf,{path:"/",element:S.jsx(nI,{})}),S.jsx(Qf,{path:"/stock",element:S.jsx(iI,{})})]})})})})}function aI(){if("serviceWorker"in navigator){const t="/shopping-spree/service-worker.js";window.addEventListener("load",()=>{navigator.serviceWorker.register(t).catch(e=>{console.error("Service worker registration failed:",e)})})}}vC.createRoot(document.getElementById("root")).render(S.jsx(v.StrictMode,{children:S.jsx(sI,{})}));aI();

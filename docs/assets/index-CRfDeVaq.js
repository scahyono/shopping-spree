(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Oy={exports:{}},hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE=Symbol.for("react.transitional.element"),xE=Symbol.for("react.fragment");function Dy(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:NE,type:t,key:i,ref:e!==void 0?e:null,props:n}}hu.Fragment=xE;hu.jsx=Dy;hu.jsxs=Dy;Oy.exports=hu;var S=Oy.exports,Iy={exports:{}},Q={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=Symbol.for("react.transitional.element"),RE=Symbol.for("react.portal"),ME=Symbol.for("react.fragment"),OE=Symbol.for("react.strict_mode"),DE=Symbol.for("react.profiler"),IE=Symbol.for("react.consumer"),kE=Symbol.for("react.context"),LE=Symbol.for("react.forward_ref"),UE=Symbol.for("react.suspense"),zE=Symbol.for("react.memo"),ky=Symbol.for("react.lazy"),BE=Symbol.for("react.activity"),zm=Symbol.iterator;function jE(t){return t===null||typeof t!="object"?null:(t=zm&&t[zm]||t["@@iterator"],typeof t=="function"?t:null)}var Ly={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uy=Object.assign,zy={};function ya(t,e,n){this.props=t,this.context=e,this.refs=zy,this.updater=n||Ly}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function By(){}By.prototype=ya.prototype;function bh(t,e,n){this.props=t,this.context=e,this.refs=zy,this.updater=n||Ly}var Sh=bh.prototype=new By;Sh.constructor=bh;Uy(Sh,ya.prototype);Sh.isPureReactComponent=!0;var Bm=Array.isArray;function Xc(){}var Ce={H:null,A:null,T:null,S:null},jy=Object.prototype.hasOwnProperty;function Eh(t,e,n){var i=n.ref;return{$$typeof:vh,type:t,key:e,ref:i!==void 0?i:null,props:n}}function HE(t,e){return Eh(t.type,e,t.props)}function Ch(t){return typeof t=="object"&&t!==null&&t.$$typeof===vh}function PE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jm=/\/+/g;function Wu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PE(""+t.key):e.toString(36)}function VE(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Xc,Xc):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ts(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case vh:case RE:r=!0;break;case ky:return r=t._init,Ts(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+Wu(t,0):i,Bm(s)?(n="",r!=null&&(n=r.replace(jm,"$&/")+"/"),Ts(s,e,n,"",function(u){return u})):s!=null&&(Ch(s)&&(s=HE(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(jm,"$&/")+"/")+r)),e.push(s)),1;r=0;var l=i===""?".":i+":";if(Bm(t))for(var o=0;o<t.length;o++)i=t[o],a=l+Wu(i,o),r+=Ts(i,e,n,a,s);else if(o=jE(t),typeof o=="function")for(t=o.call(t),o=0;!(i=t.next()).done;)i=i.value,a=l+Wu(i,o++),r+=Ts(i,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return Ts(VE(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function vl(t,e,n){if(t==null)return t;var i=[],s=0;return Ts(t,i,"","",function(a){return e.call(n,a,s++)}),i}function qE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hm=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},GE={map:vl,forEach:function(t,e,n){vl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vl(t,function(){e++}),e},toArray:function(t){return vl(t,function(e){return e})||[]},only:function(t){if(!Ch(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Activity=BE;Q.Children=GE;Q.Component=ya;Q.Fragment=ME;Q.Profiler=DE;Q.PureComponent=bh;Q.StrictMode=OE;Q.Suspense=UE;Q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ce;Q.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ce.H.useMemoCache(t)}};Q.cache=function(t){return function(){return t.apply(null,arguments)}};Q.cacheSignal=function(){return null};Q.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Uy({},t.props),s=t.key;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)!jy.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var r=Array(a),l=0;l<a;l++)r[l]=arguments[l+2];i.children=r}return Eh(t.type,s,i)};Q.createContext=function(t){return t={$$typeof:kE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:IE,_context:t},t};Q.createElement=function(t,e,n){var i,s={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)jy.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return Eh(t,a,s)};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:LE,render:t}};Q.isValidElement=Ch;Q.lazy=function(t){return{$$typeof:ky,_payload:{_status:-1,_result:t},_init:qE}};Q.memo=function(t,e){return{$$typeof:zE,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=Ce.T,n={};Ce.T=n;try{var i=t(),s=Ce.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Xc,Hm)}catch(a){Hm(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ce.T=e}};Q.unstable_useCacheRefresh=function(){return Ce.H.useCacheRefresh()};Q.use=function(t){return Ce.H.use(t)};Q.useActionState=function(t,e,n){return Ce.H.useActionState(t,e,n)};Q.useCallback=function(t,e){return Ce.H.useCallback(t,e)};Q.useContext=function(t){return Ce.H.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t,e){return Ce.H.useDeferredValue(t,e)};Q.useEffect=function(t,e){return Ce.H.useEffect(t,e)};Q.useEffectEvent=function(t){return Ce.H.useEffectEvent(t)};Q.useId=function(){return Ce.H.useId()};Q.useImperativeHandle=function(t,e,n){return Ce.H.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return Ce.H.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return Ce.H.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return Ce.H.useMemo(t,e)};Q.useOptimistic=function(t,e){return Ce.H.useOptimistic(t,e)};Q.useReducer=function(t,e,n){return Ce.H.useReducer(t,e,n)};Q.useRef=function(t){return Ce.H.useRef(t)};Q.useState=function(t){return Ce.H.useState(t)};Q.useSyncExternalStore=function(t,e,n){return Ce.H.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return Ce.H.useTransition()};Q.version="19.2.1";Iy.exports=Q;var b=Iy.exports,Hy={exports:{}},du={},Py={exports:{}},Vy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var P=L.length;L.push(G);e:for(;0<P;){var ae=P-1>>>1,v=L[ae];if(0<s(v,G))L[ae]=G,L[P]=v,P=ae;else break e}}function n(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var G=L[0],P=L.pop();if(P!==G){L[0]=P;e:for(var ae=0,v=L.length,_=v>>>1;ae<_;){var k=2*(ae+1)-1,B=L[k],M=k+1,U=L[M];if(0>s(B,P))M<v&&0>s(U,B)?(L[ae]=U,L[M]=P,ae=M):(L[ae]=B,L[k]=P,ae=k);else if(M<v&&0>s(U,P))L[ae]=U,L[M]=P,ae=M;else break e}}return G}function s(L,G){var P=L.sortIndex-G.sortIndex;return P!==0?P:L.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();t.unstable_now=function(){return r.now()-l}}var o=[],u=[],h=1,f=null,c=3,d=!1,g=!1,C=!1,E=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function T(L){for(var G=n(u);G!==null;){if(G.callback===null)i(u);else if(G.startTime<=L)i(u),G.sortIndex=G.expirationTime,e(o,G);else break;G=n(u)}}function I(L){if(C=!1,T(L),!g)if(n(o)!==null)g=!0,R||(R=!0,Y());else{var G=n(u);G!==null&&st(I,G.startTime-L)}}var R=!1,w=-1,A=5,N=-1;function O(){return E?!0:!(t.unstable_now()-N<A)}function z(){if(E=!1,R){var L=t.unstable_now();N=L;var G=!0;try{e:{g=!1,C&&(C=!1,p(w),w=-1),d=!0;var P=c;try{t:{for(T(L),f=n(o);f!==null&&!(f.expirationTime>L&&O());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,c=f.priorityLevel;var v=ae(f.expirationTime<=L);if(L=t.unstable_now(),typeof v=="function"){f.callback=v,T(L),G=!0;break t}f===n(o)&&i(o),T(L)}else i(o);f=n(o)}if(f!==null)G=!0;else{var _=n(u);_!==null&&st(I,_.startTime-L),G=!1}}break e}finally{f=null,c=P,d=!1}G=void 0}}finally{G?Y():R=!1}}}var Y;if(typeof y=="function")Y=function(){y(z)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Ie=me.port2;me.port1.onmessage=z,Y=function(){Ie.postMessage(null)}}else Y=function(){m(z,0)};function st(L,G){w=m(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_next=function(L){switch(c){case 1:case 2:case 3:var G=3;break;default:G=c}var P=c;c=G;try{return L()}finally{c=P}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var P=c;c=L;try{return G()}finally{c=P}},t.unstable_scheduleCallback=function(L,G,P){var ae=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ae+P:ae):P=ae,L){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=P+v,L={id:h++,callback:G,priorityLevel:L,startTime:P,expirationTime:v,sortIndex:-1},P>ae?(L.sortIndex=P,e(u,L),n(o)===null&&L===n(u)&&(C?(p(w),w=-1):C=!0,st(I,P-ae))):(L.sortIndex=v,e(o,L),g||d||(g=!0,R||(R=!0,Y()))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var G=c;return function(){var P=c;c=G;try{return L.apply(this,arguments)}finally{c=P}}}})(Vy);Py.exports=Vy;var FE=Py.exports,qy={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE=b;function Gy(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qn(){}var rt={d:{f:Qn,r:function(){throw Error(Gy(522))},D:Qn,C:Qn,L:Qn,m:Qn,X:Qn,S:Qn,M:Qn},p:0,findDOMNode:null},QE=Symbol.for("react.portal");function KE(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:QE,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ja=YE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function mu(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt;ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Gy(299));return KE(t,e,null,n)};ut.flushSync=function(t){var e=Ja.T,n=rt.p;try{if(Ja.T=null,rt.p=2,t)return t()}finally{Ja.T=e,rt.p=n,rt.d.f()}};ut.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,rt.d.C(t,e))};ut.prefetchDNS=function(t){typeof t=="string"&&rt.d.D(t)};ut.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=mu(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?rt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&rt.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ut.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=mu(e.as,e.crossOrigin);rt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&rt.d.M(t)};ut.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=mu(n,e.crossOrigin);rt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ut.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=mu(e.as,e.crossOrigin);rt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else rt.d.m(t)};ut.requestFormReset=function(t){rt.d.r(t)};ut.unstable_batchedUpdates=function(t,e){return t(e)};ut.useFormState=function(t,e,n){return Ja.H.useFormState(t,e,n)};ut.useFormStatus=function(){return Ja.H.useHostTransitionStatus()};ut.version="19.2.1";function Fy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fy)}catch(t){console.error(t)}}Fy(),qy.exports=ut;var XE=qy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ve=FE,Yy=b,WE=XE;function x(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ky(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xy(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pm(t){if(Kr(t)!==t)throw Error(x(188))}function $E(t){var e=t.alternate;if(!e){if(e=Kr(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Pm(s),t;if(a===i)return Pm(s),e;a=a.sibling}throw Error(x(188))}if(n.return!==i.return)n=s,i=a;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,i=a;break}if(l===i){r=!0,i=s,n=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===n){r=!0,n=a,i=s;break}if(l===i){r=!0,i=a,n=s;break}l=l.sibling}if(!r)throw Error(x(189))}}if(n.alternate!==i)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function Wy(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Wy(t),e!==null)return e;t=t.sibling}return null}var Te=Object.assign,ZE=Symbol.for("react.element"),bl=Symbol.for("react.transitional.element"),Ka=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),$y=Symbol.for("react.strict_mode"),Wc=Symbol.for("react.profiler"),Zy=Symbol.for("react.consumer"),Tn=Symbol.for("react.context"),Th=Symbol.for("react.forward_ref"),$c=Symbol.for("react.suspense"),Zc=Symbol.for("react.suspense_list"),wh=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Jc=Symbol.for("react.activity"),JE=Symbol.for("react.memo_cache_sentinel"),Vm=Symbol.iterator;function ka(t){return t===null||typeof t!="object"?null:(t=Vm&&t[Vm]||t["@@iterator"],typeof t=="function"?t:null)}var e1=Symbol.for("react.client.reference");function ef(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===e1?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ns:return"Fragment";case Wc:return"Profiler";case $y:return"StrictMode";case $c:return"Suspense";case Zc:return"SuspenseList";case Jc:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ka:return"Portal";case Tn:return t.displayName||"Context";case Zy:return(t._context.displayName||"Context")+".Consumer";case Th:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wh:return e=t.displayName||null,e!==null?e:ef(t.type)||"Memo";case Wn:e=t._payload,t=t._init;try{return ef(t(e))}catch{}}return null}var Xa=Array.isArray,q=Yy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=WE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ki={pending:!1,data:null,method:null,action:null},tf=[],xs=-1;function hn(t){return{current:t}}function Ke(t){0>xs||(t.current=tf[xs],tf[xs]=null,xs--)}function ve(t,e){xs++,tf[xs]=t.current,t.current=e}var on=hn(null),Sr=hn(null),ci=hn(null),uo=hn(null);function co(t,e){switch(ve(ci,e),ve(Sr,t),ve(on,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Kp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Kp(e),t=_0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ke(on),ve(on,t)}function Js(){Ke(on),Ke(Sr),Ke(ci)}function nf(t){t.memoizedState!==null&&ve(uo,t);var e=on.current,n=_0(e,t.type);e!==n&&(ve(Sr,t),ve(on,n))}function fo(t){Sr.current===t&&(Ke(on),Ke(Sr)),uo.current===t&&(Ke(uo),Dr._currentValue=Ki)}var $u,qm;function Bi(t){if($u===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$u=e&&e[1]||"",qm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$u+t+qm}var Zu=!1;function Ju(t,e){if(!t||Zu)return"";Zu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(d){var c=d}Reflect.construct(t,[],f)}else{try{f.call()}catch(d){c=d}t.call(f.prototype)}}else{try{throw Error()}catch(d){c=d}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(d){if(d&&c&&typeof d.stack=="string")return[d.stack,c.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var o=r.split(`
`),u=l.split(`
`);for(s=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(i===o.length||s===u.length)for(i=o.length-1,s=u.length-1;1<=i&&0<=s&&o[i]!==u[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==u[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==u[s]){var h=`
`+o[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=i&&0<=s);break}}}finally{Zu=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Bi(n):""}function t1(t,e){switch(t.tag){case 26:case 27:case 5:return Bi(t.type);case 16:return Bi("Lazy");case 13:return t.child!==e&&e!==null?Bi("Suspense Fallback"):Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Ju(t.type,!1);case 11:return Ju(t.type.render,!1);case 1:return Ju(t.type,!0);case 31:return Bi("Activity");default:return""}}function Gm(t){try{var e="",n=null;do e+=t1(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var sf=Object.prototype.hasOwnProperty,Ah=Ve.unstable_scheduleCallback,ec=Ve.unstable_cancelCallback,n1=Ve.unstable_shouldYield,i1=Ve.unstable_requestPaint,Tt=Ve.unstable_now,s1=Ve.unstable_getCurrentPriorityLevel,Jy=Ve.unstable_ImmediatePriority,e_=Ve.unstable_UserBlockingPriority,ho=Ve.unstable_NormalPriority,a1=Ve.unstable_LowPriority,t_=Ve.unstable_IdlePriority,r1=Ve.log,l1=Ve.unstable_setDisableYieldValue,Xr=null,wt=null;function ai(t){if(typeof r1=="function"&&l1(t),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Xr,t)}catch{}}var At=Math.clz32?Math.clz32:c1,o1=Math.log,u1=Math.LN2;function c1(t){return t>>>=0,t===0?32:31-(o1(t)/u1|0)|0}var Sl=256,El=262144,Cl=4194304;function ji(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pu(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,a=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~a,i!==0?s=ji(i):(r&=l,r!==0?s=ji(r):n||(n=l&~t,n!==0&&(s=ji(n))))):(l=i&~a,l!==0?s=ji(l):r!==0?s=ji(r):n||(n=i&~t,n!==0&&(s=ji(n)))),s===0?0:e!==0&&e!==s&&!(e&a)&&(a=s&-s,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:s}function Wr(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function f1(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n_(){var t=Cl;return Cl<<=1,!(Cl&62914560)&&(Cl=4194304),t}function tc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $r(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function h1(t,e,n,i,s,a){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,o=t.expirationTimes,u=t.hiddenUpdates;for(n=r&~n;0<n;){var h=31-At(n),f=1<<h;l[h]=0,o[h]=-1;var c=u[h];if(c!==null)for(u[h]=null,h=0;h<c.length;h++){var d=c[h];d!==null&&(d.lane&=-536870913)}n&=~f}i!==0&&i_(t,i,0),a!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=a&~(r&~e))}function i_(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-At(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function s_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-At(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function a_(t,e){var n=e&-e;return n=n&42?1:Nh(n),n&(t.suspendedLanes|e)?0:n}function Nh(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xh(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function r_(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:R0(t.type))}function Fm(t,e){var n=le.p;try{return le.p=t,e()}finally{le.p=n}}var Oi=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Oi,_t="__reactProps$"+Oi,_a="__reactContainer$"+Oi,af="__reactEvents$"+Oi,d1="__reactListeners$"+Oi,m1="__reactHandles$"+Oi,Ym="__reactResources$"+Oi,Zr="__reactMarker$"+Oi;function Rh(t){delete t[Ze],delete t[_t],delete t[af],delete t[d1],delete t[m1]}function Rs(t){var e=t[Ze];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_a]||n[Ze]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jp(t);t!==null;){if(n=t[Ze])return n;t=Jp(t)}return e}t=n,n=t.parentNode}return null}function va(t){if(t=t[Ze]||t[_a]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Wa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(x(33))}function Hs(t){var e=t[Ym];return e||(e=t[Ym]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ye(t){t[Zr]=!0}var l_=new Set,o_={};function hs(t,e){ea(t,e),ea(t+"Capture",e)}function ea(t,e){for(o_[t]=e,t=0;t<e.length;t++)l_.add(e[t])}var p1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qm={},Km={};function g1(t){return sf.call(Km,t)?!0:sf.call(Qm,t)?!1:p1.test(t)?Km[t]=!0:(Qm[t]=!0,!1)}function Hl(t,e,n){if(g1(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Tl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function gn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y1(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rf(t){if(!t._valueTracker){var e=u_(t)?"checked":"value";t._valueTracker=y1(t,e,""+t[e])}}function c_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=u_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function mo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _1=/[\n"\\]/g;function zt(t){return t.replace(_1,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function lf(t,e,n,i,s,a,r,l){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+kt(e)):t.value!==""+kt(e)&&(t.value=""+kt(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?of(t,r,kt(e)):n!=null?of(t,r,kt(n)):i!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+kt(l):t.removeAttribute("name")}function f_(t,e,n,i,s,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){rf(t);return}n=n!=null?""+kt(n):"",e=e!=null?""+kt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),rf(t)}function of(t,e,n){e==="number"&&mo(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ps(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+kt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function h_(t,e,n){if(e!=null&&(e=""+kt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+kt(n):""}function d_(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(x(92));if(Xa(i)){if(1<i.length)throw Error(x(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=kt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),rf(t)}function ta(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var v1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xm(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||v1.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function m_(t,e,n){if(e!=null&&typeof e!="object")throw Error(x(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Xm(t,s,i)}else for(var a in e)e.hasOwnProperty(a)&&Xm(t,a,e[a])}function Mh(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(t){return S1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function wn(){}var uf=null;function Oh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Vs=null;function Wm(t){var e=va(t);if(e&&(t=e.stateNode)){var n=t[_t]||null;e:switch(t=e.stateNode,e.type){case"input":if(lf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+zt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[_t]||null;if(!s)throw Error(x(90));lf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&c_(i)}break e;case"textarea":h_(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ps(t,!!n.multiple,e,!1)}}}var nc=!1;function p_(t,e,n){if(nc)return t(e,n);nc=!0;try{var i=t(e);return i}finally{if(nc=!1,(Ms!==null||Vs!==null)&&(Nu(),Ms&&(e=Ms,t=Vs,Vs=Ms=null,Wm(e),t)))for(e=0;e<t.length;e++)Wm(t[e])}}function Er(t,e){var n=t.stateNode;if(n===null)return null;var i=n[_t]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=!1;if(Ln)try{var La={};Object.defineProperty(La,"passive",{get:function(){cf=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{cf=!1}var ri=null,Dh=null,Vl=null;function g_(){if(Vl)return Vl;var t,e=Dh,n=e.length,i,s="value"in ri?ri.value:ri.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[a-i];i++);return Vl=s.slice(t,1<i?1-i:void 0)}function ql(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wl(){return!0}function $m(){return!1}function vt(t){function e(n,i,s,a,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?wl:$m,this.isPropagationStopped=$m,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),e}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gu=vt(ds),Jr=Te({},ds,{view:0,detail:0}),E1=vt(Jr),ic,sc,Ua,yu=Te({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ih,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ua&&(Ua&&t.type==="mousemove"?(ic=t.screenX-Ua.screenX,sc=t.screenY-Ua.screenY):sc=ic=0,Ua=t),ic)},movementY:function(t){return"movementY"in t?t.movementY:sc}}),Zm=vt(yu),C1=Te({},yu,{dataTransfer:0}),T1=vt(C1),w1=Te({},Jr,{relatedTarget:0}),ac=vt(w1),A1=Te({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),N1=vt(A1),x1=Te({},ds,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),R1=vt(x1),M1=Te({},ds,{data:0}),Jm=vt(M1),O1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I1[t])?!!e[t]:!1}function Ih(){return k1}var L1=Te({},Jr,{key:function(t){if(t.key){var e=O1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ql(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ih,charCode:function(t){return t.type==="keypress"?ql(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ql(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U1=vt(L1),z1=Te({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ep=vt(z1),B1=Te({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ih}),j1=vt(B1),H1=Te({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),P1=vt(H1),V1=Te({},yu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q1=vt(V1),G1=Te({},ds,{newState:0,oldState:0}),F1=vt(G1),Y1=[9,13,27,32],kh=Ln&&"CompositionEvent"in window,er=null;Ln&&"documentMode"in document&&(er=document.documentMode);var Q1=Ln&&"TextEvent"in window&&!er,y_=Ln&&(!kh||er&&8<er&&11>=er),tp=" ",np=!1;function __(t,e){switch(t){case"keyup":return Y1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function K1(t,e){switch(t){case"compositionend":return v_(e);case"keypress":return e.which!==32?null:(np=!0,tp);case"textInput":return t=e.data,t===tp&&np?null:t;default:return null}}function X1(t,e){if(Os)return t==="compositionend"||!kh&&__(t,e)?(t=g_(),Vl=Dh=ri=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return y_&&e.locale!=="ko"?null:e.data;default:return null}}var W1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W1[t.type]:e==="textarea"}function b_(t,e,n,i){Ms?Vs?Vs.push(i):Vs=[i]:Ms=i,e=Do(e,"onChange"),0<e.length&&(n=new gu("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var tr=null,Cr=null;function $1(t){p0(t,0)}function _u(t){var e=Wa(t);if(c_(e))return t}function sp(t,e){if(t==="change")return e}var S_=!1;if(Ln){var rc;if(Ln){var lc="oninput"in document;if(!lc){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),lc=typeof ap.oninput=="function"}rc=lc}else rc=!1;S_=rc&&(!document.documentMode||9<document.documentMode)}function rp(){tr&&(tr.detachEvent("onpropertychange",E_),Cr=tr=null)}function E_(t){if(t.propertyName==="value"&&_u(Cr)){var e=[];b_(e,Cr,t,Oh(t)),p_($1,e)}}function Z1(t,e,n){t==="focusin"?(rp(),tr=e,Cr=n,tr.attachEvent("onpropertychange",E_)):t==="focusout"&&rp()}function J1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(Cr)}function eC(t,e){if(t==="click")return _u(e)}function tC(t,e){if(t==="input"||t==="change")return _u(e)}function nC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xt=typeof Object.is=="function"?Object.is:nC;function Tr(t,e){if(xt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!sf.call(e,s)||!xt(t[s],e[s]))return!1}return!0}function lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function op(t,e){var n=lp(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lp(n)}}function C_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=mo(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mo(t.document)}return e}function Lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var iC=Ln&&"documentMode"in document&&11>=document.documentMode,Ds=null,ff=null,nr=null,hf=!1;function up(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hf||Ds==null||Ds!==mo(i)||(i=Ds,"selectionStart"in i&&Lh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),nr&&Tr(nr,i)||(nr=i,i=Do(ff,"onSelect"),0<i.length&&(e=new gu("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ds)))}function Ui(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Is={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},oc={},w_={};Ln&&(w_=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function ms(t){if(oc[t])return oc[t];if(!Is[t])return t;var e=Is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in w_)return oc[t]=e[n];return t}var A_=ms("animationend"),N_=ms("animationiteration"),x_=ms("animationstart"),sC=ms("transitionrun"),aC=ms("transitionstart"),rC=ms("transitioncancel"),R_=ms("transitionend"),M_=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function tn(t,e){M_.set(t,e),hs(e,[t])}var po=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},It=[],ks=0,Uh=0;function vu(){for(var t=ks,e=Uh=ks=0;e<t;){var n=It[e];It[e++]=null;var i=It[e];It[e++]=null;var s=It[e];It[e++]=null;var a=It[e];if(It[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&O_(n,s,a)}}function bu(t,e,n,i){It[ks++]=t,It[ks++]=e,It[ks++]=n,It[ks++]=i,Uh|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function zh(t,e,n,i){return bu(t,e,n,i),go(t)}function ps(t,e){return bu(t,null,null,e),go(t)}function O_(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,s&&e!==null&&(s=31-At(n),t=a.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),a):null}function go(t){if(50<fr)throw fr=0,kf=null,Error(x(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ls={};function lC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,n,i){return new lC(t,e,n,i)}function Bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mn(t,e){var n=t.alternate;return n===null?(n=Et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function D_(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Gl(t,e,n,i,s,a){var r=0;if(i=t,typeof t=="function")Bh(t)&&(r=1);else if(typeof t=="string")r=hT(t,n,on.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Jc:return t=Et(31,n,e,s),t.elementType=Jc,t.lanes=a,t;case Ns:return Xi(n.children,s,a,e);case $y:r=8,s|=24;break;case Wc:return t=Et(12,n,e,s|2),t.elementType=Wc,t.lanes=a,t;case $c:return t=Et(13,n,e,s),t.elementType=$c,t.lanes=a,t;case Zc:return t=Et(19,n,e,s),t.elementType=Zc,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tn:r=10;break e;case Zy:r=9;break e;case Th:r=11;break e;case wh:r=14;break e;case Wn:r=16,i=null;break e}r=29,n=Error(x(130,t===null?"null":typeof t,"")),i=null}return e=Et(r,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function Xi(t,e,n,i){return t=Et(7,t,i,e),t.lanes=n,t}function uc(t,e,n){return t=Et(6,t,null,e),t.lanes=n,t}function I_(t){var e=Et(18,null,null,0);return e.stateNode=t,e}function cc(t,e,n){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var cp=new WeakMap;function Bt(t,e){if(typeof t=="object"&&t!==null){var n=cp.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Gm(e)},cp.set(t,e),e)}return{value:t,source:e,stack:Gm(e)}}var Us=[],zs=0,yo=null,wr=0,Lt=[],Ut=0,Ti=null,an=1,rn="";function Sn(t,e){Us[zs++]=wr,Us[zs++]=yo,yo=t,wr=e}function k_(t,e,n){Lt[Ut++]=an,Lt[Ut++]=rn,Lt[Ut++]=Ti,Ti=t;var i=an;t=rn;var s=32-At(i)-1;i&=~(1<<s),n+=1;var a=32-At(e)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,an=1<<32-At(e)+s|n<<s|i,rn=a+t}else an=1<<a|n<<s|i,rn=t}function jh(t){t.return!==null&&(Sn(t,1),k_(t,1,0))}function Hh(t){for(;t===yo;)yo=Us[--zs],Us[zs]=null,wr=Us[--zs],Us[zs]=null;for(;t===Ti;)Ti=Lt[--Ut],Lt[Ut]=null,rn=Lt[--Ut],Lt[Ut]=null,an=Lt[--Ut],Lt[Ut]=null}function L_(t,e){Lt[Ut++]=an,Lt[Ut++]=rn,Lt[Ut++]=Ti,an=e.id,rn=e.overflow,Ti=t}var Je=null,Ee=null,ne=!1,fi=null,jt=!1,mf=Error(x(519));function wi(t){var e=Error(x(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ar(Bt(e,t)),mf}function fp(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Ze]=t,e[_t]=i,n){case"dialog":W("cancel",e),W("close",e);break;case"iframe":case"object":case"embed":W("load",e);break;case"video":case"audio":for(n=0;n<Mr.length;n++)W(Mr[n],e);break;case"source":W("error",e);break;case"img":case"image":case"link":W("error",e),W("load",e);break;case"details":W("toggle",e);break;case"input":W("invalid",e),f_(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":W("invalid",e);break;case"textarea":W("invalid",e),d_(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||y0(e.textContent,n)?(i.popover!=null&&(W("beforetoggle",e),W("toggle",e)),i.onScroll!=null&&W("scroll",e),i.onScrollEnd!=null&&W("scrollend",e),i.onClick!=null&&(e.onclick=wn),e=!0):e=!1,e||wi(t,!0)}function hp(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:Je=Je.return}}function Ss(t){if(t!==Je)return!1;if(!ne)return hp(t),ne=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||jf(t.type,t.memoizedProps)),n=!n),n&&Ee&&wi(t),hp(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));Ee=Zp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));Ee=Zp(t)}else e===27?(e=Ee,Di(t.type)?(t=qf,qf=null,Ee=t):Ee=e):Ee=Je?Vt(t.stateNode.nextSibling):null;return!0}function ts(){Ee=Je=null,ne=!1}function fc(){var t=fi;return t!==null&&(mt===null?mt=t:mt.push.apply(mt,t),fi=null),t}function Ar(t){fi===null?fi=[t]:fi.push(t)}var pf=hn(null),gs=null,An=null;function Zn(t,e,n){ve(pf,e._currentValue),e._currentValue=n}function On(t){t._currentValue=pf.current,Ke(pf)}function gf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function yf(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=s;for(var o=0;o<e.length;o++)if(l.context===e[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),gf(a.return,n,t),i||(r=null);break e}a=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(x(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),gf(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function ba(t,e,n,i){t=null;for(var s=e,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(x(387));if(r=r.memoizedProps,r!==null){var l=s.type;xt(s.pendingProps.value,r.value)||(t!==null?t.push(l):t=[l])}}else if(s===uo.current){if(r=s.alternate,r===null)throw Error(x(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Dr):t=[Dr])}s=s.return}t!==null&&yf(e,t,n,i),e.flags|=262144}function _o(t){for(t=t.firstContext;t!==null;){if(!xt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ns(t){gs=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function et(t){return U_(gs,t)}function Al(t,e){return gs===null&&ns(t),U_(t,e)}function U_(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},An===null){if(t===null)throw Error(x(308));An=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else An=An.next=e;return n}var oC=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},uC=Ve.unstable_scheduleCallback,cC=Ve.unstable_NormalPriority,Be={$$typeof:Tn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new oC,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&uC(cC,function(){t.controller.abort()})}var ir=null,_f=0,na=0,qs=null;function fC(t,e){if(ir===null){var n=ir=[];_f=0,na=hd(),qs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return _f++,e.then(dp,dp),e}function dp(){if(--_f===0&&ir!==null){qs!==null&&(qs.status="fulfilled");var t=ir;ir=null,na=0,qs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function hC(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var mp=q.S;q.S=function(t,e){Wv=Tt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&fC(t,e),mp!==null&&mp(t,e)};var Wi=hn(null);function Vh(){var t=Wi.current;return t!==null?t:pe.pooledCache}function Fl(t,e){e===null?ve(Wi,Wi.current):ve(Wi,e.pool)}function z_(){var t=Vh();return t===null?null:{parent:Be._currentValue,pool:t}}var Sa=Error(x(460)),qh=Error(x(474)),Su=Error(x(542)),vo={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function B_(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(wn,wn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yp(t),t;default:if(typeof e.status=="string")e.then(wn,wn);else{if(t=pe,t!==null&&100<t.shellSuspendCounter)throw Error(x(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yp(t),t}throw $i=e,Sa}}function Hi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?($i=n,Sa):n}}var $i=null;function gp(){if($i===null)throw Error(x(459));var t=$i;return $i=null,t}function yp(t){if(t===Sa||t===Su)throw Error(x(483))}var Gs=null,Nr=0;function Nl(t){var e=Nr;return Nr+=1,Gs===null&&(Gs=[]),B_(Gs,t,e)}function za(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function xl(t,e){throw e.$$typeof===ZE?Error(x(525)):(t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function j_(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function i(m){for(var p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(m,p){return m=Mn(m,p),m.index=0,m.sibling=null,m}function a(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=67108866,p):y):(m.flags|=67108866,p)):(m.flags|=1048576,p)}function r(m){return t&&m.alternate===null&&(m.flags|=67108866),m}function l(m,p,y,T){return p===null||p.tag!==6?(p=uc(y,m.mode,T),p.return=m,p):(p=s(p,y),p.return=m,p)}function o(m,p,y,T){var I=y.type;return I===Ns?h(m,p,y.props.children,T,y.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Wn&&Hi(I)===p.type)?(p=s(p,y.props),za(p,y),p.return=m,p):(p=Gl(y.type,y.key,y.props,null,m.mode,T),za(p,y),p.return=m,p)}function u(m,p,y,T){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=cc(y,m.mode,T),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function h(m,p,y,T,I){return p===null||p.tag!==7?(p=Xi(y,m.mode,T,I),p.return=m,p):(p=s(p,y),p.return=m,p)}function f(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=uc(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bl:return y=Gl(p.type,p.key,p.props,null,m.mode,y),za(y,p),y.return=m,y;case Ka:return p=cc(p,m.mode,y),p.return=m,p;case Wn:return p=Hi(p),f(m,p,y)}if(Xa(p)||ka(p))return p=Xi(p,m.mode,y,null),p.return=m,p;if(typeof p.then=="function")return f(m,Nl(p),y);if(p.$$typeof===Tn)return f(m,Al(m,p),y);xl(m,p)}return null}function c(m,p,y,T){var I=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return I!==null?null:l(m,p,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bl:return y.key===I?o(m,p,y,T):null;case Ka:return y.key===I?u(m,p,y,T):null;case Wn:return y=Hi(y),c(m,p,y,T)}if(Xa(y)||ka(y))return I!==null?null:h(m,p,y,T,null);if(typeof y.then=="function")return c(m,p,Nl(y),T);if(y.$$typeof===Tn)return c(m,p,Al(m,y),T);xl(m,y)}return null}function d(m,p,y,T,I){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return m=m.get(y)||null,l(p,m,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case bl:return m=m.get(T.key===null?y:T.key)||null,o(p,m,T,I);case Ka:return m=m.get(T.key===null?y:T.key)||null,u(p,m,T,I);case Wn:return T=Hi(T),d(m,p,y,T,I)}if(Xa(T)||ka(T))return m=m.get(y)||null,h(p,m,T,I,null);if(typeof T.then=="function")return d(m,p,y,Nl(T),I);if(T.$$typeof===Tn)return d(m,p,y,Al(p,T),I);xl(p,T)}return null}function g(m,p,y,T){for(var I=null,R=null,w=p,A=p=0,N=null;w!==null&&A<y.length;A++){w.index>A?(N=w,w=null):N=w.sibling;var O=c(m,w,y[A],T);if(O===null){w===null&&(w=N);break}t&&w&&O.alternate===null&&e(m,w),p=a(O,p,A),R===null?I=O:R.sibling=O,R=O,w=N}if(A===y.length)return n(m,w),ne&&Sn(m,A),I;if(w===null){for(;A<y.length;A++)w=f(m,y[A],T),w!==null&&(p=a(w,p,A),R===null?I=w:R.sibling=w,R=w);return ne&&Sn(m,A),I}for(w=i(w);A<y.length;A++)N=d(w,m,A,y[A],T),N!==null&&(t&&N.alternate!==null&&w.delete(N.key===null?A:N.key),p=a(N,p,A),R===null?I=N:R.sibling=N,R=N);return t&&w.forEach(function(z){return e(m,z)}),ne&&Sn(m,A),I}function C(m,p,y,T){if(y==null)throw Error(x(151));for(var I=null,R=null,w=p,A=p=0,N=null,O=y.next();w!==null&&!O.done;A++,O=y.next()){w.index>A?(N=w,w=null):N=w.sibling;var z=c(m,w,O.value,T);if(z===null){w===null&&(w=N);break}t&&w&&z.alternate===null&&e(m,w),p=a(z,p,A),R===null?I=z:R.sibling=z,R=z,w=N}if(O.done)return n(m,w),ne&&Sn(m,A),I;if(w===null){for(;!O.done;A++,O=y.next())O=f(m,O.value,T),O!==null&&(p=a(O,p,A),R===null?I=O:R.sibling=O,R=O);return ne&&Sn(m,A),I}for(w=i(w);!O.done;A++,O=y.next())O=d(w,m,A,O.value,T),O!==null&&(t&&O.alternate!==null&&w.delete(O.key===null?A:O.key),p=a(O,p,A),R===null?I=O:R.sibling=O,R=O);return t&&w.forEach(function(Y){return e(m,Y)}),ne&&Sn(m,A),I}function E(m,p,y,T){if(typeof y=="object"&&y!==null&&y.type===Ns&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case bl:e:{for(var I=y.key;p!==null;){if(p.key===I){if(I=y.type,I===Ns){if(p.tag===7){n(m,p.sibling),T=s(p,y.props.children),T.return=m,m=T;break e}}else if(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Wn&&Hi(I)===p.type){n(m,p.sibling),T=s(p,y.props),za(T,y),T.return=m,m=T;break e}n(m,p);break}else e(m,p);p=p.sibling}y.type===Ns?(T=Xi(y.props.children,m.mode,T,y.key),T.return=m,m=T):(T=Gl(y.type,y.key,y.props,null,m.mode,T),za(T,y),T.return=m,m=T)}return r(m);case Ka:e:{for(I=y.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),T=s(p,y.children||[]),T.return=m,m=T;break e}else{n(m,p);break}else e(m,p);p=p.sibling}T=cc(y,m.mode,T),T.return=m,m=T}return r(m);case Wn:return y=Hi(y),E(m,p,y,T)}if(Xa(y))return g(m,p,y,T);if(ka(y)){if(I=ka(y),typeof I!="function")throw Error(x(150));return y=I.call(y),C(m,p,y,T)}if(typeof y.then=="function")return E(m,p,Nl(y),T);if(y.$$typeof===Tn)return E(m,p,Al(m,y),T);xl(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),T=s(p,y),T.return=m,m=T):(n(m,p),T=uc(y,m.mode,T),T.return=m,m=T),r(m)):n(m,p)}return function(m,p,y,T){try{Nr=0;var I=E(m,p,y,T);return Gs=null,I}catch(w){if(w===Sa||w===Su)throw w;var R=Et(29,w,null,m.mode);return R.lanes=T,R.return=m,R}finally{}}}var is=j_(!0),H_=j_(!1),$n=!1;function Gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,re&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=go(t),O_(t,null,n),e}return bu(t,i,e,n),go(t)}function sr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,s_(t,n)}}function hc(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var bf=!1;function ar(){if(bf){var t=qs;if(t!==null)throw t}}function rr(t,e,n,i){bf=!1;var s=t.updateQueue;$n=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,u=o.next;o.next=null,r===null?a=u:r.next=u,r=o;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==r&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=o))}if(a!==null){var f=s.baseState;r=0,h=u=o=null,l=a;do{var c=l.lane&-536870913,d=c!==l.lane;if(d?(te&c)===c:(i&c)===c){c!==0&&c===na&&(bf=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var g=t,C=l;c=e;var E=n;switch(C.tag){case 1:if(g=C.payload,typeof g=="function"){f=g.call(E,f,c);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=C.payload,c=typeof g=="function"?g.call(E,f,c):g,c==null)break e;f=Te({},f,c);break e;case 2:$n=!0}}c=l.callback,c!==null&&(t.flags|=64,d&&(t.flags|=8192),d=s.callbacks,d===null?s.callbacks=[c]:d.push(c))}else d={lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=d,o=f):h=h.next=d,r|=c;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);h===null&&(o=f),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=h,a===null&&(s.shared.lanes=0),Ni|=r,t.lanes=r,t.memoizedState=f}}function P_(t,e){if(typeof t!="function")throw Error(x(191,t));t.call(e)}function V_(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)P_(n[t],e)}var ia=hn(null),bo=hn(0);function _p(t,e){t=jn,ve(bo,t),ve(ia,e),jn=t|e.baseLanes}function Sf(){ve(bo,jn),ve(ia,ia.current)}function Fh(){jn=bo.current,Ke(ia),Ke(bo)}var Rt=hn(null),Pt=null;function Jn(t){var e=t.alternate;ve(ke,ke.current&1),ve(Rt,t),Pt===null&&(e===null||ia.current!==null||e.memoizedState!==null)&&(Pt=t)}function Ef(t){ve(ke,ke.current),ve(Rt,t),Pt===null&&(Pt=t)}function q_(t){t.tag===22?(ve(ke,ke.current),ve(Rt,t),Pt===null&&(Pt=t)):ei()}function ei(){ve(ke,ke.current),ve(Rt,Rt.current)}function St(t){Ke(Rt),Pt===t&&(Pt=null),Ke(ke)}var ke=hn(0);function So(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Pf(n)||Vf(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Un=0,K=null,he=null,Ue=null,Eo=!1,Fs=!1,ss=!1,Co=0,xr=0,Ys=null,dC=0;function Re(){throw Error(x(321))}function Yh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xt(t[n],e[n]))return!1;return!0}function Qh(t,e,n,i,s,a){return Un=a,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,q.H=t===null||t.memoizedState===null?bv:sd,ss=!1,a=n(i,s),ss=!1,Fs&&(a=F_(e,n,i,s)),G_(t),a}function G_(t){q.H=Rr;var e=he!==null&&he.next!==null;if(Un=0,Ue=he=K=null,Eo=!1,xr=0,Ys=null,e)throw Error(x(300));t===null||je||(t=t.dependencies,t!==null&&_o(t)&&(je=!0))}function F_(t,e,n,i){K=t;var s=0;do{if(Fs&&(Ys=null),xr=0,Fs=!1,25<=s)throw Error(x(301));if(s+=1,Ue=he=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}q.H=Sv,a=e(n,i)}while(Fs);return a}function mC(){var t=q.H,e=t.useState()[0];return e=typeof e.then=="function"?tl(e):e,t=t.useState()[0],(he!==null?he.memoizedState:null)!==t&&(K.flags|=1024),e}function Kh(){var t=Co!==0;return Co=0,t}function Xh(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Wh(t){if(Eo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Eo=!1}Un=0,Ue=he=K=null,Fs=!1,xr=Co=0,Ys=null}function at(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?K.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Le(){if(he===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=Ue===null?K.memoizedState:Ue.next;if(e!==null)Ue=e,he=t;else{if(t===null)throw K.alternate===null?Error(x(467)):Error(x(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ue===null?K.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var e=xr;return xr+=1,Ys===null&&(Ys=[]),t=B_(Ys,t,e),e=K,(Ue===null?e.memoizedState:Ue.next)===null&&(e=e.alternate,q.H=e===null||e.memoizedState===null?bv:sd),t}function Cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===Tn)return et(t)}throw Error(x(438,String(t)))}function $h(t){var e=null,n=K.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=K.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Eu(),K.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=JE;return e.index++,n}function zn(t,e){return typeof e=="function"?e(t):e}function Yl(t){var e=Le();return Zh(e,he,t)}function Zh(t,e,n){var i=t.queue;if(i===null)throw Error(x(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}e.baseQueue=s=a,i.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var l=r=null,o=null,u=e,h=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(te&f)===f:(Un&f)===f){var c=u.revertLane;if(c===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===na&&(h=!0);else if((Un&c)===c){u=u.next,c===na&&(h=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=f,r=a):o=o.next=f,K.lanes|=c,Ni|=c;f=u.action,ss&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else c={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=c,r=a):o=o.next=c,K.lanes|=f,Ni|=f;u=u.next}while(u!==null&&u!==e);if(o===null?r=a:o.next=l,!xt(a,t.memoizedState)&&(je=!0,h&&(n=qs,n!==null)))throw n;t.memoizedState=a,t.baseState=r,t.baseQueue=o,i.lastRenderedState=a}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function dc(t){var e=Le(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do a=t(a,r.action),r=r.next;while(r!==s);xt(a,e.memoizedState)||(je=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Y_(t,e,n){var i=K,s=Le(),a=ne;if(a){if(n===void 0)throw Error(x(407));n=n()}else n=e();var r=!xt((he||s).memoizedState,n);if(r&&(s.memoizedState=n,je=!0),s=s.queue,Jh(X_.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||Ue!==null&&Ue.memoizedState.tag&1){if(i.flags|=2048,sa(9,{destroy:void 0},K_.bind(null,i,s,n,e),null),pe===null)throw Error(x(349));a||Un&127||Q_(i,e,n)}return n}function Q_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=K.updateQueue,e===null?(e=Eu(),K.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K_(t,e,n,i){e.value=n,e.getSnapshot=i,W_(e)&&$_(t)}function X_(t,e,n){return n(function(){W_(e)&&$_(t)})}function W_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xt(t,n)}catch{return!0}}function $_(t){var e=ps(t,2);e!==null&&gt(e,t,2)}function Cf(t){var e=at();if(typeof t=="function"){var n=t;if(t=n(),ss){ai(!0);try{n()}finally{ai(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},e}function Z_(t,e,n,i){return t.baseState=n,Zh(t,he,typeof i=="function"?i:zn)}function pC(t,e,n,i,s){if(wu(t))throw Error(x(485));if(t=e.action,t!==null){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};q.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,J_(e,a)):(a.next=n.next,e.pending=n.next=a)}}function J_(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var a=q.T,r={};q.T=r;try{var l=n(s,i),o=q.S;o!==null&&o(r,l),vp(t,e,l)}catch(u){Tf(t,e,u)}finally{a!==null&&r.types!==null&&(a.types=r.types),q.T=a}}else try{a=n(s,i),vp(t,e,a)}catch(u){Tf(t,e,u)}}function vp(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){bp(t,e,i)},function(i){return Tf(t,e,i)}):bp(t,e,n)}function bp(t,e,n){e.status="fulfilled",e.value=n,ev(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,J_(t,n)))}function Tf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,ev(e),e=e.next;while(e!==i)}t.action=null}function ev(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function tv(t,e){return e}function Sp(t,e){if(ne){var n=pe.formState;if(n!==null){e:{var i=K;if(ne){if(Ee){t:{for(var s=Ee,a=jt;s.nodeType!==8;){if(!a){s=null;break t}if(s=Vt(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){Ee=Vt(s.nextSibling),i=s.data==="F!";break e}}wi(i)}i=!1}i&&(e=n[0])}}return n=at(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tv,lastRenderedState:e},n.queue=i,n=yv.bind(null,K,i),i.dispatch=n,i=Cf(!1),a=id.bind(null,K,!1,i.queue),i=at(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=pC.bind(null,K,s,a,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function Ep(t){var e=Le();return nv(e,he,t)}function nv(t,e,n){if(e=Zh(t,e,tv)[0],t=Yl(zn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=tl(e)}catch(r){throw r===Sa?Su:r}else i=e;e=Le();var s=e.queue,a=s.dispatch;return n!==e.memoizedState&&(K.flags|=2048,sa(9,{destroy:void 0},gC.bind(null,s,n),null)),[i,a,t]}function gC(t,e){t.action=e}function Cp(t){var e=Le(),n=he;if(n!==null)return nv(e,n,t);Le(),e=e.memoizedState,n=Le();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function sa(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=K.updateQueue,e===null&&(e=Eu(),K.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function iv(){return Le().memoizedState}function Ql(t,e,n,i){var s=at();K.flags|=t,s.memoizedState=sa(1|e,{destroy:void 0},n,i===void 0?null:i)}function Tu(t,e,n,i){var s=Le();i=i===void 0?null:i;var a=s.memoizedState.inst;he!==null&&i!==null&&Yh(i,he.memoizedState.deps)?s.memoizedState=sa(e,a,n,i):(K.flags|=t,s.memoizedState=sa(1|e,a,n,i))}function Tp(t,e){Ql(8390656,8,t,e)}function Jh(t,e){Tu(2048,8,t,e)}function yC(t){K.flags|=4;var e=K.updateQueue;if(e===null)e=Eu(),K.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function sv(t){var e=Le().memoizedState;return yC({ref:e,nextImpl:t}),function(){if(re&2)throw Error(x(440));return e.impl.apply(void 0,arguments)}}function av(t,e){return Tu(4,2,t,e)}function rv(t,e){return Tu(4,4,t,e)}function lv(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ov(t,e,n){n=n!=null?n.concat([t]):null,Tu(4,4,lv.bind(null,e,t),n)}function ed(){}function uv(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Yh(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function cv(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Yh(e,i[1]))return i[0];if(i=t(),ss){ai(!0);try{t()}finally{ai(!1)}}return n.memoizedState=[i,e],i}function td(t,e,n){return n===void 0||Un&1073741824&&!(te&261930)?t.memoizedState=e:(t.memoizedState=n,t=Zv(),K.lanes|=t,Ni|=t,n)}function fv(t,e,n,i){return xt(n,e)?n:ia.current!==null?(t=td(t,n,i),xt(t,e)||(je=!0),t):!(Un&42)||Un&1073741824&&!(te&261930)?(je=!0,t.memoizedState=n):(t=Zv(),K.lanes|=t,Ni|=t,e)}function hv(t,e,n,i,s){var a=le.p;le.p=a!==0&&8>a?a:8;var r=q.T,l={};q.T=l,id(t,!1,e,n);try{var o=s(),u=q.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=hC(o,i);lr(t,e,h,Nt(t))}else lr(t,e,i,Nt(t))}catch(f){lr(t,e,{then:function(){},status:"rejected",reason:f},Nt())}finally{le.p=a,r!==null&&l.types!==null&&(r.types=l.types),q.T=r}}function _C(){}function wf(t,e,n,i){if(t.tag!==5)throw Error(x(476));var s=dv(t).queue;hv(t,s,e,Ki,n===null?_C:function(){return mv(t),n(i)})}function dv(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ki,baseState:Ki,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:Ki},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function mv(t){var e=dv(t);e.next===null&&(e=t.alternate.memoizedState),lr(t,e.next.queue,{},Nt())}function nd(){return et(Dr)}function pv(){return Le().memoizedState}function gv(){return Le().memoizedState}function vC(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Nt();t=hi(n);var i=di(e,t,n);i!==null&&(gt(i,e,n),sr(i,e,n)),e={cache:Ph()},t.payload=e;return}e=e.return}}function bC(t,e,n){var i=Nt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},wu(t)?_v(e,n):(n=zh(t,e,n,i),n!==null&&(gt(n,t,i),vv(n,e,i)))}function yv(t,e,n){var i=Nt();lr(t,e,n,i)}function lr(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(wu(t))_v(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,l=a(r,n);if(s.hasEagerState=!0,s.eagerState=l,xt(l,r))return bu(t,e,s,0),pe===null&&vu(),!1}catch{}finally{}if(n=zh(t,e,s,i),n!==null)return gt(n,t,i),vv(n,e,i),!0}return!1}function id(t,e,n,i){if(i={lane:2,revertLane:hd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},wu(t)){if(e)throw Error(x(479))}else e=zh(t,n,i,2),e!==null&&gt(e,t,2)}function wu(t){var e=t.alternate;return t===K||e!==null&&e===K}function _v(t,e){Fs=Eo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vv(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,s_(t,n)}}var Rr={readContext:et,use:Cu,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re};Rr.useEffectEvent=Re;var bv={readContext:et,use:Cu,useCallback:function(t,e){return at().memoizedState=[t,e===void 0?null:e],t},useContext:et,useEffect:Tp,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ql(4194308,4,lv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ql(4194308,4,t,e)},useInsertionEffect:function(t,e){Ql(4,2,t,e)},useMemo:function(t,e){var n=at();e=e===void 0?null:e;var i=t();if(ss){ai(!0);try{t()}finally{ai(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=at();if(n!==void 0){var s=n(e);if(ss){ai(!0);try{n(e)}finally{ai(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=bC.bind(null,K,t),[i.memoizedState,t]},useRef:function(t){var e=at();return t={current:t},e.memoizedState=t},useState:function(t){t=Cf(t);var e=t.queue,n=yv.bind(null,K,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ed,useDeferredValue:function(t,e){var n=at();return td(n,t,e)},useTransition:function(){var t=Cf(!1);return t=hv.bind(null,K,t.queue,!0,!1),at().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=K,s=at();if(ne){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),pe===null)throw Error(x(349));te&127||Q_(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,Tp(X_.bind(null,i,a,t),[t]),i.flags|=2048,sa(9,{destroy:void 0},K_.bind(null,i,a,n,e),null),n},useId:function(){var t=at(),e=pe.identifierPrefix;if(ne){var n=rn,i=an;n=(i&~(1<<32-At(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Co++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=dC++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:nd,useFormState:Sp,useActionState:Sp,useOptimistic:function(t){var e=at();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=id.bind(null,K,!0,n),n.dispatch=e,[t,e]},useMemoCache:$h,useCacheRefresh:function(){return at().memoizedState=vC.bind(null,K)},useEffectEvent:function(t){var e=at(),n={impl:t};return e.memoizedState=n,function(){if(re&2)throw Error(x(440));return n.impl.apply(void 0,arguments)}}},sd={readContext:et,use:Cu,useCallback:uv,useContext:et,useEffect:Jh,useImperativeHandle:ov,useInsertionEffect:av,useLayoutEffect:rv,useMemo:cv,useReducer:Yl,useRef:iv,useState:function(){return Yl(zn)},useDebugValue:ed,useDeferredValue:function(t,e){var n=Le();return fv(n,he.memoizedState,t,e)},useTransition:function(){var t=Yl(zn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:tl(t),e]},useSyncExternalStore:Y_,useId:pv,useHostTransitionStatus:nd,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,e){var n=Le();return Z_(n,he,t,e)},useMemoCache:$h,useCacheRefresh:gv};sd.useEffectEvent=sv;var Sv={readContext:et,use:Cu,useCallback:uv,useContext:et,useEffect:Jh,useImperativeHandle:ov,useInsertionEffect:av,useLayoutEffect:rv,useMemo:cv,useReducer:dc,useRef:iv,useState:function(){return dc(zn)},useDebugValue:ed,useDeferredValue:function(t,e){var n=Le();return he===null?td(n,t,e):fv(n,he.memoizedState,t,e)},useTransition:function(){var t=dc(zn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:tl(t),e]},useSyncExternalStore:Y_,useId:pv,useHostTransitionStatus:nd,useFormState:Cp,useActionState:Cp,useOptimistic:function(t,e){var n=Le();return he!==null?Z_(n,he,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:$h,useCacheRefresh:gv};Sv.useEffectEvent=sv;function mc(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Af={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Nt(),s=hi(i);s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&(gt(e,t,i),sr(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Nt(),s=hi(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&(gt(e,t,i),sr(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),i=hi(n);i.tag=2,e!=null&&(i.callback=e),e=di(t,i,n),e!==null&&(gt(e,t,n),sr(e,t,n))}};function wp(t,e,n,i,s,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,r):e.prototype&&e.prototype.isPureReactComponent?!Tr(n,i)||!Tr(s,a):!0}function Ap(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Af.enqueueReplaceState(e,e.state,null)}function as(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Te({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function Ev(t){po(t)}function Cv(t){console.error(t)}function Tv(t){po(t)}function To(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Np(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Nf(t,e,n){return n=hi(n),n.tag=3,n.payload={element:null},n.callback=function(){To(t,e)},n}function wv(t){return t=hi(t),t.tag=3,t}function Av(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){Np(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){Np(e,n,i),typeof s!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function SC(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&ba(e,n,s,!0),n=Rt.current,n!==null){switch(n.tag){case 31:case 13:return Pt===null?Ro():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===vo?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),wc(t,i,s)),!1;case 22:return n.flags|=65536,i===vo?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),wc(t,i,s)),!1}throw Error(x(435,n.tag))}return wc(t,i,s),Ro(),!1}if(ne)return e=Rt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==mf&&(t=Error(x(422),{cause:i}),Ar(Bt(t,n)))):(i!==mf&&(e=Error(x(423),{cause:i}),Ar(Bt(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=Bt(i,n),s=Nf(t.stateNode,i,s),hc(t,s),Me!==4&&(Me=2)),!1;var a=Error(x(520),{cause:i});if(a=Bt(a,n),cr===null?cr=[a]:cr.push(a),Me!==4&&(Me=2),e===null)return!0;i=Bt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Nf(n.stateNode,i,t),hc(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(mi===null||!mi.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=wv(s),Av(s,t,n,i),hc(n,s),!1}n=n.return}while(n!==null);return!1}var ad=Error(x(461)),je=!1;function We(t,e,n,i){e.child=t===null?H_(e,null,n,i):is(e,t.child,n,i)}function xp(t,e,n,i,s){n=n.render;var a=e.ref;if("ref"in i){var r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}else r=i;return ns(e),i=Qh(t,e,n,r,a,s),l=Kh(),t!==null&&!je?(Xh(t,e,s),Bn(t,e,s)):(ne&&l&&jh(e),e.flags|=1,We(t,e,i,s),e.child)}function Rp(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!Bh(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,Nv(t,e,a,i,s)):(t=Gl(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!rd(t,s)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(r,i)&&t.ref===e.ref)return Bn(t,e,s)}return e.flags|=1,t=Mn(a,i),t.ref=e.ref,t.return=e,e.child=t}function Nv(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(Tr(a,i)&&t.ref===e.ref)if(je=!1,e.pendingProps=i=a,rd(t,s))t.flags&131072&&(je=!0);else return e.lanes=t.lanes,Bn(t,e,s)}return xf(t,e,n,i,s)}function xv(t,e,n,i){var s=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,e.child=null;return Mp(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fl(e,a!==null?a.cachePool:null),a!==null?_p(e,a):Sf(),q_(e);else return i=e.lanes=536870912,Mp(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(Fl(e,a.cachePool),_p(e,a),ei(),e.memoizedState=null):(t!==null&&Fl(e,null),Sf(),ei());return We(t,e,s,n),e.child}function $a(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Mp(t,e,n,i,s){var a=Vh();return a=a===null?null:{parent:Be._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Fl(e,null),Sf(),q_(e),t!==null&&ba(t,e,i,!0),e.childLanes=s,null}function Kl(t,e){return e=wo({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Op(t,e,n){return is(e,t.child,null,n),t=Kl(e,e.pendingProps),t.flags|=2,St(e),e.memoizedState=null,t}function EC(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ne){if(i.mode==="hidden")return t=Kl(e,i),e.lanes=536870912,$a(null,t);if(Ef(e),(t=Ee)?(t=b0(t,jt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ti!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=I_(t),n.return=e,e.child=n,Je=e,Ee=null)):t=null,t===null)throw wi(e);return e.lanes=536870912,null}return Kl(e,i)}var a=t.memoizedState;if(a!==null){var r=a.dehydrated;if(Ef(e),s)if(e.flags&256)e.flags&=-257,e=Op(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(x(558));else if(je||ba(t,e,n,!1),s=(n&t.childLanes)!==0,je||s){if(i=pe,i!==null&&(r=a_(i,n),r!==0&&r!==a.retryLane))throw a.retryLane=r,ps(t,r),gt(i,t,r),ad;Ro(),e=Op(t,e,n)}else t=a.treeContext,Ee=Vt(r.nextSibling),Je=e,ne=!0,fi=null,jt=!1,t!==null&&L_(e,t),e=Kl(e,i),e.flags|=4096;return e}return t=Mn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Xl(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(x(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function xf(t,e,n,i,s){return ns(e),n=Qh(t,e,n,i,void 0,s),i=Kh(),t!==null&&!je?(Xh(t,e,s),Bn(t,e,s)):(ne&&i&&jh(e),e.flags|=1,We(t,e,n,s),e.child)}function Dp(t,e,n,i,s,a){return ns(e),e.updateQueue=null,n=F_(e,i,n,s),G_(t),i=Kh(),t!==null&&!je?(Xh(t,e,a),Bn(t,e,a)):(ne&&i&&jh(e),e.flags|=1,We(t,e,n,a),e.child)}function Ip(t,e,n,i,s){if(ns(e),e.stateNode===null){var a=Ls,r=n.contextType;typeof r=="object"&&r!==null&&(a=et(r)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Af,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},Gh(e),r=n.contextType,a.context=typeof r=="object"&&r!==null?et(r):Ls,a.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(mc(e,n,r,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&Af.enqueueReplaceState(a,a.state,null),rr(e,i,a,s),ar(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,o=as(n,l);a.props=o;var u=a.context,h=n.contextType;r=Ls,typeof h=="object"&&h!==null&&(r=et(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==r)&&Ap(e,a,i,r),$n=!1;var c=e.memoizedState;a.state=c,rr(e,i,a,s),ar(),u=e.memoizedState,l||c!==u||$n?(typeof f=="function"&&(mc(e,n,f,i),u=e.memoizedState),(o=$n||wp(e,n,o,i,c,u,r))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=r,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,vf(t,e),r=e.memoizedProps,h=as(n,r),a.props=h,f=e.pendingProps,c=a.context,u=n.contextType,o=Ls,typeof u=="object"&&u!==null&&(o=et(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||c!==o)&&Ap(e,a,i,o),$n=!1,c=e.memoizedState,a.state=c,rr(e,i,a,s),ar();var d=e.memoizedState;r!==f||c!==d||$n||t!==null&&t.dependencies!==null&&_o(t.dependencies)?(typeof l=="function"&&(mc(e,n,l,i),d=e.memoizedState),(h=$n||wp(e,n,h,i,c,d,o)||t!==null&&t.dependencies!==null&&_o(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,d,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,d,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=d),a.props=i,a.state=d,a.context=o,i=h):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,Xl(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=is(e,t.child,null,s),e.child=is(e,null,n,s)):We(t,e,n,s),e.memoizedState=a.state,t=e.child):t=Bn(t,e,s),t}function kp(t,e,n,i){return ts(),e.flags|=256,We(t,e,n,i),e.child}var pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(t){return{baseLanes:t,cachePool:z_()}}function yc(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ct),t}function Rv(t,e,n){var i=e.pendingProps,s=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=t!==null&&t.memoizedState===null?!1:(ke.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(ne){if(s?Jn(e):ei(),(t=Ee)?(t=b0(t,jt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ti!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=I_(t),n.return=e,e.child=n,Je=e,Ee=null)):t=null,t===null)throw wi(e);return Vf(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(ei(),s=e.mode,l=wo({mode:"hidden",children:l},s),i=Xi(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=gc(n),i.childLanes=yc(t,r,n),e.memoizedState=pc,$a(null,i)):(Jn(e),Rf(e,l))}var o=t.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(a)e.flags&256?(Jn(e),e.flags&=-257,e=_c(t,e,n)):e.memoizedState!==null?(ei(),e.child=t.child,e.flags|=128,e=null):(ei(),l=i.fallback,s=e.mode,i=wo({mode:"visible",children:i.children},s),l=Xi(l,s,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,is(e,t.child,null,n),i=e.child,i.memoizedState=gc(n),i.childLanes=yc(t,r,n),e.memoizedState=pc,e=$a(null,i));else if(Jn(e),Vf(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,i=Error(x(419)),i.stack="",i.digest=r,Ar({value:i,source:null,stack:null}),e=_c(t,e,n)}else if(je||ba(t,e,n,!1),r=(n&t.childLanes)!==0,je||r){if(r=pe,r!==null&&(i=a_(r,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,ps(t,i),gt(r,t,i),ad;Pf(l)||Ro(),e=_c(t,e,n)}else Pf(l)?(e.flags|=192,e.child=t.child,e=null):(t=o.treeContext,Ee=Vt(l.nextSibling),Je=e,ne=!0,fi=null,jt=!1,t!==null&&L_(e,t),e=Rf(e,i.children),e.flags|=4096);return e}return s?(ei(),l=i.fallback,s=e.mode,o=t.child,u=o.sibling,i=Mn(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=Mn(u,l):(l=Xi(l,s,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,$a(null,i),i=e.child,l=t.child.memoizedState,l===null?l=gc(n):(s=l.cachePool,s!==null?(o=Be._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=z_(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=yc(t,r,n),e.memoizedState=pc,$a(t.child,i)):(Jn(e),n=t.child,t=n.sibling,n=Mn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Rf(t,e){return e=wo({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function wo(t,e){return t=Et(22,t,null,e),t.lanes=0,t}function _c(t,e,n){return is(e,t.child,null,n),t=Rf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lp(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),gf(t.return,e,n)}function vc(t,e,n,i,s,a){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s,r.treeForkCount=a)}function Mv(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var r=ke.current,l=(r&2)!==0;if(l?(r=r&1|2,e.flags|=128):r&=1,ve(ke,r),We(t,e,i,n),i=ne?wr:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lp(t,n,e);else if(t.tag===19)Lp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&So(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vc(e,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&So(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vc(e,!0,n,null,a,i);break;case"together":vc(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ni|=e.lanes,!(n&e.childLanes))if(t!==null){if(ba(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rd(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&_o(t)))}function CC(t,e,n){switch(e.tag){case 3:co(e,e.stateNode.containerInfo),Zn(e,Be,t.memoizedState.cache),ts();break;case 27:case 5:nf(e);break;case 4:co(e,e.stateNode.containerInfo);break;case 10:Zn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Ef(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Jn(e),e.flags|=128,null):n&e.child.childLanes?Rv(t,e,n):(Jn(e),t=Bn(t,e,n),t!==null?t.sibling:null);Jn(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(ba(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return Mv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(ke,ke.current),i)break;return null;case 22:return e.lanes=0,xv(t,e,n,e.pendingProps);case 24:Zn(e,Be,t.memoizedState.cache)}return Bn(t,e,n)}function Ov(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)je=!0;else{if(!rd(t,n)&&!(e.flags&128))return je=!1,CC(t,e,n);je=!!(t.flags&131072)}else je=!1,ne&&e.flags&1048576&&k_(e,wr,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Hi(e.elementType),e.type=t,typeof t=="function")Bh(t)?(i=as(t,i),e.tag=1,e=Ip(null,e,t,i,n)):(e.tag=0,e=xf(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===Th){e.tag=11,e=xp(null,e,t,i,n);break e}else if(s===wh){e.tag=14,e=Rp(null,e,t,i,n);break e}}throw e=ef(t)||t,Error(x(306,e,""))}}return e;case 0:return xf(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=as(i,e.pendingProps),Ip(t,e,i,s,n);case 3:e:{if(co(e,e.stateNode.containerInfo),t===null)throw Error(x(387));i=e.pendingProps;var a=e.memoizedState;s=a.element,vf(t,e),rr(e,i,null,n);var r=e.memoizedState;if(i=r.cache,Zn(e,Be,i),i!==a.cache&&yf(e,[Be],n,!0),ar(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=kp(t,e,i,n);break e}else if(i!==s){s=Bt(Error(x(424)),e),Ar(s),e=kp(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ee=Vt(t.firstChild),Je=e,ne=!0,fi=null,jt=!0,n=H_(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ts(),i===s){e=Bn(t,e,n);break e}We(t,e,i,n)}e=e.child}return e;case 26:return Xl(t,e),t===null?(n=tg(e.type,null,e.pendingProps,null))?e.memoizedState=n:ne||(n=e.type,t=e.pendingProps,i=Io(ci.current).createElement(n),i[Ze]=e,i[_t]=t,tt(i,n,t),Ye(i),e.stateNode=i):e.memoizedState=tg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return nf(e),t===null&&ne&&(i=e.stateNode=S0(e.type,e.pendingProps,ci.current),Je=e,jt=!0,s=Ee,Di(e.type)?(qf=s,Ee=Vt(i.firstChild)):Ee=s),We(t,e,e.pendingProps.children,n),Xl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ne&&((s=i=Ee)&&(i=JC(i,e.type,e.pendingProps,jt),i!==null?(e.stateNode=i,Je=e,Ee=Vt(i.firstChild),jt=!1,s=!0):s=!1),s||wi(e)),nf(e),s=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,i=a.children,jf(s,a)?i=null:r!==null&&jf(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=Qh(t,e,mC,null,null,n),Dr._currentValue=s),Xl(t,e),We(t,e,i,n),e.child;case 6:return t===null&&ne&&((t=n=Ee)&&(n=eT(n,e.pendingProps,jt),n!==null?(e.stateNode=n,Je=e,Ee=null,t=!0):t=!1),t||wi(e)),null;case 13:return Rv(t,e,n);case 4:return co(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=is(e,null,i,n):We(t,e,i,n),e.child;case 11:return xp(t,e,e.type,e.pendingProps,n);case 7:return We(t,e,e.pendingProps,n),e.child;case 8:return We(t,e,e.pendingProps.children,n),e.child;case 12:return We(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Zn(e,e.type,i.value),We(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,ns(e),s=et(s),i=i(s),e.flags|=1,We(t,e,i,n),e.child;case 14:return Rp(t,e,e.type,e.pendingProps,n);case 15:return Nv(t,e,e.type,e.pendingProps,n);case 19:return Mv(t,e,n);case 31:return EC(t,e,n);case 22:return xv(t,e,n,e.pendingProps);case 24:return ns(e),i=et(Be),t===null?(s=Vh(),s===null&&(s=pe,a=Ph(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:i,cache:s},Gh(e),Zn(e,Be,s)):(t.lanes&n&&(vf(t,e),rr(e,null,null,n),ar()),s=t.memoizedState,a=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Zn(e,Be,i)):(i=a.cache,Zn(e,Be,i),i!==s.cache&&yf(e,[Be],n,!0))),We(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(x(156,e.tag))}function yn(t){t.flags|=4}function bc(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(t0())t.flags|=8192;else throw $i=vo,qh}else t.flags&=-16777217}function Up(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!T0(e))if(t0())t.flags|=8192;else throw $i=vo,qh}function Rl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?n_():536870912,t.lanes|=e,aa|=e)}function Ba(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Se(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function TC(t,e,n){var i=e.pendingProps;switch(Hh(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(e),null;case 1:return Se(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),On(Be),Js(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ss(e)?yn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fc())),Se(e),null;case 26:var s=e.type,a=e.memoizedState;return t===null?(yn(e),a!==null?(Se(e),Up(e,a)):(Se(e),bc(e,s,null,i,n))):a?a!==t.memoizedState?(yn(e),Se(e),Up(e,a)):(Se(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&yn(e),Se(e),bc(e,s,t,i,n)),null;case 27:if(fo(e),n=ci.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&yn(e);else{if(!i){if(e.stateNode===null)throw Error(x(166));return Se(e),null}t=on.current,Ss(e)?fp(e):(t=S0(s,i,n),e.stateNode=t,yn(e))}return Se(e),null;case 5:if(fo(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&yn(e);else{if(!i){if(e.stateNode===null)throw Error(x(166));return Se(e),null}if(a=on.current,Ss(e))fp(e);else{var r=Io(ci.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}a[Ze]=e,a[_t]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(tt(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&yn(e)}}return Se(e),bc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&yn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(x(166));if(t=ci.current,Ss(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=Je,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[Ze]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||y0(t.nodeValue,n)),t||wi(e,!0)}else t=Io(t).createTextNode(i),t[Ze]=e,e.stateNode=t}return Se(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Ss(e),n!==null){if(t===null){if(!i)throw Error(x(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(557));t[Ze]=e}else ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Se(e),t=!1}else n=fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(St(e),e):(St(e),null);if(e.flags&128)throw Error(x(558))}return Se(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Ss(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(x(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[Ze]=e}else ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Se(e),s=!1}else s=fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(St(e),e):(St(e),null)}return St(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Rl(e,e.updateQueue),Se(e),null);case 4:return Js(),t===null&&dd(e.stateNode.containerInfo),Se(e),null;case 10:return On(e.type),Se(e),null;case 19:if(Ke(ke),i=e.memoizedState,i===null)return Se(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)Ba(i,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=So(t),a!==null){for(e.flags|=128,Ba(i,!1),t=a.updateQueue,e.updateQueue=t,Rl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)D_(n,t),n=n.sibling;return ve(ke,ke.current&1|2),ne&&Sn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Tt()>No&&(e.flags|=128,s=!0,Ba(i,!1),e.lanes=4194304)}else{if(!s)if(t=So(a),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Rl(e,t),Ba(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ne)return Se(e),null}else 2*Tt()-i.renderingStartTime>No&&n!==536870912&&(e.flags|=128,s=!0,Ba(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tt(),t.sibling=null,n=ke.current,ve(ke,s?n&1|2:n&1),ne&&Sn(e,i.treeForkCount),t):(Se(e),null);case 22:case 23:return St(e),Fh(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Se(e),e.subtreeFlags&6&&(e.flags|=8192)):Se(e),n=e.updateQueue,n!==null&&Rl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ke(Wi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),On(Be),Se(e),null;case 25:return null;case 30:return null}throw Error(x(156,e.tag))}function wC(t,e){switch(Hh(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return On(Be),Js(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return fo(e),null;case 31:if(e.memoizedState!==null){if(St(e),e.alternate===null)throw Error(x(340));ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(St(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(ke),null;case 4:return Js(),null;case 10:return On(e.type),null;case 22:case 23:return St(e),Fh(),t!==null&&Ke(Wi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return On(Be),null;case 25:return null;default:return null}}function Dv(t,e){switch(Hh(e),e.tag){case 3:On(Be),Js();break;case 26:case 27:case 5:fo(e);break;case 4:Js();break;case 31:e.memoizedState!==null&&St(e);break;case 13:St(e);break;case 19:Ke(ke);break;case 10:On(e.type);break;case 22:case 23:St(e),Fh(),t!==null&&Ke(Wi);break;case 24:On(Be)}}function nl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create,r=n.inst;i=a(),r.destroy=i}n=n.next}while(n!==s)}}catch(l){ue(e,e.return,l)}}function Ai(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&t)===t){var r=i.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=e;var o=n,u=l;try{u()}catch(h){ue(s,o,h)}}}i=i.next}while(i!==a)}}catch(h){ue(e,e.return,h)}}function Iv(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{V_(e,n)}catch(i){ue(t,t.return,i)}}}function kv(t,e,n){n.props=as(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){ue(t,e,i)}}function or(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){ue(t,e,s)}}function ln(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){ue(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){ue(t,e,s)}else n.current=null}function Lv(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){ue(t,t.return,s)}}function Sc(t,e,n){try{var i=t.stateNode;QC(i,t.type,n,e),i[_t]=e}catch(s){ue(t,t.return,s)}}function Uv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Di(t.type)||t.tag===4}function Ec(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Di(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wn));else if(i!==4&&(i===27&&Di(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Mf(t,e,n),t=t.sibling;t!==null;)Mf(t,e,n),t=t.sibling}function Ao(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Di(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ao(t,e,n),t=t.sibling;t!==null;)Ao(t,e,n),t=t.sibling}function zv(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);tt(e,i,n),e[Ze]=t,e[_t]=n}catch(a){ue(t,t.return,a)}}var En=!1,ze=!1,Cc=!1,zp=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function AC(t,e){if(t=t.containerInfo,zf=zo,t=T_(t),Lh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,u=0,h=0,f=t,c=null;t:for(;;){for(var d;f!==n||s!==0&&f.nodeType!==3||(l=r+s),f!==a||i!==0&&f.nodeType!==3||(o=r+i),f.nodeType===3&&(r+=f.nodeValue.length),(d=f.firstChild)!==null;)c=f,f=d;for(;;){if(f===t)break t;if(c===n&&++u===s&&(l=r),c===a&&++h===i&&(o=r),(d=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=d}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bf={focusedElem:t,selectionRange:n},zo=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){switch(e=Ge,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var g=as(n.type,s);t=i.getSnapshotBeforeUpdate(g,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(C){ue(n,n.return,C)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Hf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(x(163))}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function Bv(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:vn(t,n),i&4&&nl(5,n);break;case 1:if(vn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){ue(n,n.return,r)}else{var s=as(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){ue(n,n.return,r)}}i&64&&Iv(n),i&512&&or(n,n.return);break;case 3:if(vn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{V_(t,e)}catch(r){ue(n,n.return,r)}}break;case 27:e===null&&i&4&&zv(n);case 26:case 5:vn(t,n),e===null&&i&4&&Lv(n),i&512&&or(n,n.return);break;case 12:vn(t,n);break;case 31:vn(t,n),i&4&&Pv(t,n);break;case 13:vn(t,n),i&4&&Vv(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=LC.bind(null,n),tT(t,n))));break;case 22:if(i=n.memoizedState!==null||En,!i){e=e!==null&&e.memoizedState!==null||ze,s=En;var a=ze;En=i,(ze=e)&&!a?bn(t,n,(n.subtreeFlags&8772)!==0):vn(t,n),En=s,ze=a}break;case 30:break;default:vn(t,n)}}function jv(t){var e=t.alternate;e!==null&&(t.alternate=null,jv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Rh(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var we=null,dt=!1;function _n(t,e,n){for(n=n.child;n!==null;)Hv(t,e,n),n=n.sibling}function Hv(t,e,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Xr,n)}catch{}switch(n.tag){case 26:ze||ln(n,e),_n(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ze||ln(n,e);var i=we,s=dt;Di(n.type)&&(we=n.stateNode,dt=!1),_n(t,e,n),hr(n.stateNode),we=i,dt=s;break;case 5:ze||ln(n,e);case 6:if(i=we,s=dt,we=null,_n(t,e,n),we=i,dt=s,we!==null)if(dt)try{(we.nodeType===9?we.body:we.nodeName==="HTML"?we.ownerDocument.body:we).removeChild(n.stateNode)}catch(a){ue(n,e,a)}else try{we.removeChild(n.stateNode)}catch(a){ue(n,e,a)}break;case 18:we!==null&&(dt?(t=we,Wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ua(t)):Wp(we,n.stateNode));break;case 4:i=we,s=dt,we=n.stateNode.containerInfo,dt=!0,_n(t,e,n),we=i,dt=s;break;case 0:case 11:case 14:case 15:Ai(2,n,e),ze||Ai(4,n,e),_n(t,e,n);break;case 1:ze||(ln(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&kv(n,e,i)),_n(t,e,n);break;case 21:_n(t,e,n);break;case 22:ze=(i=ze)||n.memoizedState!==null,_n(t,e,n),ze=i;break;default:_n(t,e,n)}}function Pv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ua(t)}catch(n){ue(e,e.return,n)}}}function Vv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ua(t)}catch(n){ue(e,e.return,n)}}function NC(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new zp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new zp),e;default:throw Error(x(435,t.tag))}}function Ml(t,e){var n=NC(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=UC.bind(null,t,i);i.then(s,s)}})}function ft(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=t,r=e,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(Di(l.type)){we=l.stateNode,dt=!1;break e}break;case 5:we=l.stateNode,dt=!1;break e;case 3:case 4:we=l.stateNode.containerInfo,dt=!0;break e}l=l.return}if(we===null)throw Error(x(160));Hv(a,r,s),we=null,dt=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)qv(e,t),e=e.sibling}var Kt=null;function qv(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ft(e,t),ht(t),i&4&&(Ai(3,t,t.return),nl(3,t),Ai(5,t,t.return));break;case 1:ft(e,t),ht(t),i&512&&(ze||n===null||ln(n,n.return)),i&64&&En&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Kt;if(ft(e,t),ht(t),i&512&&(ze||n===null||ln(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[Zr]||a[Ze]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),tt(a,i,n),a[Ze]=t,Ye(a),i=a;break e;case"link":var r=ig("link","href",s).get(i+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}a=s.createElement(i),tt(a,i,n),s.head.appendChild(a);break;case"meta":if(r=ig("meta","content",s).get(i+(n.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}a=s.createElement(i),tt(a,i,n),s.head.appendChild(a);break;default:throw Error(x(468,i))}a[Ze]=t,Ye(a),i=a}t.stateNode=i}else sg(s,t.type,t.stateNode);else t.stateNode=ng(s,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?sg(s,t.type,t.stateNode):ng(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Sc(t,t.memoizedProps,n.memoizedProps)}break;case 27:ft(e,t),ht(t),i&512&&(ze||n===null||ln(n,n.return)),n!==null&&i&4&&Sc(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ft(e,t),ht(t),i&512&&(ze||n===null||ln(n,n.return)),t.flags&32){s=t.stateNode;try{ta(s,"")}catch(g){ue(t,t.return,g)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,Sc(t,s,n!==null?n.memoizedProps:s)),i&1024&&(Cc=!0);break;case 6:if(ft(e,t),ht(t),i&4){if(t.stateNode===null)throw Error(x(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(g){ue(t,t.return,g)}}break;case 3:if(Zl=null,s=Kt,Kt=ko(e.containerInfo),ft(e,t),Kt=s,ht(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(e.containerInfo)}catch(g){ue(t,t.return,g)}Cc&&(Cc=!1,Gv(t));break;case 4:i=Kt,Kt=ko(t.stateNode.containerInfo),ft(e,t),ht(t),Kt=i;break;case 12:ft(e,t),ht(t);break;case 31:ft(e,t),ht(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ml(t,i)));break;case 13:ft(e,t),ht(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Au=Tt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ml(t,i)));break;case 22:s=t.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=En,h=ze;if(En=u||s,ze=h||o,ft(e,t),ze=h,En=u,ht(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||o||En||ze||Pi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){o=n=e;try{if(a=o.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,c=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=c==null||typeof c=="boolean"?"":(""+c).trim()}}catch(g){ue(o,o.return,g)}}}else if(e.tag===6){if(n===null){o=e;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(g){ue(o,o.return,g)}}}else if(e.tag===18){if(n===null){o=e;try{var d=o.stateNode;s?$p(d,!0):$p(o.stateNode,!1)}catch(g){ue(o,o.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ml(t,n))));break;case 19:ft(e,t),ht(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ml(t,i)));break;case 30:break;case 21:break;default:ft(e,t),ht(t)}}function ht(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Uv(i)){n=i;break}i=i.return}if(n==null)throw Error(x(160));switch(n.tag){case 27:var s=n.stateNode,a=Ec(t);Ao(t,a,s);break;case 5:var r=n.stateNode;n.flags&32&&(ta(r,""),n.flags&=-33);var l=Ec(t);Ao(t,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,u=Ec(t);Mf(t,u,o);break;default:throw Error(x(161))}}catch(h){ue(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Gv(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function vn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Bv(t,e.alternate,e),e=e.sibling}function Pi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ai(4,e,e.return),Pi(e);break;case 1:ln(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&kv(e,e.return,n),Pi(e);break;case 27:hr(e.stateNode);case 26:case 5:ln(e,e.return),Pi(e);break;case 22:e.memoizedState===null&&Pi(e);break;case 30:Pi(e);break;default:Pi(e)}t=t.sibling}}function bn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:bn(s,a,n),nl(4,a);break;case 1:if(bn(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){ue(i,i.return,u)}if(i=a,s=i.updateQueue,s!==null){var l=i.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)P_(o[s],l)}catch(u){ue(i,i.return,u)}}n&&r&64&&Iv(a),or(a,a.return);break;case 27:zv(a);case 26:case 5:bn(s,a,n),n&&i===null&&r&4&&Lv(a),or(a,a.return);break;case 12:bn(s,a,n);break;case 31:bn(s,a,n),n&&r&4&&Pv(s,a);break;case 13:bn(s,a,n),n&&r&4&&Vv(s,a);break;case 22:a.memoizedState===null&&bn(s,a,n),or(a,a.return);break;case 30:break;default:bn(s,a,n)}e=e.sibling}}function ld(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&el(n))}function od(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&el(t))}function Qt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fv(t,e,n,i),e=e.sibling}function Fv(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Qt(t,e,n,i),s&2048&&nl(9,e);break;case 1:Qt(t,e,n,i);break;case 3:Qt(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&el(t)));break;case 12:if(s&2048){Qt(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(o){ue(e,e.return,o)}}else Qt(t,e,n,i);break;case 31:Qt(t,e,n,i);break;case 13:Qt(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?Qt(t,e,n,i):ur(t,e):a._visibility&2?Qt(t,e,n,i):(a._visibility|=2,ws(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&ld(r,e);break;case 24:Qt(t,e,n,i),s&2048&&od(e.alternate,e);break;default:Qt(t,e,n,i)}}function ws(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,r=e,l=n,o=i,u=r.flags;switch(r.tag){case 0:case 11:case 15:ws(a,r,l,o,s),nl(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?ws(a,r,l,o,s):ur(a,r):(h._visibility|=2,ws(a,r,l,o,s)),s&&u&2048&&ld(r.alternate,r);break;case 24:ws(a,r,l,o,s),s&&u&2048&&od(r.alternate,r);break;default:ws(a,r,l,o,s)}e=e.sibling}}function ur(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:ur(n,i),s&2048&&ld(i.alternate,i);break;case 24:ur(n,i),s&2048&&od(i.alternate,i);break;default:ur(n,i)}e=e.sibling}}var Za=8192;function Es(t,e,n){if(t.subtreeFlags&Za)for(t=t.child;t!==null;)Yv(t,e,n),t=t.sibling}function Yv(t,e,n){switch(t.tag){case 26:Es(t,e,n),t.flags&Za&&t.memoizedState!==null&&dT(n,Kt,t.memoizedState,t.memoizedProps);break;case 5:Es(t,e,n);break;case 3:case 4:var i=Kt;Kt=ko(t.stateNode.containerInfo),Es(t,e,n),Kt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Za,Za=16777216,Es(t,e,n),Za=i):Es(t,e,n));break;default:Es(t,e,n)}}function Qv(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ja(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ge=i,Xv(i,t)}Qv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kv(t),t=t.sibling}function Kv(t){switch(t.tag){case 0:case 11:case 15:ja(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:ja(t);break;case 12:ja(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Wl(t)):ja(t);break;default:ja(t)}}function Wl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ge=i,Xv(i,t)}Qv(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ai(8,e,e.return),Wl(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Wl(e));break;default:Wl(e)}t=t.sibling}}function Xv(t,e){for(;Ge!==null;){var n=Ge;switch(n.tag){case 0:case 11:case 15:Ai(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:el(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ge=i;else e:for(n=t;Ge!==null;){i=Ge;var s=i.sibling,a=i.return;if(jv(i),i===n){Ge=null;break e}if(s!==null){s.return=a,Ge=s;break e}Ge=a}}}var xC={getCacheForType:function(t){var e=et(Be),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return et(Be).controller.signal}},RC=typeof WeakMap=="function"?WeakMap:Map,re=0,pe=null,$=null,te=0,oe=0,bt=null,li=!1,Ea=!1,ud=!1,jn=0,Me=0,Ni=0,Zi=0,cd=0,Ct=0,aa=0,cr=null,mt=null,Of=!1,Au=0,Wv=0,No=1/0,xo=null,mi=null,He=0,pi=null,ra=null,Dn=0,Df=0,If=null,$v=null,fr=0,kf=null;function Nt(){return re&2&&te!==0?te&-te:q.T!==null?hd():r_()}function Zv(){if(Ct===0)if(!(te&536870912)||ne){var t=El;El<<=1,!(El&3932160)&&(El=262144),Ct=t}else Ct=536870912;return t=Rt.current,t!==null&&(t.flags|=32),Ct}function gt(t,e,n){(t===pe&&(oe===2||oe===9)||t.cancelPendingCommit!==null)&&(la(t,0),oi(t,te,Ct,!1)),$r(t,n),(!(re&2)||t!==pe)&&(t===pe&&(!(re&2)&&(Zi|=n),Me===4&&oi(t,te,Ct,!1)),dn(t))}function Jv(t,e,n){if(re&6)throw Error(x(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Wr(t,e),s=i?DC(t,e):Tc(t,e,!0),a=i;do{if(s===0){Ea&&!i&&oi(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!MC(n)){s=Tc(t,e,!1),a=!1;continue}if(s===2){if(a=e,t.errorRecoveryDisabledLanes&a)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var l=t;s=cr;var o=l.current.memoizedState.isDehydrated;if(o&&(la(l,r).flags|=256),r=Tc(l,r,!1),r!==2){if(ud&&!o){l.errorRecoveryDisabledLanes|=a,Zi|=a,s=4;break e}a=mt,mt=s,a!==null&&(mt===null?mt=a:mt.push.apply(mt,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){la(t,0),oi(t,e,0,!0);break}e:{switch(i=t,a=s,a){case 0:case 1:throw Error(x(345));case 4:if((e&4194048)!==e)break;case 6:oi(i,e,Ct,!li);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(x(329))}if((e&62914560)===e&&(s=Au+300-Tt(),10<s)){if(oi(i,e,Ct,!li),pu(i,0,!0)!==0)break e;Dn=e,i.timeoutHandle=v0(Bp.bind(null,i,n,mt,xo,Of,e,Ct,Zi,aa,li,a,"Throttled",-0,0),s);break e}Bp(i,n,mt,xo,Of,e,Ct,Zi,aa,li,a,null,-0,0)}}break}while(!0);dn(t)}function Bp(t,e,n,i,s,a,r,l,o,u,h,f,c,d){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},Yv(e,a,f);var g=(a&62914560)===a?Au-Tt():(a&4194048)===a?Wv-Tt():0;if(g=mT(f,g),g!==null){Dn=a,t.cancelPendingCommit=g(Hp.bind(null,t,e,a,n,i,s,r,l,o,h,f,null,c,d)),oi(t,a,r,!u);return}}Hp(t,e,a,n,i,s,r,l,o)}function MC(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!xt(a(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e,n,i){e&=~cd,e&=~Zi,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var a=31-At(s),r=1<<a;i[a]=-1,s&=~r}n!==0&&i_(t,n,e)}function Nu(){return re&6?!0:(il(0),!1)}function fd(){if($!==null){if(oe===0)var t=$.return;else t=$,An=gs=null,Wh(t),Gs=null,Nr=0,t=$;for(;t!==null;)Dv(t.alternate,t),t=t.return;$=null}}function la(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,WC(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Dn=0,fd(),pe=t,$=n=Mn(t.current,null),te=e,oe=0,bt=null,li=!1,Ea=Wr(t,e),ud=!1,aa=Ct=cd=Zi=Ni=Me=0,mt=cr=null,Of=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-At(i),a=1<<s;e|=t[s],i&=~a}return jn=e,vu(),n}function e0(t,e){K=null,q.H=Rr,e===Sa||e===Su?(e=gp(),oe=3):e===qh?(e=gp(),oe=4):oe=e===ad?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,bt=e,$===null&&(Me=1,To(t,Bt(e,t.current)))}function t0(){var t=Rt.current;return t===null?!0:(te&4194048)===te?Pt===null:(te&62914560)===te||te&536870912?t===Pt:!1}function n0(){var t=q.H;return q.H=Rr,t===null?Rr:t}function i0(){var t=q.A;return q.A=xC,t}function Ro(){Me=4,li||(te&4194048)!==te&&Rt.current!==null||(Ea=!0),!(Ni&134217727)&&!(Zi&134217727)||pe===null||oi(pe,te,Ct,!1)}function Tc(t,e,n){var i=re;re|=2;var s=n0(),a=i0();(pe!==t||te!==e)&&(xo=null,la(t,e)),e=!1;var r=Me;e:do try{if(oe!==0&&$!==null){var l=$,o=bt;switch(oe){case 8:fd(),r=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(e=!0);var u=oe;if(oe=0,bt=null,Bs(t,l,o,u),n&&Ea){r=0;break e}break;default:u=oe,oe=0,bt=null,Bs(t,l,o,u)}}OC(),r=Me;break}catch(h){e0(t,h)}while(!0);return e&&t.shellSuspendCounter++,An=gs=null,re=i,q.H=s,q.A=a,$===null&&(pe=null,te=0,vu()),r}function OC(){for(;$!==null;)s0($)}function DC(t,e){var n=re;re|=2;var i=n0(),s=i0();pe!==t||te!==e?(xo=null,No=Tt()+500,la(t,e)):Ea=Wr(t,e);e:do try{if(oe!==0&&$!==null){e=$;var a=bt;t:switch(oe){case 1:oe=0,bt=null,Bs(t,e,a,1);break;case 2:case 9:if(pp(a)){oe=0,bt=null,jp(e);break}e=function(){oe!==2&&oe!==9||pe!==t||(oe=7),dn(t)},a.then(e,e);break e;case 3:oe=7;break e;case 4:oe=5;break e;case 7:pp(a)?(oe=0,bt=null,jp(e)):(oe=0,bt=null,Bs(t,e,a,7));break;case 5:var r=null;switch($.tag){case 26:r=$.memoizedState;case 5:case 27:var l=$;if(r?T0(r):l.stateNode.complete){oe=0,bt=null;var o=l.sibling;if(o!==null)$=o;else{var u=l.return;u!==null?($=u,xu(u)):$=null}break t}}oe=0,bt=null,Bs(t,e,a,5);break;case 6:oe=0,bt=null,Bs(t,e,a,6);break;case 8:fd(),Me=6;break e;default:throw Error(x(462))}}IC();break}catch(h){e0(t,h)}while(!0);return An=gs=null,q.H=i,q.A=s,re=n,$!==null?0:(pe=null,te=0,vu(),Me)}function IC(){for(;$!==null&&!n1();)s0($)}function s0(t){var e=Ov(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?xu(t):$=e}function jp(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Dp(n,e,e.pendingProps,e.type,void 0,te);break;case 11:e=Dp(n,e,e.pendingProps,e.type.render,e.ref,te);break;case 5:Wh(e);default:Dv(n,e),e=$=D_(e,jn),e=Ov(n,e,jn)}t.memoizedProps=t.pendingProps,e===null?xu(t):$=e}function Bs(t,e,n,i){An=gs=null,Wh(e),Gs=null,Nr=0;var s=e.return;try{if(SC(t,s,e,n,te)){Me=1,To(t,Bt(n,t.current)),$=null;return}}catch(a){if(s!==null)throw $=s,a;Me=1,To(t,Bt(n,t.current)),$=null;return}e.flags&32768?(ne||i===1?t=!0:Ea||te&536870912?t=!1:(li=t=!0,(i===2||i===9||i===3||i===6)&&(i=Rt.current,i!==null&&i.tag===13&&(i.flags|=16384))),a0(e,t)):xu(e)}function xu(t){var e=t;do{if(e.flags&32768){a0(e,li);return}t=e.return;var n=TC(e.alternate,e,jn);if(n!==null){$=n;return}if(e=e.sibling,e!==null){$=e;return}$=e=t}while(e!==null);Me===0&&(Me=5)}function a0(t,e){do{var n=wC(t.alternate,t);if(n!==null){n.flags&=32767,$=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){$=t;return}$=t=n}while(t!==null);Me=6,$=null}function Hp(t,e,n,i,s,a,r,l,o){t.cancelPendingCommit=null;do Ru();while(He!==0);if(re&6)throw Error(x(327));if(e!==null){if(e===t.current)throw Error(x(177));if(a=e.lanes|e.childLanes,a|=Uh,h1(t,n,a,r,l,o),t===pe&&($=pe=null,te=0),ra=e,pi=t,Dn=n,Df=a,If=s,$v=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,zC(ho,function(){return c0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=q.T,q.T=null,s=le.p,le.p=2,r=re,re|=4;try{AC(t,e,n)}finally{re=r,le.p=s,q.T=i}}He=1,r0(),l0(),o0()}}function r0(){if(He===1){He=0;var t=pi,e=ra,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=q.T,q.T=null;var i=le.p;le.p=2;var s=re;re|=4;try{qv(e,t);var a=Bf,r=T_(t.containerInfo),l=a.focusedElem,o=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&C_(l.ownerDocument.documentElement,l)){if(o!==null&&Lh(l)){var u=o.start,h=o.end;if(h===void 0&&(h=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(h,l.value.length);else{var f=l.ownerDocument||document,c=f&&f.defaultView||window;if(c.getSelection){var d=c.getSelection(),g=l.textContent.length,C=Math.min(o.start,g),E=o.end===void 0?C:Math.min(o.end,g);!d.extend&&C>E&&(r=E,E=C,C=r);var m=op(l,C),p=op(l,E);if(m&&p&&(d.rangeCount!==1||d.anchorNode!==m.node||d.anchorOffset!==m.offset||d.focusNode!==p.node||d.focusOffset!==p.offset)){var y=f.createRange();y.setStart(m.node,m.offset),d.removeAllRanges(),C>E?(d.addRange(y),d.extend(p.node,p.offset)):(y.setEnd(p.node,p.offset),d.addRange(y))}}}}for(f=[],d=l;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var T=f[l];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}zo=!!zf,Bf=zf=null}finally{re=s,le.p=i,q.T=n}}t.current=e,He=2}}function l0(){if(He===2){He=0;var t=pi,e=ra,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=q.T,q.T=null;var i=le.p;le.p=2;var s=re;re|=4;try{Bv(t,e.alternate,e)}finally{re=s,le.p=i,q.T=n}}He=3}}function o0(){if(He===4||He===3){He=0,i1();var t=pi,e=ra,n=Dn,i=$v;e.subtreeFlags&10256||e.flags&10256?He=5:(He=0,ra=pi=null,u0(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(mi=null),xh(n),e=e.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Xr,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=q.T,s=le.p,le.p=2,q.T=null;try{for(var a=t.onRecoverableError,r=0;r<i.length;r++){var l=i[r];a(l.value,{componentStack:l.stack})}}finally{q.T=e,le.p=s}}Dn&3&&Ru(),dn(t),s=t.pendingLanes,n&261930&&s&42?t===kf?fr++:(fr=0,kf=t):fr=0,il(0)}}function u0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,el(e)))}function Ru(){return r0(),l0(),o0(),c0()}function c0(){if(He!==5)return!1;var t=pi,e=Df;Df=0;var n=xh(Dn),i=q.T,s=le.p;try{le.p=32>n?32:n,q.T=null,n=If,If=null;var a=pi,r=Dn;if(He=0,ra=pi=null,Dn=0,re&6)throw Error(x(331));var l=re;if(re|=4,Kv(a.current),Fv(a,a.current,r,n),re=l,il(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Xr,a)}catch{}return!0}finally{le.p=s,q.T=i,u0(t,e)}}function Pp(t,e,n){e=Bt(n,e),e=Nf(t.stateNode,e,2),t=di(t,e,2),t!==null&&($r(t,2),dn(t))}function ue(t,e,n){if(t.tag===3)Pp(t,t,n);else for(;e!==null;){if(e.tag===3){Pp(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(mi===null||!mi.has(i))){t=Bt(n,t),n=wv(2),i=di(e,n,2),i!==null&&(Av(n,i,e,t),$r(i,2),dn(i));break}}e=e.return}}function wc(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new RC;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(ud=!0,s.add(n),t=kC.bind(null,t,e,n),e.then(t,t))}function kC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,pe===t&&(te&n)===n&&(Me===4||Me===3&&(te&62914560)===te&&300>Tt()-Au?!(re&2)&&la(t,0):cd|=n,aa===te&&(aa=0)),dn(t)}function f0(t,e){e===0&&(e=n_()),t=ps(t,e),t!==null&&($r(t,e),dn(t))}function LC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),f0(t,n)}function UC(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(x(314))}i!==null&&i.delete(e),f0(t,n)}function zC(t,e){return Ah(t,e)}var Mo=null,As=null,Lf=!1,Oo=!1,Ac=!1,ui=0;function dn(t){t!==As&&t.next===null&&(As===null?Mo=As=t:As=As.next=t),Oo=!0,Lf||(Lf=!0,jC())}function il(t,e){if(!Ac&&Oo){Ac=!0;do for(var n=!1,i=Mo;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,l=i.pingedLanes;a=(1<<31-At(42|t)+1)-1,a&=s&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Vp(i,a))}else a=te,a=pu(i,i===pe?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Wr(i,a)||(n=!0,Vp(i,a));i=i.next}while(n);Ac=!1}}function BC(){h0()}function h0(){Oo=Lf=!1;var t=0;ui!==0&&XC()&&(t=ui);for(var e=Tt(),n=null,i=Mo;i!==null;){var s=i.next,a=d0(i,e);a===0?(i.next=null,n===null?Mo=s:n.next=s,s===null&&(As=n)):(n=i,(t!==0||a&3)&&(Oo=!0)),i=s}He!==0&&He!==5||il(t),ui!==0&&(ui=0)}function d0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var r=31-At(a),l=1<<r,o=s[r];o===-1?(!(l&n)||l&i)&&(s[r]=f1(l,e)):o<=e&&(t.expiredLanes|=l),a&=~l}if(e=pe,n=te,n=pu(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(oe===2||oe===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&ec(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Wr(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&ec(i),xh(n)){case 2:case 8:n=e_;break;case 32:n=ho;break;case 268435456:n=t_;break;default:n=ho}return i=m0.bind(null,t),n=Ah(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&ec(i),t.callbackPriority=2,t.callbackNode=null,2}function m0(t,e){if(He!==0&&He!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ru()&&t.callbackNode!==n)return null;var i=te;return i=pu(t,t===pe?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Jv(t,i,e),d0(t,Tt()),t.callbackNode!=null&&t.callbackNode===n?m0.bind(null,t):null)}function Vp(t,e){if(Ru())return null;Jv(t,e,!0)}function jC(){$C(function(){re&6?Ah(Jy,BC):h0()})}function hd(){if(ui===0){var t=na;t===0&&(t=Sl,Sl<<=1,!(Sl&261888)&&(Sl=256)),ui=t}return ui}function qp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pl(""+t)}function Gp(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function HC(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var a=qp((s[_t]||null).action),r=i.submitter;r&&(e=(e=r[_t]||null)?qp(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var l=new gu("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ui!==0){var o=r?Gp(s,r):new FormData(s);wf(n,{pending:!0,data:o,method:s.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=r?Gp(s,r):new FormData(s),wf(n,{pending:!0,data:o,method:s.method,action:a},a,o))},currentTarget:s}]})}}for(var Nc=0;Nc<df.length;Nc++){var xc=df[Nc],PC=xc.toLowerCase(),VC=xc[0].toUpperCase()+xc.slice(1);tn(PC,"on"+VC)}tn(A_,"onAnimationEnd");tn(N_,"onAnimationIteration");tn(x_,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(sC,"onTransitionRun");tn(aC,"onTransitionStart");tn(rC,"onTransitionCancel");tn(R_,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mr));function p0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var r=i.length-1;0<=r;r--){var l=i[r],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=u;try{a(s)}catch(h){po(h)}s.currentTarget=null,a=o}else for(r=0;r<i.length;r++){if(l=i[r],o=l.instance,u=l.currentTarget,l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=u;try{a(s)}catch(h){po(h)}s.currentTarget=null,a=o}}}}function W(t,e){var n=e[af];n===void 0&&(n=e[af]=new Set);var i=t+"__bubble";n.has(i)||(g0(e,t,2,!1),n.add(i))}function Rc(t,e,n){var i=0;e&&(i|=4),g0(n,t,i,e)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[Ol]){t[Ol]=!0,l_.forEach(function(n){n!=="selectionchange"&&(qC.has(n)||Rc(n,!1,t),Rc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ol]||(e[Ol]=!0,Rc("selectionchange",!1,e))}}function g0(t,e,n,i){switch(R0(e)){case 2:var s=yT;break;case 8:s=_T;break;default:s=yd}n=s.bind(null,e,n,t),s=void 0,!cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mc(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var l=i.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=i.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=Rs(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){i=a=r;continue e}l=l.parentNode}}i=i.return}p_(function(){var u=a,h=Oh(n),f=[];e:{var c=M_.get(t);if(c!==void 0){var d=gu,g=t;switch(t){case"keypress":if(ql(n)===0)break e;case"keydown":case"keyup":d=U1;break;case"focusin":g="focus",d=ac;break;case"focusout":g="blur",d=ac;break;case"beforeblur":case"afterblur":d=ac;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=T1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=j1;break;case A_:case N_:case x_:d=N1;break;case R_:d=P1;break;case"scroll":case"scrollend":d=E1;break;case"wheel":d=q1;break;case"copy":case"cut":case"paste":d=R1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=ep;break;case"toggle":case"beforetoggle":d=F1}var C=(e&4)!==0,E=!C&&(t==="scroll"||t==="scrollend"),m=C?c!==null?c+"Capture":null:c;C=[];for(var p=u,y;p!==null;){var T=p;if(y=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||y===null||m===null||(T=Er(p,m),T!=null&&C.push(Or(p,T,y))),E)break;p=p.return}0<C.length&&(c=new d(c,g,null,n,h),f.push({event:c,listeners:C}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",c&&n!==uf&&(g=n.relatedTarget||n.fromElement)&&(Rs(g)||g[_a]))break e;if((d||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,d?(g=n.relatedTarget||n.toElement,d=u,g=g?Rs(g):null,g!==null&&(E=Kr(g),C=g.tag,g!==E||C!==5&&C!==27&&C!==6)&&(g=null)):(d=null,g=u),d!==g)){if(C=Zm,T="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(C=ep,T="onPointerLeave",m="onPointerEnter",p="pointer"),E=d==null?c:Wa(d),y=g==null?c:Wa(g),c=new C(T,p+"leave",d,n,h),c.target=E,c.relatedTarget=y,T=null,Rs(h)===u&&(C=new C(m,p+"enter",g,n,h),C.target=y,C.relatedTarget=E,T=C),E=T,d&&g)t:{for(C=GC,m=d,p=g,y=0,T=m;T;T=C(T))y++;T=0;for(var I=p;I;I=C(I))T++;for(;0<y-T;)m=C(m),y--;for(;0<T-y;)p=C(p),T--;for(;y--;){if(m===p||p!==null&&m===p.alternate){C=m;break t}m=C(m),p=C(p)}C=null}else C=null;d!==null&&Fp(f,c,d,C,!1),g!==null&&E!==null&&Fp(f,E,g,C,!0)}}e:{if(c=u?Wa(u):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var R=sp;else if(ip(c))if(S_)R=tC;else{R=J1;var w=Z1}else d=c.nodeName,!d||d.toLowerCase()!=="input"||c.type!=="checkbox"&&c.type!=="radio"?u&&Mh(u.elementType)&&(R=sp):R=eC;if(R&&(R=R(t,u))){b_(f,R,n,h);break e}w&&w(t,c,u),t==="focusout"&&u&&c.type==="number"&&u.memoizedProps.value!=null&&of(c,"number",c.value)}switch(w=u?Wa(u):window,t){case"focusin":(ip(w)||w.contentEditable==="true")&&(Ds=w,ff=u,nr=null);break;case"focusout":nr=ff=Ds=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,up(f,n,h);break;case"selectionchange":if(iC)break;case"keydown":case"keyup":up(f,n,h)}var A;if(kh)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Os?__(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(y_&&n.locale!=="ko"&&(Os||N!=="onCompositionStart"?N==="onCompositionEnd"&&Os&&(A=g_()):(ri=h,Dh="value"in ri?ri.value:ri.textContent,Os=!0)),w=Do(u,N),0<w.length&&(N=new Jm(N,t,null,n,h),f.push({event:N,listeners:w}),A?N.data=A:(A=v_(n),A!==null&&(N.data=A)))),(A=Q1?K1(t,n):X1(t,n))&&(N=Do(u,"onBeforeInput"),0<N.length&&(w=new Jm("onBeforeInput","beforeinput",null,n,h),f.push({event:w,listeners:N}),w.data=A)),HC(f,t,u,n,h)}p0(f,e)})}function Or(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Do(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=Er(t,n),s!=null&&i.unshift(Or(t,s,a)),s=Er(t,e),s!=null&&i.push(Or(t,s,a))),t.tag===3)return i;t=t.return}return[]}function GC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fp(t,e,n,i,s){for(var a=e._reactName,r=[];n!==null&&n!==i;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===i)break;l!==5&&l!==26&&l!==27||u===null||(o=u,s?(u=Er(n,a),u!=null&&r.unshift(Or(n,u,o))):s||(u=Er(n,a),u!=null&&r.push(Or(n,u,o)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var FC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function Yp(t){return(typeof t=="string"?t:""+t).replace(FC,`
`).replace(YC,"")}function y0(t,e){return e=Yp(e),Yp(t)===e}function ce(t,e,n,i,s,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||ta(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&ta(t,""+i);break;case"className":Tl(t,"class",i);break;case"tabIndex":Tl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(t,n,i);break;case"style":m_(t,i,a);break;case"data":if(e!=="object"){Tl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Pl(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&ce(t,e,"name",s.name,s,null),ce(t,e,"formEncType",s.formEncType,s,null),ce(t,e,"formMethod",s.formMethod,s,null),ce(t,e,"formTarget",s.formTarget,s,null)):(ce(t,e,"encType",s.encType,s,null),ce(t,e,"method",s.method,s,null),ce(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Pl(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=wn);break;case"onScroll":i!=null&&W("scroll",t);break;case"onScrollEnd":i!=null&&W("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(x(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Pl(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":W("beforetoggle",t),W("toggle",t),Hl(t,"popover",i);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Hl(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=b1.get(n)||n,Hl(t,n,i))}}function Uf(t,e,n,i,s,a){switch(n){case"style":m_(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(x(60));t.innerHTML=n}}break;case"children":typeof i=="string"?ta(t,i):(typeof i=="number"||typeof i=="bigint")&&ta(t,""+i);break;case"onScroll":i!=null&&W("scroll",t);break;case"onScrollEnd":i!=null&&W("scrollend",t);break;case"onClick":i!=null&&(t.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!o_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[_t]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Hl(t,n,i)}}}function tt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":W("error",t),W("load",t);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(x(137,e));default:ce(t,e,a,r,n,null)}}s&&ce(t,e,"srcSet",n.srcSet,n,null),i&&ce(t,e,"src",n.src,n,null);return;case"input":W("invalid",t);var l=a=r=s=null,o=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":r=h;break;case"checked":o=h;break;case"defaultChecked":u=h;break;case"value":a=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(x(137,e));break;default:ce(t,e,i,h,n,null)}}f_(t,a,l,o,u,r,s,!1);return;case"select":W("invalid",t),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":i=l;default:ce(t,e,s,l,n,null)}e=a,n=r,t.multiple=!!i,e!=null?Ps(t,!!i,e,!1):n!=null&&Ps(t,!!i,n,!0);return;case"textarea":W("invalid",t),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":s=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(x(91));break;default:ce(t,e,r,l,n,null)}d_(t,i,s,a);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ce(t,e,o,i,n,null)}return;case"dialog":W("beforetoggle",t),W("toggle",t),W("cancel",t),W("close",t);break;case"iframe":case"object":W("load",t);break;case"video":case"audio":for(i=0;i<Mr.length;i++)W(Mr[i],t);break;case"image":W("error",t),W("load",t);break;case"details":W("toggle",t);break;case"embed":case"source":case"link":W("error",t),W("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(x(137,e));default:ce(t,e,u,i,n,null)}return;default:if(Mh(e)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Uf(t,e,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&ce(t,e,l,i,n,null))}function QC(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,l=null,o=null,u=null,h=null;for(d in n){var f=n[d];if(n.hasOwnProperty(d)&&f!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":o=f;default:i.hasOwnProperty(d)||ce(t,e,d,null,i,f)}}for(var c in i){var d=i[c];if(f=n[c],i.hasOwnProperty(c)&&(d!=null||f!=null))switch(c){case"type":a=d;break;case"name":s=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(x(137,e));break;default:d!==f&&ce(t,e,c,d,i,f)}}lf(t,r,l,o,u,h,a,s);return;case"select":d=r=l=c=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":d=o;default:i.hasOwnProperty(a)||ce(t,e,a,null,i,o)}for(s in i)if(a=i[s],o=n[s],i.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":c=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==o&&ce(t,e,s,a,i,o)}e=l,n=r,i=d,c!=null?Ps(t,!!n,c,!1):!!i!=!!n&&(e!=null?Ps(t,!!n,e,!0):Ps(t,!!n,n?[]:"",!1));return;case"textarea":d=c=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ce(t,e,l,null,i,s)}for(r in i)if(s=i[r],a=n[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":c=s;break;case"defaultValue":d=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(x(91));break;default:s!==a&&ce(t,e,r,s,i,a)}h_(t,c,d);return;case"option":for(var g in n)if(c=n[g],n.hasOwnProperty(g)&&c!=null&&!i.hasOwnProperty(g))switch(g){case"selected":t.selected=!1;break;default:ce(t,e,g,null,i,c)}for(o in i)if(c=i[o],d=n[o],i.hasOwnProperty(o)&&c!==d&&(c!=null||d!=null))switch(o){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ce(t,e,o,c,i,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var C in n)c=n[C],n.hasOwnProperty(C)&&c!=null&&!i.hasOwnProperty(C)&&ce(t,e,C,null,i,c);for(u in i)if(c=i[u],d=n[u],i.hasOwnProperty(u)&&c!==d&&(c!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(x(137,e));break;default:ce(t,e,u,c,i,d)}return;default:if(Mh(e)){for(var E in n)c=n[E],n.hasOwnProperty(E)&&c!==void 0&&!i.hasOwnProperty(E)&&Uf(t,e,E,void 0,i,c);for(h in i)c=i[h],d=n[h],!i.hasOwnProperty(h)||c===d||c===void 0&&d===void 0||Uf(t,e,h,c,i,d);return}}for(var m in n)c=n[m],n.hasOwnProperty(m)&&c!=null&&!i.hasOwnProperty(m)&&ce(t,e,m,null,i,c);for(f in i)c=i[f],d=n[f],!i.hasOwnProperty(f)||c===d||c==null&&d==null||ce(t,e,f,c,i,d)}function Qp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,r=s.initiatorType,l=s.duration;if(a&&l&&Qp(r)){for(r=0,l=s.responseEnd,i+=1;i<n.length;i++){var o=n[i],u=o.startTime;if(u>l)break;var h=o.transferSize,f=o.initiatorType;h&&Qp(f)&&(o=o.responseEnd,r+=h*(o<l?1:(l-u)/(o-u)))}if(--i,e+=8*(a+r)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zf=null,Bf=null;function Io(t){return t.nodeType===9?t:t.ownerDocument}function Kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function jf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oc=null;function XC(){var t=window.event;return t&&t.type==="popstate"?t===Oc?!1:(Oc=t,!0):(Oc=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,WC=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,$C=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(t){return Xp.resolve(null).then(t).catch(ZC)}:v0;function ZC(t){setTimeout(function(){throw t})}function Di(t){return t==="head"}function Wp(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),ua(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")hr(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,hr(n);for(var a=n.firstChild;a;){var r=a.nextSibling,l=a.nodeName;a[Zr]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=r}}else n==="body"&&hr(t.ownerDocument.body);n=s}while(n);ua(e)}function $p(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Hf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hf(n),Rh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function JC(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Zr])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function eT(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vt(t.nextSibling),t===null))return null;return t}function b0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Vt(t.nextSibling),t===null))return null;return t}function Pf(t){return t.data==="$?"||t.data==="$~"}function Vf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tT(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Vt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var qf=null;function Zp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Vt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Jp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function S0(t,e,n){switch(e=Io(n),t){case"html":if(t=e.documentElement,!t)throw Error(x(452));return t;case"head":if(t=e.head,!t)throw Error(x(453));return t;case"body":if(t=e.body,!t)throw Error(x(454));return t;default:throw Error(x(451))}}function hr(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Rh(t)}var qt=new Map,eg=new Set;function ko(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gn=le.d;le.d={f:nT,r:iT,D:sT,C:aT,L:rT,m:lT,X:uT,S:oT,M:cT};function nT(){var t=Gn.f(),e=Nu();return t||e}function iT(t){var e=va(t);e!==null&&e.tag===5&&e.type==="form"?mv(e):Gn.r(t)}var Ca=typeof document>"u"?null:document;function E0(t,e,n){var i=Ca;if(i&&typeof e=="string"&&e){var s=zt(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),eg.has(s)||(eg.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),tt(e,"link",t),Ye(e),i.head.appendChild(e)))}}function sT(t){Gn.D(t),E0("dns-prefetch",t,null)}function aT(t,e){Gn.C(t,e),E0("preconnect",t,e)}function rT(t,e,n){Gn.L(t,e,n);var i=Ca;if(i&&t&&e){var s='link[rel="preload"][as="'+zt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+zt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+zt(n.imageSizes)+'"]')):s+='[href="'+zt(t)+'"]';var a=s;switch(e){case"style":a=oa(t);break;case"script":a=Ta(t)}qt.has(a)||(t=Te({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),qt.set(a,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(sl(a))||e==="script"&&i.querySelector(al(a))||(e=i.createElement("link"),tt(e,"link",t),Ye(e),i.head.appendChild(e)))}}function lT(t,e){Gn.m(t,e);var n=Ca;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+zt(i)+'"][href="'+zt(t)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ta(t)}if(!qt.has(a)&&(t=Te({rel:"modulepreload",href:t},e),qt.set(a,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(al(a)))return}i=n.createElement("link"),tt(i,"link",t),Ye(i),n.head.appendChild(i)}}}function oT(t,e,n){Gn.S(t,e,n);var i=Ca;if(i&&t){var s=Hs(i).hoistableStyles,a=oa(t);e=e||"default";var r=s.get(a);if(!r){var l={loading:0,preload:null};if(r=i.querySelector(sl(a)))l.loading=5;else{t=Te({rel:"stylesheet",href:t,"data-precedence":e},n),(n=qt.get(a))&&md(t,n);var o=r=i.createElement("link");Ye(o),tt(o,"link",t),o._p=new Promise(function(u,h){o.onload=u,o.onerror=h}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,$l(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(a,r)}}}function uT(t,e){Gn.X(t,e);var n=Ca;if(n&&t){var i=Hs(n).hoistableScripts,s=Ta(t),a=i.get(s);a||(a=n.querySelector(al(s)),a||(t=Te({src:t,async:!0},e),(e=qt.get(s))&&pd(t,e),a=n.createElement("script"),Ye(a),tt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function cT(t,e){Gn.M(t,e);var n=Ca;if(n&&t){var i=Hs(n).hoistableScripts,s=Ta(t),a=i.get(s);a||(a=n.querySelector(al(s)),a||(t=Te({src:t,async:!0,type:"module"},e),(e=qt.get(s))&&pd(t,e),a=n.createElement("script"),Ye(a),tt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function tg(t,e,n,i){var s=(s=ci.current)?ko(s):null;if(!s)throw Error(x(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=oa(n.href),n=Hs(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=oa(n.href);var a=Hs(s).hoistableStyles,r=a.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,r),(a=s.querySelector(sl(t)))&&!a._p&&(r.instance=a,r.state.loading=5),qt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qt.set(t,n),a||fT(s,t,n,r.state))),e&&i===null)throw Error(x(528,""));return r}if(e&&i!==null)throw Error(x(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ta(n),n=Hs(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(x(444,t))}}function oa(t){return'href="'+zt(t)+'"'}function sl(t){return'link[rel="stylesheet"]['+t+"]"}function C0(t){return Te({},t,{"data-precedence":t.precedence,precedence:null})}function fT(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),tt(e,"link",n),Ye(e),t.head.appendChild(e))}function Ta(t){return'[src="'+zt(t)+'"]'}function al(t){return"script[async]"+t}function ng(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+zt(n.href)+'"]');if(i)return e.instance=i,Ye(i),i;var s=Te({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ye(i),tt(i,"style",s),$l(i,n.precedence,t),e.instance=i;case"stylesheet":s=oa(n.href);var a=t.querySelector(sl(s));if(a)return e.state.loading|=4,e.instance=a,Ye(a),a;i=C0(n),(s=qt.get(s))&&md(i,s),a=(t.ownerDocument||t).createElement("link"),Ye(a);var r=a;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),tt(a,"link",i),e.state.loading|=4,$l(a,n.precedence,t),e.instance=a;case"script":return a=Ta(n.src),(s=t.querySelector(al(a)))?(e.instance=s,Ye(s),s):(i=n,(s=qt.get(a))&&(i=Te({},n),pd(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),Ye(s),tt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(x(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,$l(i,n.precedence,t));return e.instance}function $l(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var l=i[r];if(l.dataset.precedence===e)a=l;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function md(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function pd(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Zl=null;function ig(t,e,n){if(Zl===null){var i=new Map,s=Zl=new Map;s.set(n,i)}else s=Zl,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[Zr]||a[Ze]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=t+r;var l=i.get(r);l?l.push(a):i.set(r,[a])}}return i}function sg(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function hT(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function T0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function dT(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=oa(i.href),a=e.querySelector(sl(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Lo.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Ye(a);return}a=e.ownerDocument||e,i=C0(i),(s=qt.get(s))&&md(i,s),a=a.createElement("link"),Ye(a);var r=a;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),tt(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Lo.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Dc=0;function mT(t,e){return t.stylesheets&&t.count===0&&Jl(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Jl(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Dc===0&&(Dc=62500*KC());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Jl(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Dc?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function Lo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uo=null;function Jl(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uo=new Map,e.forEach(pT,t),Uo=null,Lo.call(t))}function pT(t,e){if(!(e.state.loading&4)){var n=Uo.get(t);if(n)var i=n.get(null);else{n=new Map,Uo.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),a=n.get(r)||i,a===i&&n.set(null,s),n.set(r,s),this.count++,i=Lo.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Dr={$$typeof:Tn,Provider:null,Consumer:null,_currentValue:Ki,_currentValue2:Ki,_threadCount:0};function gT(t,e,n,i,s,a,r,l,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.hiddenUpdates=tc(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function w0(t,e,n,i,s,a,r,l,o,u,h,f){return t=new gT(t,e,n,r,o,u,h,f,l),e=1,a===!0&&(e|=24),a=Et(3,null,null,e),t.current=a,a.stateNode=t,e=Ph(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},Gh(a),t}function A0(t){return t?(t=Ls,t):Ls}function N0(t,e,n,i,s,a){s=A0(s),i.context===null?i.context=s:i.pendingContext=s,i=hi(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=di(t,i,e),n!==null&&(gt(n,t,e),sr(n,t,e))}function ag(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gd(t,e){ag(t,e),(t=t.alternate)&&ag(t,e)}function x0(t){if(t.tag===13||t.tag===31){var e=ps(t,67108864);e!==null&&gt(e,t,67108864),gd(t,67108864)}}function rg(t){if(t.tag===13||t.tag===31){var e=Nt();e=Nh(e);var n=ps(t,e);n!==null&&gt(n,t,e),gd(t,e)}}var zo=!0;function yT(t,e,n,i){var s=q.T;q.T=null;var a=le.p;try{le.p=2,yd(t,e,n,i)}finally{le.p=a,q.T=s}}function _T(t,e,n,i){var s=q.T;q.T=null;var a=le.p;try{le.p=8,yd(t,e,n,i)}finally{le.p=a,q.T=s}}function yd(t,e,n,i){if(zo){var s=Gf(i);if(s===null)Mc(t,e,i,Bo,n),lg(t,i);else if(bT(s,t,e,n,i))i.stopPropagation();else if(lg(t,i),e&4&&-1<vT.indexOf(t)){for(;s!==null;){var a=va(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=ji(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-At(r);l.entanglements[1]|=o,r&=~o}dn(a),!(re&6)&&(No=Tt()+500,il(0))}}break;case 31:case 13:l=ps(a,2),l!==null&&gt(l,a,2),Nu(),gd(a,2)}if(a=Gf(i),a===null&&Mc(t,e,i,Bo,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Mc(t,e,i,null,n)}}function Gf(t){return t=Oh(t),_d(t)}var Bo=null;function _d(t){if(Bo=null,t=Rs(t),t!==null){var e=Kr(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Ky(e),t!==null)return t;t=null}else if(n===31){if(t=Xy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Bo=t,null}function R0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(s1()){case Jy:return 2;case e_:return 8;case ho:case a1:return 32;case t_:return 268435456;default:return 32}default:return 32}}var Ff=!1,gi=null,yi=null,_i=null,Ir=new Map,kr=new Map,ti=[],vT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lg(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Ir.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kr.delete(e.pointerId)}}function Ha(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=va(e),e!==null&&x0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bT(t,e,n,i,s){switch(e){case"focusin":return gi=Ha(gi,t,e,n,i,s),!0;case"dragenter":return yi=Ha(yi,t,e,n,i,s),!0;case"mouseover":return _i=Ha(_i,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return Ir.set(a,Ha(Ir.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,kr.set(a,Ha(kr.get(a)||null,t,e,n,i,s)),!0}return!1}function M0(t){var e=Rs(t.target);if(e!==null){var n=Kr(e);if(n!==null){if(e=n.tag,e===13){if(e=Ky(n),e!==null){t.blockedOn=e,Fm(t.priority,function(){rg(n)});return}}else if(e===31){if(e=Xy(n),e!==null){t.blockedOn=e,Fm(t.priority,function(){rg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gf(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);uf=i,n.target.dispatchEvent(i),uf=null}else return e=va(n),e!==null&&x0(e),t.blockedOn=n,!1;e.shift()}return!0}function og(t,e,n){eo(t)&&n.delete(e)}function ST(){Ff=!1,gi!==null&&eo(gi)&&(gi=null),yi!==null&&eo(yi)&&(yi=null),_i!==null&&eo(_i)&&(_i=null),Ir.forEach(og),kr.forEach(og)}function Dl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ff||(Ff=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,ST)))}var Il=null;function ug(t){Il!==t&&(Il=t,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,function(){Il===t&&(Il=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(_d(i||n)===null)continue;break}var a=va(n);a!==null&&(t.splice(e,3),e-=3,wf(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function ua(t){function e(o){return Dl(o,t)}gi!==null&&Dl(gi,t),yi!==null&&Dl(yi,t),_i!==null&&Dl(_i,t),Ir.forEach(e),kr.forEach(e);for(var n=0;n<ti.length;n++){var i=ti[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)M0(n),n.blockedOn===null&&ti.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],r=s[_t]||null;if(typeof a=="function")r||ug(n);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[_t]||null)l=r.formAction;else if(_d(s)!==null)continue}else l=r.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),ug(n)}}}function O0(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function vd(t){this._internalRoot=t}Mu.prototype.render=vd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));var n=e.current,i=Nt();N0(n,i,t,e,null,null)};Mu.prototype.unmount=vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;N0(t.current,2,null,t,null,null),Nu(),e[_a]=null}};function Mu(t){this._internalRoot=t}Mu.prototype.unstable_scheduleHydration=function(t){if(t){var e=r_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ti.length&&e!==0&&e<ti[n].priority;n++);ti.splice(n,0,t),n===0&&M0(t)}};var cg=Yy.version;if(cg!=="19.2.1")throw Error(x(527,cg,"19.2.1"));le.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=$E(e),t=t!==null?Wy(t):null,t=t===null?null:t.stateNode,t};var ET={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{Xr=kl.inject(ET),wt=kl}catch{}}du.createRoot=function(t,e){if(!Qy(t))throw Error(x(299));var n=!1,i="",s=Ev,a=Cv,r=Tv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=w0(t,1,!1,null,null,n,i,null,s,a,r,O0),t[_a]=e.current,dd(t),new vd(e)};du.hydrateRoot=function(t,e,n){if(!Qy(t))throw Error(x(299));var i=!1,s="",a=Ev,r=Cv,l=Tv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),e=w0(t,1,!0,e,n??null,i,s,o,a,r,l,O0),e.context=A0(null),n=e.current,i=Nt(),i=Nh(i),s=hi(i),s.callback=null,di(n,s,i),n=i,e.current.lanes=n,$r(e,n),dn(e),t[_a]=e.current,dd(t),new Mu(e)};du.version="19.2.1";function D0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D0)}catch(t){console.error(t)}}D0(),Hy.exports=du;var CT=Hy.exports;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fg="popstate";function TT(t={}){function e(s,a){let{pathname:r="/",search:l="",hash:o=""}=ys(s.location.hash.substring(1));return!r.startsWith("/")&&!r.startsWith(".")&&(r="/"+r),Yf("",{pathname:r,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let r=s.document.querySelector("base"),l="";if(r&&r.getAttribute("href")){let o=s.location.href,u=o.indexOf("#");l=u===-1?o:o.slice(0,u)}return l+"#"+(typeof a=="string"?a:Lr(a))}function i(s,a){Gt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return AT(e,n,i,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substring(2,10)}function hg(t,e){return{usr:t.state,key:t.key,idx:e}}function Yf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ys(e):e,state:n,key:e&&e.key||i||wT()}}function Lr({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function AT(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,r=s.history,l="POP",o=null,u=h();u==null&&(u=0,r.replaceState({...r.state,idx:u},""));function h(){return(r.state||{idx:null}).idx}function f(){l="POP";let E=h(),m=E==null?null:E-u;u=E,o&&o({action:l,location:C.location,delta:m})}function c(E,m){l="PUSH";let p=Yf(C.location,E,m);n&&n(p,E),u=h()+1;let y=hg(p,u),T=C.createHref(p);try{r.pushState(y,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(T)}a&&o&&o({action:l,location:C.location,delta:1})}function d(E,m){l="REPLACE";let p=Yf(C.location,E,m);n&&n(p,E),u=h();let y=hg(p,u),T=C.createHref(p);r.replaceState(y,"",T),a&&o&&o({action:l,location:C.location,delta:0})}function g(E){return NT(E)}let C={get action(){return l},get location(){return t(s,r)},listen(E){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(fg,f),o=E,()=>{s.removeEventListener(fg,f),o=null}},createHref(E){return e(s,E)},createURL:g,encodeLocation(E){let m=g(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:c,replace:d,go(E){return r.go(E)}};return C}function NT(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ae(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Lr(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function I0(t,e,n="/"){return xT(t,e,n,!1)}function xT(t,e,n,i){let s=typeof e=="string"?ys(e):e,a=Hn(s.pathname||"/",n);if(a==null)return null;let r=k0(t);RT(r);let l=null;for(let o=0;l==null&&o<r.length;++o){let u=HT(a);l=BT(r[o],u,i)}return l}function k0(t,e=[],n=[],i="",s=!1){let a=(r,l,o=s,u)=>{let h={relativePath:u===void 0?r.path||"":u,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&o)return;Ae(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let f=In([i,h.relativePath]),c=n.concat(h);r.children&&r.children.length>0&&(Ae(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),k0(r.children,e,c,f,o)),!(r.path==null&&!r.index)&&e.push({path:f,score:UT(f,r.index),routesMeta:c})};return t.forEach((r,l)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))a(r,l);else for(let u of L0(r.path))a(r,l,!0,u)}),e}function L0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let r=L0(i.join("/")),l=[];return l.push(...r.map(o=>o===""?a:[a,o].join("/"))),s&&l.push(...r),l.map(o=>t.startsWith("/")&&o===""?"/":o)}function RT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var MT=/^:[\w-]+$/,OT=3,DT=2,IT=1,kT=10,LT=-2,dg=t=>t==="*";function UT(t,e){let n=t.split("/"),i=n.length;return n.some(dg)&&(i+=LT),e&&(i+=DT),n.filter(s=>!dg(s)).reduce((s,a)=>s+(MT.test(a)?OT:a===""?IT:kT),i)}function zT(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function BT(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",r=[];for(let l=0;l<i.length;++l){let o=i[l],u=l===i.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=jo({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},h),c=o.route;if(!f&&u&&n&&!i[i.length-1].route.index&&(f=jo({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),r.push({params:s,pathname:In([a,f.pathname]),pathnameBase:FT(In([a,f.pathnameBase])),route:c}),f.pathnameBase!=="/"&&(a=In([a,f.pathnameBase]))}return r}function jo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=jT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:f},c)=>{if(h==="*"){let g=l[c]||"";r=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const d=l[c];return f&&!d?u[h]=void 0:u[h]=(d||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:r,pattern:t}}function jT(t,e=!1,n=!0){Gt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,o)=>(i.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function HT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var PT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VT=t=>PT.test(t);function qT(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?ys(t):t,a;if(n)if(VT(n))a=n;else{if(n.includes("//")){let r=n;n=n.replace(/\/\/+/g,"/"),Gt(!1,`Pathnames cannot have embedded double slashes - normalizing ${r} -> ${n}`)}n.startsWith("/")?a=mg(n.substring(1),"/"):a=mg(n,e)}else a=e;return{pathname:a,search:YT(i),hash:QT(s)}}function mg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ic(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function U0(t){let e=GT(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function z0(t,e,n,i=!1){let s;typeof t=="string"?s=ys(t):(s={...t},Ae(!s.pathname||!s.pathname.includes("?"),Ic("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),Ic("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),Ic("#","search","hash",s)));let a=t===""||s.pathname==="",r=a?"/":s.pathname,l;if(r==null)l=n;else{let f=e.length-1;if(!i&&r.startsWith("..")){let c=r.split("/");for(;c[0]==="..";)c.shift(),f-=1;s.pathname=c.join("/")}l=f>=0?e[f]:"/"}let o=qT(s,l),u=r&&r!=="/"&&r.endsWith("/"),h=(a||r===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||h)&&(o.pathname+="/"),o}var In=t=>t.join("/").replace(/\/\/+/g,"/"),FT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function XT(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B0=["POST","PUT","PATCH","DELETE"];new Set(B0);var WT=["GET",...B0];new Set(WT);var wa=b.createContext(null);wa.displayName="DataRouter";var Ou=b.createContext(null);Ou.displayName="DataRouterState";b.createContext(!1);var j0=b.createContext({isTransitioning:!1});j0.displayName="ViewTransition";var $T=b.createContext(new Map);$T.displayName="Fetchers";var ZT=b.createContext(null);ZT.displayName="Await";var nn=b.createContext(null);nn.displayName="Navigation";var rl=b.createContext(null);rl.displayName="Location";var Fn=b.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var bd=b.createContext(null);bd.displayName="RouteError";function JT(t,{relative:e}={}){Ae(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=b.useContext(nn),{hash:s,pathname:a,search:r}=ol(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:In([n,a])),i.createHref({pathname:l,search:r,hash:s})}function ll(){return b.useContext(rl)!=null}function Ii(){return Ae(ll(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(rl).location}var H0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P0(t){b.useContext(nn).static||b.useLayoutEffect(t)}function V0(){let{isDataRoute:t}=b.useContext(Fn);return t?hw():ew()}function ew(){Ae(ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(wa),{basename:e,navigator:n}=b.useContext(nn),{matches:i}=b.useContext(Fn),{pathname:s}=Ii(),a=JSON.stringify(U0(i)),r=b.useRef(!1);return P0(()=>{r.current=!0}),b.useCallback((o,u={})=>{if(Gt(r.current,H0),!r.current)return;if(typeof o=="number"){n.go(o);return}let h=z0(o,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:In([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,a,s,t])}b.createContext(null);function ol(t,{relative:e}={}){let{matches:n}=b.useContext(Fn),{pathname:i}=Ii(),s=JSON.stringify(U0(n));return b.useMemo(()=>z0(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function tw(t,e){return q0(t,e)}function q0(t,e,n,i,s){var p;Ae(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(nn),{matches:r}=b.useContext(Fn),l=r[r.length-1],o=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let y=f&&f.path||"";G0(u,!f||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let c=Ii(),d;if(e){let y=typeof e=="string"?ys(e):e;Ae(h==="/"||((p=y.pathname)==null?void 0:p.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${y.pathname}" was given in the \`location\` prop.`),d=y}else d=c;let g=d.pathname||"/",C=g;if(h!=="/"){let y=h.replace(/^\//,"").split("/");C="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let E=I0(t,{pathname:C});Gt(f||E!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Gt(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=rw(E&&E.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:In([h,a.encodeLocation?a.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?h:In([h,a.encodeLocation?a.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),r,n,i,s);return e&&m?b.createElement(rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},m):m}function nw(){let t=fw(),e=KT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",t),r=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,r)}var iw=b.createElement(nw,null),sw=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(Fn.Provider,{value:this.props.routeContext},b.createElement(bd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aw({routeContext:t,match:e,children:n}){let i=b.useContext(wa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Fn.Provider,{value:t},n)}function rw(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,r=n==null?void 0:n.errors;if(r!=null){let h=a.findIndex(f=>f.route.id&&(r==null?void 0:r[f.route.id])!==void 0);Ae(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,o=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=h),f.route.id){let{loaderData:c,errors:d}=n,g=f.route.loader&&!c.hasOwnProperty(f.route.id)&&(!d||d[f.route.id]===void 0);if(f.route.lazy||g){l=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}let u=n&&i?(h,f)=>{var c,d;i(h,{location:n.location,params:((d=(c=n.matches)==null?void 0:c[0])==null?void 0:d.params)??{},unstable_pattern:XT(n.matches),errorInfo:f})}:void 0;return a.reduceRight((h,f,c)=>{let d,g=!1,C=null,E=null;n&&(d=r&&f.route.id?r[f.route.id]:void 0,C=f.route.errorElement||iw,l&&(o<0&&c===0?(G0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,E=null):o===c&&(g=!0,E=f.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,c+1)),p=()=>{let y;return d?y=C:g?y=E:f.route.Component?y=b.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=h,b.createElement(aw,{match:f,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||c===0)?b.createElement(sw,{location:n.location,revalidation:n.revalidation,component:C,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:u}):p()},null)}function Sd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lw(t){let e=b.useContext(wa);return Ae(e,Sd(t)),e}function ow(t){let e=b.useContext(Ou);return Ae(e,Sd(t)),e}function uw(t){let e=b.useContext(Fn);return Ae(e,Sd(t)),e}function Ed(t){let e=uw(t),n=e.matches[e.matches.length-1];return Ae(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cw(){return Ed("useRouteId")}function fw(){var i;let t=b.useContext(bd),e=ow("useRouteError"),n=Ed("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function hw(){let{router:t}=lw("useNavigate"),e=Ed("useNavigate"),n=b.useRef(!1);return P0(()=>{n.current=!0}),b.useCallback(async(s,a={})=>{Gt(n.current,H0),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var pg={};function G0(t,e,n){!e&&!pg[t]&&(pg[t]=!0,Gt(!1,n))}b.memo(dw);function dw({routes:t,future:e,state:n,unstable_onError:i}){return q0(t,void 0,n,i,e)}function Qf(t){Ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mw({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:r}){Ae(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:l,navigator:s,static:a,unstable_useTransitions:r,future:{}}),[l,s,a,r]);typeof n=="string"&&(n=ys(n));let{pathname:u="/",search:h="",hash:f="",state:c=null,key:d="default"}=n,g=b.useMemo(()=>{let C=Hn(u,l);return C==null?null:{location:{pathname:C,search:h,hash:f,state:c,key:d},navigationType:i}},[l,u,h,f,c,d,i]);return Gt(g!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:b.createElement(nn.Provider,{value:o},b.createElement(rl.Provider,{children:e,value:g}))}function pw({children:t,location:e}){return tw(Kf(t),e)}function Kf(t,e=[]){let n=[];return b.Children.forEach(t,(i,s)=>{if(!b.isValidElement(i))return;let a=[...e,s];if(i.type===b.Fragment){n.push.apply(n,Kf(i.props.children,a));return}Ae(i.type===Qf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ae(!i.props.index||!i.props.children,"An index route cannot have child routes.");let r={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(r.children=Kf(i.props.children,a)),n.push(r)}),n}var to="get",no="application/x-www-form-urlencoded";function Du(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function gw(t){return Du(t)&&t.tagName.toLowerCase()==="button"}function yw(t){return Du(t)&&t.tagName.toLowerCase()==="form"}function _w(t){return Du(t)&&t.tagName.toLowerCase()==="input"}function vw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bw(t,e){return t.button===0&&(!e||e==="_self")&&!vw(t)}var Ll=null;function Sw(){if(Ll===null)try{new FormData(document.createElement("form"),0),Ll=!1}catch{Ll=!0}return Ll}var Ew=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kc(t){return t!=null&&!Ew.has(t)?(Gt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${no}"`),null):t}function Cw(t,e){let n,i,s,a,r;if(yw(t)){let l=t.getAttribute("action");i=l?Hn(l,e):null,n=t.getAttribute("method")||to,s=kc(t.getAttribute("enctype"))||no,a=new FormData(t)}else if(gw(t)||_w(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||l.getAttribute("action");if(i=o?Hn(o,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||to,s=kc(t.getAttribute("formenctype"))||kc(l.getAttribute("enctype"))||no,a=new FormData(l,t),!Sw()){let{name:u,type:h,value:f}=t;if(h==="image"){let c=u?`${u}.`:"";a.append(`${c}x`,"0"),a.append(`${c}y`,"0")}else u&&a.append(u,f)}}else{if(Du(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=to,i=null,s=no,r=t}return a&&s==="text/plain"&&(r=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tw(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Hn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function ww(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Aw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Nw(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let r=await ww(a,n);return r.links?r.links():[]}return[]}));return Ow(i.flat(1).filter(Aw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function gg(t,e,n,i,s,a){let r=(o,u)=>n[u]?o.route.id!==n[u].route.id:!0,l=(o,u)=>{var h;return n[u].pathname!==o.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==o.params["*"]};return a==="assets"?e.filter((o,u)=>r(o,u)||l(o,u)):a==="data"?e.filter((o,u)=>{var f;let h=i.routes[o.route.id];if(!h||!h.hasLoader)return!1;if(r(o,u)||l(o,u))return!0;if(o.route.shouldRevalidate){let c=o.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof c=="boolean")return c}return!0}):[]}function xw(t,e,{includeHydrateFallback:n}={}){return Rw(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Rw(t){return[...new Set(t)]}function Mw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Ow(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(Mw(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function F0(){let t=b.useContext(wa);return Cd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Dw(){let t=b.useContext(Ou);return Cd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Td=b.createContext(void 0);Td.displayName="FrameworkContext";function Y0(){let t=b.useContext(Td);return Cd(t,"You must render this element inside a <HydratedRouter> element"),t}function Iw(t,e){let n=b.useContext(Td),[i,s]=b.useState(!1),[a,r]=b.useState(!1),{onFocus:l,onBlur:o,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,c=b.useRef(null);b.useEffect(()=>{if(t==="render"&&r(!0),t==="viewport"){let C=m=>{m.forEach(p=>{r(p.isIntersecting)})},E=new IntersectionObserver(C,{threshold:.5});return c.current&&E.observe(c.current),()=>{E.disconnect()}}},[t]),b.useEffect(()=>{if(i){let C=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(C)}}},[i]);let d=()=>{s(!0)},g=()=>{s(!1),r(!1)};return n?t!=="intent"?[a,c,{}]:[a,c,{onFocus:Pa(l,d),onBlur:Pa(o,g),onMouseEnter:Pa(u,d),onMouseLeave:Pa(h,g),onTouchStart:Pa(f,d)}]:[!1,c,{}]}function Pa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function kw({page:t,...e}){let{router:n}=F0(),i=b.useMemo(()=>I0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?b.createElement(Uw,{page:t,matches:i,...e}):null}function Lw(t){let{manifest:e,routeModules:n}=Y0(),[i,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return Nw(t,e,n).then(r=>{a||s(r)}),()=>{a=!0}},[t,e,n]),i}function Uw({page:t,matches:e,...n}){let i=Ii(),{manifest:s,routeModules:a}=Y0(),{basename:r}=F0(),{loaderData:l,matches:o}=Dw(),u=b.useMemo(()=>gg(t,e,o,s,i,"data"),[t,e,o,s,i]),h=b.useMemo(()=>gg(t,e,o,s,i,"assets"),[t,e,o,s,i]),f=b.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let g=new Set,C=!1;if(e.forEach(m=>{var y;let p=s.routes[m.route.id];!p||!p.hasLoader||(!u.some(T=>T.route.id===m.route.id)&&m.route.id in l&&((y=a[m.route.id])!=null&&y.shouldRevalidate)||p.hasClientLoader?C=!0:g.add(m.route.id))}),g.size===0)return[];let E=Tw(t,r,"data");return C&&g.size>0&&E.searchParams.set("_routes",e.filter(m=>g.has(m.route.id)).map(m=>m.route.id).join(",")),[E.pathname+E.search]},[r,l,i,s,u,e,t,a]),c=b.useMemo(()=>xw(h,s),[h,s]),d=Lw(h);return b.createElement(b.Fragment,null,f.map(g=>b.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),c.map(g=>b.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),d.map(({key:g,link:C})=>b.createElement("link",{key:g,nonce:n.nonce,...C})))}function zw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Q0&&(window.__reactRouterVersion="7.10.1")}catch{}function Bw({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=b.useRef();s.current==null&&(s.current=TT({window:i,v5Compat:!0}));let a=s.current,[r,l]=b.useState({action:a.action,location:a.location}),o=b.useCallback(u=>{n===!1?l(u):b.startTransition(()=>l(u))},[n]);return b.useLayoutEffect(()=>a.listen(o),[a,o]),b.createElement(mw,{basename:t,children:e,location:r.location,navigationType:r.action,navigator:a,unstable_useTransitions:n===!0})}var K0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ho=b.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:r,state:l,target:o,to:u,preventScrollReset:h,viewTransition:f,...c},d){let{basename:g,unstable_useTransitions:C}=b.useContext(nn),E=typeof u=="string"&&K0.test(u),m,p=!1;if(typeof u=="string"&&E&&(m=u,Q0))try{let O=new URL(window.location.href),z=u.startsWith("//")?new URL(O.protocol+u):new URL(u),Y=Hn(z.pathname,g);z.origin===O.origin&&Y!=null?u=Y+z.search+z.hash:p=!0}catch{Gt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=JT(u,{relative:s}),[T,I,R]=Iw(i,c),w=Vw(u,{replace:r,state:l,target:o,preventScrollReset:h,relative:s,viewTransition:f,unstable_useTransitions:C});function A(O){e&&e(O),O.defaultPrevented||w(O)}let N=b.createElement("a",{...c,...R,href:m||y,onClick:p||a?e:A,ref:zw(d,I),target:o,"data-discover":!E&&n==="render"?"true":void 0});return T&&!E?b.createElement(b.Fragment,null,N,b.createElement(kw,{page:y})):N});Ho.displayName="Link";var jw=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:r,viewTransition:l,children:o,...u},h){let f=ol(r,{relative:u.relative}),c=Ii(),d=b.useContext(Ou),{navigator:g,basename:C}=b.useContext(nn),E=d!=null&&Qw(f)&&l===!0,m=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,p=c.pathname,y=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;n||(p=p.toLowerCase(),y=y?y.toLowerCase():null,m=m.toLowerCase()),y&&C&&(y=Hn(y,C)||y);const T=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let I=p===m||!s&&p.startsWith(m)&&p.charAt(T)==="/",R=y!=null&&(y===m||!s&&y.startsWith(m)&&y.charAt(m.length)==="/"),w={isActive:I,isPending:R,isTransitioning:E},A=I?e:void 0,N;typeof i=="function"?N=i(w):N=[i,I?"active":null,R?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(w):a;return b.createElement(Ho,{...u,"aria-current":A,className:N,ref:h,style:O,to:r,viewTransition:l},typeof o=="function"?o(w):o)});jw.displayName="NavLink";var Hw=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:r=to,action:l,onSubmit:o,relative:u,preventScrollReset:h,viewTransition:f,...c},d)=>{let{unstable_useTransitions:g}=b.useContext(nn),C=Fw(),E=Yw(l,{relative:u}),m=r.toLowerCase()==="get"?"get":"post",p=typeof l=="string"&&K0.test(l),y=T=>{if(o&&o(T),T.defaultPrevented)return;T.preventDefault();let I=T.nativeEvent.submitter,R=(I==null?void 0:I.getAttribute("formmethod"))||r,w=()=>C(I||T.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:s,state:a,relative:u,preventScrollReset:h,viewTransition:f});g&&n!==!1?b.startTransition(()=>w()):w()};return b.createElement("form",{ref:d,method:m,action:E,onSubmit:i?o:y,...c,"data-discover":!p&&t==="render"?"true":void 0})});Hw.displayName="Form";function Pw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X0(t){let e=b.useContext(wa);return Ae(e,Pw(t)),e}function Vw(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_useTransitions:l}={}){let o=V0(),u=Ii(),h=ol(t,{relative:a});return b.useCallback(f=>{if(bw(f,e)){f.preventDefault();let c=n!==void 0?n:Lr(u)===Lr(h),d=()=>o(t,{replace:c,state:i,preventScrollReset:s,relative:a,viewTransition:r});l?b.startTransition(()=>d()):d()}},[u,o,h,n,i,e,t,s,a,r,l])}var qw=0,Gw=()=>`__${String(++qw)}__`;function Fw(){let{router:t}=X0("useSubmit"),{basename:e}=b.useContext(nn),n=cw(),i=t.fetch,s=t.navigate;return b.useCallback(async(a,r={})=>{let{action:l,method:o,encType:u,formData:h,body:f}=Cw(a,e);if(r.navigate===!1){let c=r.fetcherKey||Gw();await i(c,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||u,flushSync:r.flushSync})}else await s(r.action||l,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,s,e,n])}function Yw(t,{relative:e}={}){let{basename:n}=b.useContext(nn),i=b.useContext(Fn);Ae(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...ol(t||".",{relative:e})},r=Ii();if(t==null){a.search=r.search;let l=new URLSearchParams(a.search),o=l.getAll("index");if(o.some(h=>h==="")){l.delete("index"),o.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:In([n,a.pathname])),Lr(a)}function Qw(t,{relative:e}={}){let n=b.useContext(j0);Ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=X0("useViewTransitionState"),s=ol(t,{relative:e});if(!n.isTransitioning)return!1;let a=Hn(n.currentLocation.pathname,i)||n.currentLocation.pathname,r=Hn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return jo(s.pathname,r)!=null||jo(s.pathname,a)!=null}const Kw="modulepreload",Xw=function(t){return"/shopping-spree/"+t},yg={},W0=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(o=>{if(o=Xw(o),o in yg)return;yg[o]=!0;const u=o.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Kw,u||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((c,d)=>{f.addEventListener("load",c),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return s.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Ww=()=>{};var _g={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw Aa(e)},Aa=function(t){return new Error("Firebase Database ("+$0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$w=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],r=t[n++],l=t[n++],o=((s&7)<<18|(a&63)<<12|(r&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(o&1023))}else{const a=t[n++],r=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|r&63)}}return e.join("")},wd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],r=s+1<t.length,l=r?t[s+1]:0,o=s+2<t.length,u=o?t[s+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let c=(l&15)<<2|u>>6,d=u&63;o||(d=64,r||(c=64)),i.push(n[h],n[f],n[c],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$w(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||l==null||u==null||f==null)throw new Zw;const c=a<<2|l>>4;if(i.push(c),u!==64){const d=l<<4&240|u>>2;if(i.push(d),f!==64){const g=u<<6&192|f;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J0=function(t){const e=Z0(t);return wd.encodeByteArray(e,!0)},Po=function(t){return J0(t).replace(/\./g,"")},Vo=function(t){try{return wd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){return eb(void 0,t)}function eb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!eA(n)||(t[n]=eb(t[n],e[n]));return t}function eA(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=()=>tA().__FIREBASE_DEFAULTS__,iA=()=>{if(typeof process>"u"||typeof _g>"u")return;const t=_g.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vo(t[1]);return e&&JSON.parse(e)},Ad=()=>{try{return Ww()||nA()||iA()||sA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tb=t=>{var e,n;return(n=(e=Ad())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aA=t=>{const e=tb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},nb=()=>{var t;return(t=Ad())==null?void 0:t.config},ib=t=>{var e;return(e=Ad())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Po(JSON.stringify(n)),Po(JSON.stringify(r)),""].join(".")}const dr={};function lA(){const t={prod:[],emulator:[]};for(const e of Object.keys(dr))dr[e]?t.emulator.push(e):t.prod.push(e);return t}function oA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vg=!1;function ab(t,e){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||dr[t]===e||dr[t]||vg)return;dr[t]=e;function n(c){return`__firebase__banner__${c}`}const i="__firebase__banner",a=lA().prod.length>0;function r(){const c=document.getElementById(i);c&&c.remove()}function l(c){c.style.display="flex",c.style.background="#7faaf0",c.style.position="fixed",c.style.bottom="5px",c.style.left="5px",c.style.padding=".5em",c.style.borderRadius="5px",c.style.alignItems="center"}function o(c,d){c.setAttribute("width","24"),c.setAttribute("id",d),c.setAttribute("height","24"),c.setAttribute("viewBox","0 0 24 24"),c.setAttribute("fill","none"),c.style.marginLeft="-6px"}function u(){const c=document.createElement("span");return c.style.cursor="pointer",c.style.marginLeft="16px",c.style.fontSize="24px",c.innerHTML=" &times;",c.onclick=()=>{vg=!0,r()},c}function h(c,d){c.setAttribute("id",d),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline"}function f(){const c=oA(i),d=n("text"),g=document.getElementById(d)||document.createElement("span"),C=n("learnmore"),E=document.getElementById(C)||document.createElement("a"),m=n("preprendIcon"),p=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.created){const y=c.element;l(y),h(E,C);const T=u();o(p,m),y.append(p,g,E,T),document.body.appendChild(y)}a?(g.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function uA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fA(){const t=ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hA(){return $0.NODE_ADMIN===!0}function dA(){try{return typeof indexedDB=="object"}catch{return!1}}function mA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="FirebaseError";class ki extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pA,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ul.prototype.create)}}class ul{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],r=a?gA(a,i):"Error",l=`${this.serviceName}: ${r} (${s}).`;return new ki(s,l,i)}}function gA(t,e){return t.replace(yA,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const yA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t){return JSON.parse(t)}function Pe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=function(t){let e={},n={},i={},s="";try{const a=t.split(".");e=Ur(Vo(a[0])||""),n=Ur(Vo(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},_A=function(t){const e=lb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vA=function(t){const e=lb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ca(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Xf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qo(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function rs(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],r=e[s];if(bg(a)&&bg(r)){if(!rs(a,r))return!1}else if(a!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function bg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const c=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(c<<1|c>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],r=this.chain_[2],l=this.chain_[3],o=this.chain_[4],u,h;for(let f=0;f<80;f++){f<40?f<20?(u=l^a&(r^l),h=1518500249):(u=a^r^l,h=1859775393):f<60?(u=a&r|l&(a|r),h=2400959708):(u=a^r^l,h=3395469782);const c=(s<<5|s>>>27)+u+o+h+i[f]&4294967295;o=l,l=r,r=(a<<30|a>>>2)&4294967295,a=s,s=c}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const a=this.buf_;let r=this.inbuf_;for(;s<n;){if(r===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[r]=e.charCodeAt(s),++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}else for(;s<n;)if(a[r]=e[s],++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[s]>>a&255,++i;return e}}function SA(t,e){const n=new EA(t,e);return n.subscribe.bind(n)}class EA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");CA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Lc),s.error===void 0&&(s.error=Lc),s.complete===void 0&&(s.complete=Lc);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lc(){}function xd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const a=s-55296;i++,D(i<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(i)-56320;s=65536+(a<<10)+r}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ku=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class ls{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Iu;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NA(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);i===l&&r.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(t){return t===Vi?void 0:t}function NA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const RA={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},MA=fe.INFO,OA={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},DA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=OA[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=MA,this._logHandler=DA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const IA=(t,e)=>e.some(n=>t instanceof n);let Sg,Eg;function kA(){return Sg||(Sg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LA(){return Eg||(Eg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ob=new WeakMap,Wf=new WeakMap,ub=new WeakMap,Uc=new WeakMap,Md=new WeakMap;function UA(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",r)},a=()=>{n(vi(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&ob.set(n,t)}).catch(()=>{}),Md.set(e,t),e}function zA(t){if(Wf.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",r),t.removeEventListener("abort",r)},a=()=>{n(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",r),t.addEventListener("abort",r)});Wf.set(t,e)}let $f={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ub.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BA(t){$f=t($f)}function jA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(zc(this),e,...n);return ub.set(i,e.sort?e.sort():[e]),vi(i)}:LA().includes(t)?function(...e){return t.apply(zc(this),e),vi(ob.get(this))}:function(...e){return vi(t.apply(zc(this),e))}}function HA(t){return typeof t=="function"?jA(t):(t instanceof IDBTransaction&&zA(t),IA(t,kA())?new Proxy(t,$f):t)}function vi(t){if(t instanceof IDBRequest)return UA(t);if(Uc.has(t))return Uc.get(t);const e=HA(t);return e!==t&&(Uc.set(t,e),Md.set(e,t)),e}const zc=t=>Md.get(t);function PA(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const r=indexedDB.open(t,e),l=vi(r);return i&&r.addEventListener("upgradeneeded",o=>{i(vi(r.result),o.oldVersion,o.newVersion,vi(r.transaction),o)}),n&&r.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),l.then(o=>{a&&o.addEventListener("close",()=>a()),s&&o.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const VA=["get","getKey","getAll","getAllKeys","count"],qA=["put","add","delete","clear"],Bc=new Map;function Cg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bc.get(e))return Bc.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=qA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||VA.includes(n)))return;const a=async function(r,...l){const o=this.transaction(r,s?"readwrite":"readonly");let u=o.store;return i&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&o.done]))[0]};return Bc.set(e,a),a}BA(t=>({...t,get:(e,n,i)=>Cg(e,n)||t.get(e,n,i),has:(e,n)=>!!Cg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function FA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",Tg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new Rd("@firebase/app"),YA="@firebase/app-compat",QA="@firebase/analytics-compat",KA="@firebase/analytics",XA="@firebase/app-check-compat",WA="@firebase/app-check",$A="@firebase/auth",ZA="@firebase/auth-compat",JA="@firebase/database",eN="@firebase/data-connect",tN="@firebase/database-compat",nN="@firebase/functions",iN="@firebase/functions-compat",sN="@firebase/installations",aN="@firebase/installations-compat",rN="@firebase/messaging",lN="@firebase/messaging-compat",oN="@firebase/performance",uN="@firebase/performance-compat",cN="@firebase/remote-config",fN="@firebase/remote-config-compat",hN="@firebase/storage",dN="@firebase/storage-compat",mN="@firebase/firestore",pN="@firebase/ai",gN="@firebase/firestore-compat",yN="firebase",_N="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",vN={[Zf]:"fire-core",[YA]:"fire-core-compat",[KA]:"fire-analytics",[QA]:"fire-analytics-compat",[WA]:"fire-app-check",[XA]:"fire-app-check-compat",[$A]:"fire-auth",[ZA]:"fire-auth-compat",[JA]:"fire-rtdb",[eN]:"fire-data-connect",[tN]:"fire-rtdb-compat",[nN]:"fire-fn",[iN]:"fire-fn-compat",[sN]:"fire-iid",[aN]:"fire-iid-compat",[rN]:"fire-fcm",[lN]:"fire-fcm-compat",[oN]:"fire-perf",[uN]:"fire-perf-compat",[cN]:"fire-rc",[fN]:"fire-rc-compat",[hN]:"fire-gcs",[dN]:"fire-gcs-compat",[mN]:"fire-fst",[gN]:"fire-fst-compat",[pN]:"fire-vertex","fire-js":"fire-js",[yN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Map,bN=new Map,eh=new Map;function wg(t,e){try{t.container.addComponent(e)}catch(n){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(eh.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;eh.set(e,t);for(const n of Go.values())wg(n,t);for(const n of bN.values())wg(n,t);return!0}function Od(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new ul("app","Firebase",SN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=_N;function cb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Jf,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw bi.create("bad-app-name",{appName:String(s)});if(n||(n=nb()),!n)throw bi.create("no-options");const a=Go.get(s);if(a){if(rs(n,a.options)&&rs(i,a.config))return a;throw bi.create("duplicate-app",{appName:s})}const r=new xA(s);for(const o of eh.values())r.addComponent(o);const l=new EN(n,i,r);return Go.set(s,l),l}function fb(t=Jf){const e=Go.get(t);if(!e&&t===Jf&&nb())return cb();if(!e)throw bi.create("no-app",{appName:t});return e}function Si(t,e,n){let i=vN[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const r=[`Unable to register library "${i}" with version "${e}":`];s&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&r.push("and"),a&&r.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(r.join(" "));return}fa(new ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="firebase-heartbeat-database",TN=1,zr="firebase-heartbeat-store";let jc=null;function hb(){return jc||(jc=PA(CN,TN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zr)}catch(n){console.warn(n)}}}}).catch(t=>{throw bi.create("idb-open",{originalErrorMessage:t.message})})),jc}async function wN(t){try{const n=(await hb()).transaction(zr),i=await n.objectStore(zr).get(db(t));return await n.done,i}catch(e){if(e instanceof ki)Pn.warn(e.message);else{const n=bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pn.warn(n.message)}}}async function Ag(t,e){try{const i=(await hb()).transaction(zr,"readwrite");await i.objectStore(zr).put(e,db(t)),await i.done}catch(n){if(n instanceof ki)Pn.warn(n.message);else{const i=bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pn.warn(i.message)}}}function db(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1024,NN=30;class xN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ng();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(r=>r.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>NN){const r=ON(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Pn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ng(),{heartbeatsToSend:i,unsentEntries:s}=RN(this._heartbeatsCache.heartbeats),a=Po(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Pn.warn(n),""}}}function Ng(){return new Date().toISOString().substring(0,10)}function RN(t,e=AN){const n=[];let i=t.slice();for(const s of t){const a=n.find(r=>r.agent===s.agent);if(a){if(a.dates.push(s.date),xg(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class MN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dA()?mA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ag(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ag(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xg(t){return Po(JSON.stringify({version:2,heartbeats:t})).length}function ON(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){fa(new ls("platform-logger",e=>new GA(e),"PRIVATE")),fa(new ls("heartbeat",e=>new xN(e),"PRIVATE")),Si(Zf,Tg,t),Si(Zf,Tg,"esm2020"),Si("fire-js","")}DN("");var IN="firebase",kN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(IN,kN,"app");function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LN=mb,pb=new ul("auth","Firebase",mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new Rd("@firebase/auth");function UN(t,...e){Fo.logLevel<=fe.WARN&&Fo.warn(`Auth (${Ra}): ${t}`,...e)}function io(t,...e){Fo.logLevel<=fe.ERROR&&Fo.error(`Auth (${Ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,...e){throw Id(t,...e)}function Jt(t,...e){return Id(t,...e)}function Dd(t,e,n){const i={...LN(),[e]:n};return new ul("auth","Firebase",i).create(e,{appName:t.name})}function Ji(t){return Dd(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zN(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&cn(t,"argument-error"),Dd(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Id(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return pb.create(t,...e)}function F(t,e,...n){if(!t)throw Id(e,...n)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw io(e),new Error(e)}function Vn(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function BN(){return Rg()==="http:"||Rg()==="https:"}function Rg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BN()||cA()||"connection"in navigator)?navigator.onLine:!0}function HN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=Nd()||rb()}get(){return jN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qN=new cl(3e4,6e4);function Ld(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ma(t,e,n,i,s={}){return yb(t,s,async()=>{let a={},r={};i&&(e==="GET"?r=i:a={body:JSON.stringify(i)});const l=xa({key:t.config.apiKey,...r}).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:o,...a};return uA()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Na(t.emulatorConfig.host)&&(u.credentials="include"),gb.fetch()(await _b(t,t.config.apiHost,n,l),u)})}async function yb(t,e,n){t._canInitEmulator=!1;const i={...PN,...e};try{const s=new FN(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const r=await a.json();if("needConfirmation"in r)throw Ul(t,"account-exists-with-different-credential",r);if(a.ok&&!("errorMessage"in r))return r;{const l=a.ok?r.errorMessage:r.error.message,[o,u]=l.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ul(t,"credential-already-in-use",r);if(o==="EMAIL_EXISTS")throw Ul(t,"email-already-in-use",r);if(o==="USER_DISABLED")throw Ul(t,"user-disabled",r);const h=i[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Dd(t,h,u);cn(t,h)}}catch(s){if(s instanceof ki)throw s;cn(t,"network-request-failed",{message:String(s)})}}async function GN(t,e,n,i,s={}){const a=await Ma(t,e,n,i,s);return"mfaPendingCredential"in a&&cn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function _b(t,e,n,i){const s=`${e}${n}?${i}`,a=t,r=a.config.emulator?kd(t.config,s):`${t.config.apiScheme}://${s}`;return VN.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(r).toString():r}class FN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Jt(this.auth,"network-request-failed")),qN.get())})}}function Ul(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Jt(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e){return Ma(t,"POST","/v1/accounts:delete",e)}async function Yo(t,e){return Ma(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QN(t,e=!1){const n=Mt(t),i=await n.getIdToken(e),s=Ud(i);F(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,r=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:mr(Hc(s.auth_time)),issuedAtTime:mr(Hc(s.iat)),expirationTime:mr(Hc(s.exp)),signInProvider:r||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Hc(t){return Number(t)*1e3}function Ud(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return io("JWT malformed, contained fewer than 3 sections"),null;try{const s=Vo(n);return s?JSON.parse(s):(io("Failed to decode base64 JWT payload"),null)}catch(s){return io("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Mg(t){const e=Ud(t);return F(e,"internal-error"),F(typeof e.exp<"u","internal-error"),F(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Br(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ki&&KN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function KN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t){var f;const e=t.auth,n=await t.getIdToken(),i=await Br(t,Yo(e,{idToken:n}));F(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(f=s.providerUserInfo)!=null&&f.length?vb(s.providerUserInfo):[],r=$N(t.providerData,a),l=t.isAnonymous,o=!(t.email&&s.passwordHash)&&!(r!=null&&r.length),u=l?o:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new nh(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function WN(t){const e=Mt(t);await Qo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $N(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function vb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t,e){const n=await yb(t,{},async()=>{const i=xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,r=await _b(t,s,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:l,body:i};return t.emulatorConfig&&Na(t.emulatorConfig.host)&&(o.credentials="include"),gb.fetch()(r,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JN(t,e){return Ma(t,"POST","/v2/accounts:revokeToken",Ld(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){F(e.idToken,"internal-error"),F(typeof e.idToken<"u","internal-error"),F(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){F(e.length!==0,"internal-error");const n=Mg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(F(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await ZN(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,r=new Qs;return i&&(F(typeof i=="string","internal-error",{appName:e}),r.refreshToken=i),s&&(F(typeof s=="string","internal-error",{appName:e}),r.accessToken=s),a&&(F(typeof a=="number","internal-error",{appName:e}),r.expirationTime=a),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,e){F(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $t{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new XN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Br(this,this.stsTokenManager.getToken(this.auth,e));return F(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QN(this,e)}reload(){return WN(this)}_assign(e){this!==e&&(F(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $t({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Qo(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await Br(this,YN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,r=n.photoURL??void 0,l=n.tenantId??void 0,o=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:c,isAnonymous:d,providerData:g,stsTokenManager:C}=n;F(f&&C,e,"internal-error");const E=Qs.fromJSON(this.name,C);F(typeof f=="string",e,"internal-error"),Kn(i,e.name),Kn(s,e.name),F(typeof c=="boolean",e,"internal-error"),F(typeof d=="boolean",e,"internal-error"),Kn(a,e.name),Kn(r,e.name),Kn(l,e.name),Kn(o,e.name),Kn(u,e.name),Kn(h,e.name);const m=new $t({uid:f,auth:e,email:s,emailVerified:c,displayName:i,isAnonymous:d,photoURL:r,phoneNumber:a,tenantId:l,stsTokenManager:E,createdAt:u,lastLoginAt:h});return g&&Array.isArray(g)&&(m.providerData=g.map(p=>({...p}))),o&&(m._redirectEventId=o),m}static async _fromIdTokenResponse(e,n,i=!1){const s=new Qs;s.updateFromServerResponse(n);const a=new $t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Qo(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];F(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?vb(s.providerUserInfo):[],r=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new Qs;l.updateFromIdToken(i);const o=new $t({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:r}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(o,u),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=new Map;function xn(t){Vn(t instanceof Function,"Expected a class definition");let e=Og.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Og.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bb.type="NONE";const Dg=bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e,n){return`firebase:${t}:${e}:${n}`}class Ks{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=so(this.userKey,s.apiKey,a),this.fullPersistenceKey=so("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yo(this.auth,{idToken:e}).catch(()=>{});return n?$t._fromGetAccountInfoResponse(this.auth,n,e):null}return $t._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ks(xn(Dg),e,i);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=s[0]||xn(Dg);const r=so(i,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(r);if(h){let f;if(typeof h=="string"){const c=await Yo(e,{idToken:h}).catch(()=>{});if(!c)break;f=await $t._fromGetAccountInfoResponse(e,c,h)}else f=$t._fromJSON(e,h);u!==a&&(l=f),a=u;break}}catch{}const o=s.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!o.length?new Ks(a,e,i):(a=o[0],l&&await a._set(r,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(r)}catch{}})),new Ks(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ab(e))return"Blackberry";if(Nb(e))return"Webos";if(Eb(e))return"Safari";if((e.includes("chrome/")||Cb(e))&&!e.includes("edge/"))return"Chrome";if(wb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Sb(t=ot()){return/firefox\//i.test(t)}function Eb(t=ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cb(t=ot()){return/crios\//i.test(t)}function Tb(t=ot()){return/iemobile/i.test(t)}function wb(t=ot()){return/android/i.test(t)}function Ab(t=ot()){return/blackberry/i.test(t)}function Nb(t=ot()){return/webos/i.test(t)}function zd(t=ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ex(t=ot()){var e;return zd(t)&&!!((e=window.navigator)!=null&&e.standalone)}function tx(){return fA()&&document.documentMode===10}function xb(t=ot()){return zd(t)||wb(t)||Nb(t)||Ab(t)||/windows phone/i.test(t)||Tb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e=[]){let n;switch(t){case"Browser":n=Ig(ot());break;case"Worker":n=`${Ig(ot())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((r,l)=>{try{const o=e(a);r(o)}catch(o){l(o)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t,e={}){return Ma(t,"GET","/v2/passwordPolicy",Ld(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=6;class ax{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kg(this),this.idTokenSubscription=new kg(this),this.beforeStateQueue=new nx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xn(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yo(this,{idToken:e}),i=await $t._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Xt(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=i==null?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!r||r===l)&&(o!=null&&o.user)&&(i=o.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(r){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return F(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(Ji(this));const n=e?Mt(e):null;return n&&F(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&F(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ix(this),n=new ax(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ul("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await JN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xn(e)||this._popupRedirectResolver;F(n,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[xn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let r=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(F(l,this,"internal-error"),l.then(()=>{r||a(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,i,s);return()=>{r=!0,o()}}else{const o=e.addObserver(n);return()=>{r=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Lu(t){return Mt(t)}class kg{constructor(e){this.auth=e,this.observer=null,this.addObserver=SA(n=>this.observer=n)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lx(t){Bd=t}function ox(t){return Bd.loadJS(t)}function ux(){return Bd.gapiScript}function cx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e){const n=Od(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(rs(a,e??{}))return s;cn(s,"already-initialized")}return n.initialize({options:e})}function hx(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(xn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function dx(t,e,n){const i=Lu(t);F(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=Mb(e),{host:r,port:l}=mx(e),o=l===null?"":`:${l}`,u={url:`${a}//${r}${o}/`},h=Object.freeze({host:r,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){F(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),F(rs(u,i.config.emulator)&&rs(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Na(r)?(sb(`${a}//${r}${o}`),ab("Auth",!0)):px()}function Mb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mx(t){const e=Mb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Lg(i.substr(a.length+1))}}else{const[a,r]=i.split(":");return{host:a,port:Lg(r)}}}function Lg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function px(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e){return GN(t,"POST","/v1/accounts:signInWithIdp",Ld(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="http://localhost";class os extends Ob{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const r=new os(i,s);return r.idToken=a.idToken||void 0,r.accessToken=a.accessToken||void 0,r.secret=a.secret,r.nonce=a.nonce,r.pendingToken=a.pendingToken||null,r}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Xs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}buildRequest(){const e={requestUri:gx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends jd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends fl{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn extends fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return os._fromParams({providerId:Cn.PROVIDER_ID,signInMethod:Cn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cn.credentialFromTaggedObject(e)}static credentialFromError(e){return Cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Cn.credential(n,i)}catch{return null}}}Cn.GOOGLE_SIGN_IN_METHOD="google.com";Cn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends fl{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.GITHUB_SIGN_IN_METHOD="github.com";ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends fl{constructor(){super("twitter.com")}static credential(e,n){return os._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return si.credential(n,i)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await $t._fromIdTokenResponse(e,i,s),r=Ug(i);return new ha({user:a,providerId:r,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Ug(i);return new ha({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Ug(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends ki{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Ko.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Ko(e,n,i,s)}}function Db(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ko._fromErrorAndOperation(t,a,e,i):a})}async function yx(t,e,n=!1){const i=await Br(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ha._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(t,e,n=!1){const{auth:i}=t;if(Xt(i.app))return Promise.reject(Ji(i));const s="reauthenticate";try{const a=await Br(t,Db(i,s,e,t),n);F(a.idToken,i,"internal-error");const r=Ud(a.idToken);F(r,i,"internal-error");const{sub:l}=r;return F(t.uid===l,i,"user-mismatch"),ha._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&cn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(t,e,n=!1){if(Xt(t.app))return Promise.reject(Ji(t));const i="signIn",s=await Db(t,i,e),a=await ha._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}function bx(t,e,n,i){return Mt(t).onIdTokenChanged(e,n,i)}function Sx(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function Ib(t,e,n,i){return Mt(t).onAuthStateChanged(e,n,i)}function kb(t){return Mt(t).signOut()}const Xo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xo,"1"),this.storage.removeItem(Xo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=1e3,Cx=10;class Ub extends Lb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((r,l,o)=>{this.notifyListeners(r,o)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const r=this.storage.getItem(i);!n&&this.localCache[i]===r||this.notifyListeners(i,r)},a=this.storage.getItem(i);tx()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Cx):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Ex)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ub.type="LOCAL";const Tx=Ub;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb extends Lb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zb.type="SESSION";const Bb=zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Uu(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,r=this.handlersMap[s];if(!(r!=null&&r.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(r).map(async u=>u(n.origin,a)),o=await wx(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,r;return new Promise((l,o)=>{const u=Hd("",20);s.port1.start();const h=setTimeout(()=>{o(new Error("unsupported_event"))},i);r={messageChannel:s,onMessage(f){const c=f;if(c.data.eventId===u)switch(c.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(c.data.response);break;default:clearTimeout(h),clearTimeout(a),o(new Error("invalid_response"));break}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return window}function Nx(t){un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}async function xx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Mx(){return jb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firebaseLocalStorageDb",Ox=1,Wo="firebaseLocalStorage",Pb="fbase_key";class hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zu(t,e){return t.transaction([Wo],e?"readwrite":"readonly").objectStore(Wo)}function Dx(){const t=indexedDB.deleteDatabase(Hb);return new hl(t).toPromise()}function ih(){const t=indexedDB.open(Hb,Ox);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Wo,{keyPath:Pb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Wo)?e(i):(i.close(),await Dx(),e(await ih()))})})}async function zg(t,e,n){const i=zu(t,!0).put({[Pb]:e,value:n});return new hl(i).toPromise()}async function Ix(t,e){const n=zu(t,!1).get(e),i=await new hl(n).toPromise();return i===void 0?null:i.value}function Bg(t,e){const n=zu(t,!0).delete(e);return new hl(n).toPromise()}const kx=800,Lx=3;class Vb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ih(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Lx)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uu._getInstance(Mx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await xx(),!this.activeServiceWorker)return;this.sender=new Ax(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ih();return await zg(e,Xo,"1"),await Bg(e,Xo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>zg(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Ix(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=zu(s,!1).getAll();return new hl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vb.type="LOCAL";const Ux=Vb;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t,e){return e?xn(e):(F(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends Ob{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zx(t){return vx(t.auth,new Pd(t),t.bypassAuthState)}function Bx(t){const{auth:e,user:n}=t;return F(n,e,"internal-error"),_x(n,new Pd(t),t.bypassAuthState)}async function jx(t){const{auth:e,user:n}=t;return F(n,e,"internal-error"),yx(n,new Pd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:r,type:l}=e;if(r){this.reject(r);return}const o={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(o))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zx;case"linkViaPopup":case"linkViaRedirect":return jx;case"reauthViaPopup":case"reauthViaRedirect":return Bx;default:cn(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new cl(2e3,1e4);async function Px(t,e,n){if(Xt(t.app))return Promise.reject(Jt(t,"operation-not-supported-in-this-environment"));const i=Lu(t);zN(t,e,jd);const s=qb(i,n);return new Fi(i,"signInViaPopup",e,s).executeNotNull()}class Fi extends Gb{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Fi.currentPopupAction&&Fi.currentPopupAction.cancel(),Fi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return F(e,this.auth,"internal-error"),e}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const e=Hd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hx.get())};e()}}Fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="pendingRedirect",ao=new Map;class qx extends Gb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ao.get(this.auth._key());if(!e){try{const i=await Gx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ao.set(this.auth._key(),e)}return this.bypassAuthState||ao.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gx(t,e){const n=Qx(e),i=Yx(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function Fx(t,e){ao.set(t._key(),e)}function Yx(t){return xn(t._redirectPersistence)}function Qx(t){return so(Vx,t.config.apiKey,t.name)}async function Kx(t,e,n=!1){if(Xt(t.app))return Promise.reject(Ji(t));const i=Lu(t),s=qb(i,e),r=await new qx(i,s,n).execute();return r&&!n&&(delete r.user._redirectEventId,await i._persistUserIfCurrent(r.user),await i._setRedirectUser(null,e)),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=10*60*1e3;class Wx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$x(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Fb(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Jt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xx&&this.cachedEventUids.clear(),this.cachedEventUids.has(jg(e))}saveEventToCache(e){this.cachedEventUids.add(jg(e)),this.lastProcessedEventTime=Date.now()}}function jg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Fb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $x(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t,e={}){return Ma(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eR=/^https?/;async function tR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Zx(t);for(const n of e)try{if(nR(n))return}catch{}cn(t,"unauthorized-domain")}function nR(t){const e=th(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return r.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&r.hostname===i}if(!eR.test(n))return!1;if(Jx.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new cl(3e4,6e4);function Hg(){const t=un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sR(t){return new Promise((e,n)=>{var s,a,r;function i(){Hg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hg(),n(Jt(t,"network-request-failed"))},timeout:iR.get()})}if((a=(s=un().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((r=un().gapi)!=null&&r.load)i();else{const l=cx("iframefcb");return un()[l]=()=>{gapi.load?i():n(Jt(t,"network-request-failed"))},ox(`${ux()}?onload=${l}`).catch(o=>n(o))}}).catch(e=>{throw ro=null,e})}let ro=null;function aR(t){return ro=ro||sR(t),ro}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new cl(5e3,15e3),lR="__/auth/iframe",oR="emulator/auth/iframe",uR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fR(t){const e=t.config;F(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kd(e,oR):`https://${t.config.authDomain}/${lR}`,i={apiKey:e.apiKey,appName:t.name,v:Ra},s=cR.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${xa(i).slice(1)}`}async function hR(t){const e=await aR(t),n=un().gapi;return F(n,t,"internal-error"),e.open({where:document.body,url:fR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uR,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const r=Jt(t,"network-request-failed"),l=un().setTimeout(()=>{a(r)},rR.get());function o(){un().clearTimeout(l),s(i)}i.ping(o).then(o,()=>{a(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,pR=600,gR="_blank",yR="http://localhost";class Pg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(t,e,n,i=mR,s=pR){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),r=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const o={...dR,width:i.toString(),height:s.toString(),top:a,left:r},u=ot().toLowerCase();n&&(l=Cb(u)?gR:n),Sb(u)&&(e=e||yR,o.scrollbars="yes");const h=Object.entries(o).reduce((c,[d,g])=>`${c}${d}=${g},`,"");if(ex(u)&&l!=="_self")return vR(e||"",l),new Pg(null);const f=window.open(e||"",l,h);F(f,t,"popup-blocked");try{f.focus()}catch{}return new Pg(f)}function vR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="__/auth/handler",SR="emulator/auth/handler",ER=encodeURIComponent("fac");async function Vg(t,e,n,i,s,a){F(t.config.authDomain,t,"auth-domain-config-required"),F(t.config.apiKey,t,"invalid-api-key");const r={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ra,eventId:s};if(e instanceof jd){e.setDefaultLanguage(t.languageCode),r.providerId=e.providerId||"",Xf(e.getCustomParameters())||(r.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))r[h]=f}if(e instanceof fl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(r.scopes=h.join(","))}t.tenantId&&(r.tid=t.tenantId);const l=r;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const o=await t._getAppCheckToken(),u=o?`#${ER}=${encodeURIComponent(o)}`:"";return`${CR(t)}?${xa(l).slice(1)}${u}`}function CR({config:t}){return t.emulator?kd(t,SR):`https://${t.authDomain}/${bR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="webStorageSupport";class TR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bb,this._completeRedirectFn=Kx,this._overrideRedirectResult=Fx}async _openPopup(e,n,i,s){var r;Vn((r=this.eventManagers[e._key()])==null?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await Vg(e,n,i,th(),s);return _R(e,a,Hd())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await Vg(e,n,i,th(),s);return Nx(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Vn(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await hR(e),i=new Wx(e);return n.register("authEvent",s=>(F(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pc,{type:Pc},s=>{var r;const a=(r=s==null?void 0:s[0])==null?void 0:r[Pc];a!==void 0&&n(!!a),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xb()||Eb()||zd()}}const wR=TR;var qg="@firebase/auth",Gg="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xR(t){fa(new ls("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:r,authDomain:l}=i.options;F(r&&!r.includes(":"),"invalid-api-key",{appName:i.name});const o={apiKey:r,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rb(t)},u=new rx(i,s,a,o);return hx(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),fa(new ls("auth-internal",e=>{const n=Lu(e.getProvider("auth").getImmediate());return(i=>new AR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(qg,Gg,NR(t)),Si(qg,Gg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=5*60,MR=ib("authIdTokenMaxAge")||RR;let Fg=null;const OR=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>MR)return;const s=n==null?void 0:n.token;Fg!==s&&(Fg=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function DR(t=fb()){const e=Od(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fx(t,{popupRedirectResolver:wR,persistence:[Ux,Tx,Bb]}),i=ib("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const r=OR(a.toString());Sx(n,r,()=>r(n.currentUser)),bx(n,l=>r(l))}}const s=tb("auth");return s&&dx(n,`http://${s}`),n}function IR(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}lx({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=Jt("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",IR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xR("Browser");var Yg={};const Qg="@firebase/database",Kg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yb="";function kR(t){Yb=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ur(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new LR(e)}}catch{}return new UR},Yi=Qb("localStorage"),zR=Qb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Rd("@firebase/database"),BR=function(){let t=1;return function(){return t++}}(),Kb=function(t){const e=TA(t),n=new bA;n.update(e);const i=n.digest();return wd.encodeByteArray(i)},dl=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=dl.apply(null,i):typeof i=="object"?e+=Pe(i):e+=i,e+=" "}return e};let pr=null,Xg=!0;const jR=function(t,e){D(!0,"Can't turn on custom loggers persistently."),Ws.logLevel=fe.VERBOSE,pr=Ws.log.bind(Ws)},$e=function(...t){if(Xg===!0&&(Xg=!1,pr===null&&zR.get("logging_enabled")===!0&&jR()),pr){const e=dl.apply(null,t);pr(e)}},ml=function(t){return function(...e){$e(t,...e)}},sh=function(...t){const e="FIREBASE INTERNAL ERROR: "+dl(...t);Ws.error(e)},qn=function(...t){const e=`FIREBASE FATAL ERROR: ${dl(...t)}`;throw Ws.error(e),new Error(e)},yt=function(...t){const e="FIREBASE WARNING: "+dl(...t);Ws.warn(e)},HR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},PR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},da="[MIN_NAME]",us="[MAX_NAME]",_s=function(t,e){if(t===e)return 0;if(t===da||e===us)return-1;if(e===da||t===us)return 1;{const n=Wg(t),i=Wg(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},VR=function(t,e){return t===e?0:t<e?-1:1},Va=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pe(e))},qd=function(t){if(typeof t!="object"||t===null)return Pe(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Pe(e[i]),n+=":",n+=qd(t[e[i]]);return n+="}",n},Xb=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Wb=function(t){D(!Vd(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,a,r,l,o;t===0?(a=0,r=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=l+i,r=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,r=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(o=n;o;o-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(o=e;o;o-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(s?1:0),u.reverse();const h=u.join("");let f="";for(o=0;o<64;o+=8){let c=parseInt(h.substr(o,8),2).toString(16);c.length===1&&(c="0"+c),f=f+c}return f.toLowerCase()},qR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},GR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function FR(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const YR=new RegExp("^-?(0*)\\d{1,10}$"),QR=-2147483648,KR=2147483647,Wg=function(t){if(YR.test(t)){const e=Number(t);if(e>=QR&&e<=KR)return e}return null},Oa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw yt("Exception was thrown by user callback.",n),e},Math.floor(0))}},XR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?($e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(e)}}class lo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}lo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="5",$b="v",Zb="s",Jb="r",eS="f",tS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nS="ls",iS="p",ah="ac",sS="websocket",aS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,i,s,a=!1,r="",l=!1,o=!1,u=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=r,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=o,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ZR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function lS(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let i;if(e===sS)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===aS)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ZR(t)&&(n.ns=t.namespace);const s=[];return nt(n,(a,r)=>{s.push(a+"="+r)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.counters_={}}incrementCounter(e,n=1){mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Jw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc={},qc={};function Fd(t){const e=t.toString();return Vc[e]||(Vc[e]=new JR),Vc[e]}function eM(t,e){const n=t.toString();return qc[n]||(qc[n]=e()),qc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Oa(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="start",nM="close",iM="pLPCommand",sM="pRTLPCB",oS="id",uS="pw",cS="ser",aM="cb",rM="seg",lM="ts",oM="d",uM="dframe",fS=1870,hS=30,cM=fS-hS,fM=25e3,hM=3e4;class js{constructor(e,n,i,s,a,r,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=r,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ml(e),this.stats_=Fd(n),this.urlFn=o=>(this.appCheckToken&&(o[ah]=this.appCheckToken),lS(n,aS,o))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new tM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(hM)),PR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yd((...a)=>{const[r,l,o,u,h]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===$g)this.id=l,this.password=o;else if(r===nM)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...a)=>{const[r,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(r,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[$g]="t",i[cS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[aM]=this.scriptTagHolder.uniqueCallbackIdentifier),i[$b]=Gd,this.transportSessionId&&(i[Zb]=this.transportSessionId),this.lastSessionId&&(i[nS]=this.lastSessionId),this.applicationId&&(i[iS]=this.applicationId),this.appCheckToken&&(i[ah]=this.appCheckToken),typeof location<"u"&&location.hostname&&tS.test(location.hostname)&&(i[Jb]=eS);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){js.forceAllow_=!0}static forceDisallow(){js.forceDisallow_=!0}static isAvailable(){return js.forceAllow_?!0:!js.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!qR()&&!GR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=J0(n),s=Xb(i,cM);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[uM]="t",i[oS]=e,i[uS]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Yd{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BR(),window[iM+this.uniqueCallbackIdentifier]=e,window[sM+this.uniqueCallbackIdentifier]=n,this.myIFrame=Yd.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(l){$e("frame writing exception"),l.stack&&$e(l.stack),$e(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$e("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[oS]=this.myID,e[uS]=this.myPW,e[cS]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hS+i.length<=fS;){const r=this.pendingSegs.shift();i=i+"&"+rM+s+"="+r.seg+"&"+lM+s+"="+r.ts+"&"+oM+s+"="+r.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(fM)),a=()=>{clearTimeout(s),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{$e("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=16384,mM=45e3;let $o=null;typeof MozWebSocket<"u"?$o=MozWebSocket:typeof WebSocket<"u"&&($o=WebSocket);class Wt{constructor(e,n,i,s,a,r,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ml(this.connId),this.stats_=Fd(n),this.connURL=Wt.connectionURL_(n,r,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,a){const r={};return r[$b]=Gd,typeof location<"u"&&location.hostname&&tS.test(location.hostname)&&(r[Jb]=eS),n&&(r[Zb]=n),i&&(r[nS]=i),s&&(r[ah]=s),a&&(r[iS]=a),lS(e,sS,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yi.set("previous_websocket_failure",!0);try{let i;hA(),this.mySock=new $o(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&$o!==null&&!Wt.forceDisallow_}static previouslyFailed(){return Yi.isInMemoryStorage||Yi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ur(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Xb(n,dM);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(mM))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{static get ALL_TRANSPORTS(){return[js,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Wt&&Wt.isAvailable();let i=n&&!Wt.previouslyFailed();if(e.webSocketOnly&&(n||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Wt];else{const s=this.transports_=[];for(const a of jr.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);jr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=6e4,gM=5e3,yM=10*1024,_M=100*1024,Gc="t",Zg="d",vM="s",Jg="r",bM="e",ey="o",ty="a",ny="n",iy="p",SM="h";class EM{constructor(e,n,i,s,a,r,l,o,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=r,this.onReady_=l,this.onDisconnect_=o,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ml("c:"+this.id+":"),this.transportManager_=new jr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=gr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_M?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Gc in e){const n=e[Gc];n===ty?this.upgradeIfSecondaryHealthy_():n===Jg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ey&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Va("t",e),i=Va("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:iy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ty,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ny,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Va("t",e),i=Va("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Va(Gc,e);if(Zg in e){const i=e[Zg];if(n===SM){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===ny){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vM?this.onConnectionShutdown_(i):n===Jg?this.onReset_(i):n===bM?sh("Server Error: "+i):n===ey?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Gd!==i&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),gr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:iy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!i||i===s[a].context)){s.splice(a,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends mS{static getInstance(){return new Zo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Nd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=32,ay=768;class de{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function se(){return new de("")}function Z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xi(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function Qd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function CM(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Hr(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function pS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function Oe(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof de)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new de(n,0)}function J(t){return t.pieceNum_>=t.pieces_.length}function lt(t,e){const n=Z(t),i=Z(e);if(n===null)return e;if(n===i)return lt(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function TM(t,e){const n=Hr(t,0),i=Hr(e,0);for(let s=0;s<n.length&&s<i.length;s++){const a=_s(n[s],i[s]);if(a!==0)return a}return n.length===i.length?0:n.length<i.length?-1:1}function Kd(t,e){if(xi(t)!==xi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ht(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(xi(t)>xi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class wM{constructor(e,n){this.errorPrefix_=n,this.parts_=Hr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ku(this.parts_[i]);gS(this)}}function AM(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ku(e),gS(t)}function NM(t){const e=t.parts_.pop();t.byteLength_-=ku(e),t.parts_.length>0&&(t.byteLength_-=1)}function gS(t){if(t.byteLength_>ay)throw new Error(t.errorPrefix_+"has a key path longer than "+ay+" bytes ("+t.byteLength_+").");if(t.parts_.length>sy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sy+") or object contains a cycle "+qi(t))}function qi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends mS{static getInstance(){return new Xd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=1e3,xM=60*5*1e3,ry=30*1e3,RM=1.3,MM=3e4,OM="server_kill",ly=3;class kn extends dS{constructor(e,n,i,s,a,r,l,o){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.authOverride_=o,this.id=kn.nextPersistentConnectionId_++,this.log_=ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qa,this.maxReconnectDelay_=xM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Zo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(Pe(a)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Iu,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const l=r.d;r.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,s){this.initConnection_();const a=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+a),this.listens.has(r)||this.listens.set(r,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(r).has(a),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(r).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i},r="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(r,a,l=>{const o=l.d,u=l.s;kn.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(u,o))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&mn(e,"w")){const i=ca(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||vA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ry)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_A(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const a=s.s,r=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},r="n";s&&(a.q=i,a.t=s),this.sendRequest(r,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,r=>{s&&setTimeout(()=>{s(r.s,r.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,a){this.initConnection_();const r={p:n,d:i};a!==void 0&&(r.h=a),this.outstandingPuts_.push({action:e,request:r,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pe(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):sh("Unrecognized action received from server: "+Pe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>MM&&(this.reconnectDelay_=qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+kn.nextConnectionId_++,a=this.lastSessionId;let r=!1,l=null;const o=function(){l?l.close():(r=!0,i())},u=function(f){D(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:o,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,c]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);r?$e("getToken() completed but was canceled"):($e("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=c&&c.token,l=new EM(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,d=>{yt(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(OM)},a))}catch(f){this.log_("Failed to get token: "+f),r||(this.repoInfo_.nodeAdmin&&yt(f),o())}}}interrupt(e){$e("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$e("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xf(this.interruptReasons_)&&(this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>qd(a)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new de(e).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){$e("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ly&&(this.reconnectDelay_=ry,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){$e("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ly&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Yb.replace(/\./g,"-")]=1,Nd()?e["framework.cordova"]=1:rb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zo.getInstance().currentlyOnline();return Xf(this.interruptReasons_)&&e}}kn.nextPersistentConnectionId_=0;kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new X(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new X(da,e),s=new X(da,n);return this.compare(i,s)!==0}minPost(){return X.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl;class yS extends Bu{static get __EMPTY_NODE(){return zl}static set __EMPTY_NODE(e){zl=e}compare(e,n){return _s(e.name,n.name)}isDefinedOn(e){throw Aa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return X.MIN}maxPost(){return new X(us,zl)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new X(e,zl)}toString(){return".key"}}const $s=new yS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?i(e.key,n):1,s&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Fe{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??Fe.RED,this.left=s??pt.EMPTY_NODE,this.right=a??pt.EMPTY_NODE}copy(e,n,i,s,a){return new Fe(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Fe.RED=!0;Fe.BLACK=!1;class DM{copy(e,n,i,s,a){return this}insert(e,n,i){return new Fe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pt{constructor(e,n=pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Fe.BLACK,null,null))}remove(e){return new pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fe.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Bl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Bl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Bl(this.root_,null,this.comparator_,!0,e)}}pt.EMPTY_NODE=new DM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e){return _s(t.name,e.name)}function Wd(t,e){return _s(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh;function kM(t){rh=t}const _S=function(t){return typeof t=="number"?"number:"+Wb(t):"string:"+t},vS=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mn(e,".sv"),"Priority must be a string or number.")}else D(t===rh||t.isEmpty(),"priority of unexpected type.");D(t===rh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy;class qe{static set __childrenNodeConstructor(e){oy=e}static get __childrenNodeConstructor(){return oy}constructor(e,n=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),vS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return J(e)?this:Z(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Z(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(D(i!==".priority"||xi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_S(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Wb(this.value_):e+=this.value_,this.lazyHash_=Kb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=qe.VALUE_TYPE_ORDER.indexOf(n),a=qe.VALUE_TYPE_ORDER.indexOf(i);return D(s>=0,"Unknown leaf type: "+n),D(a>=0,"Unknown leaf type: "+i),s===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bS,SS;function LM(t){bS=t}function UM(t){SS=t}class zM extends Bu{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),a=i.compareTo(s);return a===0?_s(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return X.MIN}maxPost(){return new X(us,new qe("[PRIORITY-POST]",SS))}makePost(e,n){const i=bS(e);return new X(n,new qe("[PRIORITY-POST]",i))}toString(){return".priority"}}const De=new zM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=Math.log(2);class jM{constructor(e){const n=a=>parseInt(Math.log(a)/BM,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Jo=function(t,e,n,i){t.sort(e);const s=function(o,u){const h=u-o;let f,c;if(h===0)return null;if(h===1)return f=t[o],c=n?n(f):f,new Fe(c,f.node,Fe.BLACK,null,null);{const d=parseInt(h/2,10)+o,g=s(o,d),C=s(d+1,u);return f=t[d],c=n?n(f):f,new Fe(c,f.node,Fe.BLACK,g,C)}},a=function(o){let u=null,h=null,f=t.length;const c=function(g,C){const E=f-g,m=f;f-=g;const p=s(E+1,m),y=t[E],T=n?n(y):y;d(new Fe(T,y.node,C,null,p))},d=function(g){u?(u.left=g,u=g):(h=g,u=g)};for(let g=0;g<o.count;++g){const C=o.nextBitIsOne(),E=Math.pow(2,o.count-(g+1));C?c(E,Fe.BLACK):(c(E,Fe.BLACK),c(E,Fe.RED))}return h},r=new jM(t.length),l=a(r);return new pt(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;const Cs={};class Rn{static get Default(){return D(Cs&&De,"ChildrenNode.ts has not been loaded"),Fc=Fc||new Rn({".priority":Cs},{".priority":De}),Fc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ca(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof pt?n:null}hasIndex(e){return mn(this.indexSet_,e.toString())}addIndex(e,n){D(e!==$s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=n.getIterator(X.Wrap);let r=a.getNext();for(;r;)s=s||e.isDefinedOn(r.node),i.push(r),r=a.getNext();let l;s?l=Jo(i,e.getCompare()):l=Cs;const o=e.toString(),u={...this.indexSet_};u[o]=e;const h={...this.indexes_};return h[o]=l,new Rn(h,u)}addToIndexes(e,n){const i=qo(this.indexes_,(s,a)=>{const r=ca(this.indexSet_,a);if(D(r,"Missing index implementation for "+a),s===Cs)if(r.isDefinedOn(e.node)){const l=[],o=n.getIterator(X.Wrap);let u=o.getNext();for(;u;)u.name!==e.name&&l.push(u),u=o.getNext();return l.push(e),Jo(l,r.getCompare())}else return Cs;else{const l=n.get(e.name);let o=s;return l&&(o=o.remove(new X(e.name,l))),o.insert(e,e.node)}});return new Rn(i,this.indexSet_)}removeFromIndexes(e,n){const i=qo(this.indexes_,s=>{if(s===Cs)return s;{const a=n.get(e.name);return a?s.remove(new X(e.name,a)):s}});return new Rn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;class V{static get EMPTY_NODE(){return Ga||(Ga=new V(new pt(Wd),null,Rn.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&vS(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ga}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ga:n}}getChild(e){const n=Z(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new X(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const r=s.isEmpty()?Ga:this.priorityNode_;return new V(s,r,a)}}updateChild(e,n){const i=Z(e);if(i===null)return n;{D(Z(e)!==".priority"||xi(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(_e(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,a=!0;if(this.forEachChild(De,(r,l)=>{n[r]=l.val(e),i++,a&&V.INTEGER_REGEXP_.test(r)?s=Math.max(s,Number(r)):a=!1}),!e&&a&&s<2*i){const r=[];for(const l in n)r[l]=n[l];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_S(this.getPriority().val())+":"),this.forEachChild(De,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Kb(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new X(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new X(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new X(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,X.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,X.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pl?-1:0}withIndex(e){if(e===$s||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$s||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(De),s=n.getIterator(De);let a=i.getNext(),r=s.getNext();for(;a&&r;){if(a.name!==r.name||!a.node.equals(r.node))return!1;a=i.getNext(),r=s.getNext()}return a===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===$s?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class HM extends V{constructor(){super(new pt(Wd),V.EMPTY_NODE,Rn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const pl=new HM;Object.defineProperties(X,{MIN:{value:new X(da,V.EMPTY_NODE)},MAX:{value:new X(us,pl)}});yS.__EMPTY_NODE=V.EMPTY_NODE;qe.__childrenNodeConstructor=V;kM(pl);UM(pl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=!0;function Qe(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qe(n,Qe(e))}if(!(t instanceof Array)&&PM){const n=[];let i=!1;if(nt(t,(r,l)=>{if(r.substring(0,1)!=="."){const o=Qe(l);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new X(r,o)))}}),n.length===0)return V.EMPTY_NODE;const a=Jo(n,IM,r=>r.name,Wd);if(i){const r=Jo(n,De.getCompare());return new V(a,Qe(e),new Rn({".priority":r},{".priority":De}))}else return new V(a,Qe(e),Rn.Default)}else{let n=V.EMPTY_NODE;return nt(t,(i,s)=>{if(mn(t,i)&&i.substring(0,1)!=="."){const a=Qe(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(Qe(e))}}LM(Qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM extends Bu{constructor(e){super(),this.indexPath_=e,D(!J(e)&&Z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),a=i.compareTo(s);return a===0?_s(e.name,n.name):a}makePost(e,n){const i=Qe(e),s=V.EMPTY_NODE.updateChild(this.indexPath_,i);return new X(n,s)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,pl);return new X(us,e)}toString(){return Hr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM extends Bu{compare(e,n){const i=e.node.compareTo(n.node);return i===0?_s(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(e,n){const i=Qe(e);return new X(n,i)}toString(){return".value"}}const GM=new qM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){return{type:"value",snapshotNode:t}}function ma(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Pr(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Vr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function FM(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.index_=e}updateChild(e,n,i,s,a,r){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(r!=null&&(i.isEmpty()?e.hasChild(n)?r.trackChildChange(Pr(n,l)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?r.trackChildChange(ma(n,i)):r.trackChildChange(Vr(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(De,(s,a)=>{n.hasChild(s)||i.trackChildChange(Pr(s,a))}),n.isLeafNode()||n.forEachChild(De,(s,a)=>{if(e.hasChild(s)){const r=e.getImmediateChild(s);r.equals(a)||i.trackChildChange(Vr(s,a,r))}else i.trackChildChange(ma(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.indexedFilter_=new $d(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qr.getStartPost_(e),this.endPost_=qr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,a,r){return this.matches(new X(n,i))||(i=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,a,r)}updateFullNode(e,n,i){n.isLeafNode()&&(n=V.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(V.EMPTY_NODE);const a=this;return n.forEachChild(De,(r,l)=>{a.matches(new X(r,l))||(s=s.updateImmediateChild(r,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new qr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,a,r){return this.rangedFilter_.matches(new X(n,i))||(i=V.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,a,r):this.fullLimitUpdateChild_(e,n,i,a,r)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=V.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;a.hasNext()&&r<this.limit_;){const l=a.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),r++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(V.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let r=0;for(;a.hasNext();){const l=a.getNext();r<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?r++:s=s.updateImmediateChild(l.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,a){let r;if(this.reverse_){const f=this.index_.getCompare();r=(c,d)=>f(d,c)}else r=this.index_.getCompare();const l=e;D(l.numChildren()===this.limit_,"");const o=new X(n,i),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(l.hasChild(n)){const f=l.getImmediateChild(n);let c=s.getChildAfterChild(this.index_,u,this.reverse_);for(;c!=null&&(c.name===n||l.hasChild(c.name));)c=s.getChildAfterChild(this.index_,c,this.reverse_);const d=c==null?1:r(c,o);if(h&&!i.isEmpty()&&d>=0)return a!=null&&a.trackChildChange(Vr(n,i,f)),l.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(Pr(n,f));const C=l.updateImmediateChild(n,V.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(a!=null&&a.trackChildChange(ma(c.name,c.node)),C.updateImmediateChild(c.name,c.node)):C}}else return i.isEmpty()?e:h&&r(u,o)>=0?(a!=null&&(a.trackChildChange(Pr(u.name,u.node)),a.trackChildChange(ma(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(u.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=De}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:da}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===De}copy(){const e=new Zd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QM(t){return t.loadsAllData()?new $d(t.getIndex()):t.hasLimit()?new YM(t):new qr(t)}function uy(t){const e={};if(t.isDefault())return e;let n;if(t.index_===De?n="$priority":t.index_===GM?n="$value":t.index_===$s?n="$key":(D(t.index_ instanceof VM,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pe(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Pe(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Pe(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Pe(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function cy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==De&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends dS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=ml("p:rest:"),this.listens_={}}listen(e,n,i,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const r=eu.getListenId_(e,i),l={};this.listens_[r]=l;const o=uy(e._queryParams);this.restRequest_(a+".json",o,(u,h)=>{let f=h;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(a,f,!1,i),ca(this.listens_,r)===l){let c;u?u===401?c="permission_denied":c="rest_error:"+u:c="ok",s(c,null)}})}unlisten(e,n){const i=eu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=uy(e._queryParams),i=e._path.toString(),s=new Iu;return this.restRequest_(i+".json",n,(a,r)=>{let l=r;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+xa(n);this.log_("Sending REST request for "+r);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+r+" received. status:",l.status,"response:",l.responseText);let o=null;if(l.status>=200&&l.status<300){try{o=Ur(l.responseText)}catch{yt("Failed to parse JSON response for "+r+": "+l.responseText)}i(null,o)}else l.status!==401&&l.status!==404&&yt("Got unsuccessful REST response for "+r+" Status: "+l.status),i(l.status);i=null}},l.open("GET",r,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(){return{value:null,children:new Map}}function CS(t,e,n){if(J(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Z(e);t.children.has(i)||t.children.set(i,tu());const s=t.children.get(i);e=_e(e),CS(s,e,n)}}function lh(t,e,n){t.value!==null?n(e,t.value):XM(t,(i,s)=>{const a=new de(e.toString()+"/"+i);lh(s,a,n)})}function XM(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&nt(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=10*1e3,$M=30*1e3,ZM=5*60*1e3;class JM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new WM(e);const i=fy+($M-fy)*Math.random();gr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;nt(e,(s,a)=>{a>0&&mn(this.statsToReport_,s)&&(n[s]=a,i=!0)}),i&&this.server_.reportStats(n),gr(this.reportStats_.bind(this),Math.floor(Math.random()*2*ZM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function Jd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function em(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Zt.ACK_USER_WRITE,this.source=Jd()}operationForChild(e){if(J(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new de(e));return new nu(se(),n,this.revert)}}else return D(Z(this.path)===e,"operationForChild called for unrelated child."),new nu(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return J(this.path)?new Gr(this.source,se()):new Gr(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Zt.OVERWRITE}operationForChild(e){return J(this.path)?new cs(this.source,se(),this.snap.getImmediateChild(e)):new cs(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Zt.MERGE}operationForChild(e){if(J(this.path)){const n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new cs(this.source,se(),n.value):new pa(this.source,se(),n)}else return D(Z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new pa(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(J(e))return this.isFullyInitialized()&&!this.filtered_;const n=Z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function t2(t,e,n,i){const s=[],a=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&a.push(FM(r.childName,r.snapshotNode))}),Fa(t,s,"child_removed",e,i,n),Fa(t,s,"child_added",e,i,n),Fa(t,s,"child_moved",a,i,n),Fa(t,s,"child_changed",e,i,n),Fa(t,s,"value",e,i,n),s}function Fa(t,e,n,i,s,a){const r=i.filter(l=>l.type===n);r.sort((l,o)=>i2(t,l,o)),r.forEach(l=>{const o=n2(t,l,a);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(o,t.query_))})})}function n2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function i2(t,e,n){if(e.childName==null||n.childName==null)throw Aa("Should only compare child_ events.");const i=new X(e.childName,e.snapshotNode),s=new X(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e){return{eventCache:t,serverCache:e}}function yr(t,e,n,i){return ju(new Ri(e,n,i),t.serverCache)}function TS(t,e,n,i){return ju(t.eventCache,new Ri(e,n,i))}function iu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc;const s2=()=>(Yc||(Yc=new pt(VR)),Yc);class ye{static fromObject(e){let n=new ye(null);return nt(e,(i,s)=>{n=n.set(new de(i),s)}),n}constructor(e,n=s2()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:se(),value:this.value};if(J(e))return null;{const i=Z(e),s=this.children.get(i);if(s!==null){const a=s.findRootMostMatchingPathAndValue(_e(e),n);return a!=null?{path:Oe(new de(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(J(e))return this;{const n=Z(e),i=this.children.get(n);return i!==null?i.subtree(_e(e)):new ye(null)}}set(e,n){if(J(e))return new ye(n,this.children);{const i=Z(e),a=(this.children.get(i)||new ye(null)).set(_e(e),n),r=this.children.insert(i,a);return new ye(this.value,r)}}remove(e){if(J(e))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=Z(e),i=this.children.get(n);if(i){const s=i.remove(_e(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new ye(null):new ye(this.value,a)}else return this}}get(e){if(J(e))return this.value;{const n=Z(e),i=this.children.get(n);return i?i.get(_e(e)):null}}setTree(e,n){if(J(e))return n;{const i=Z(e),a=(this.children.get(i)||new ye(null)).setTree(_e(e),n);let r;return a.isEmpty()?r=this.children.remove(i):r=this.children.insert(i,a),new ye(this.value,r)}}fold(e){return this.fold_(se(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(Oe(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,se(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(J(e))return null;{const a=Z(e),r=this.children.get(a);return r?r.findOnPath_(_e(e),Oe(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,se(),n)}foreachOnPath_(e,n,i){if(J(e))return this;{this.value&&i(n,this.value);const s=Z(e),a=this.children.get(s);return a?a.foreachOnPath_(_e(e),Oe(n,s),i):new ye(null)}}foreach(e){this.foreach_(se(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Oe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new ye(null))}}function _r(t,e,n){if(J(e))return new en(new ye(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let a=i.value;const r=lt(s,e);return a=a.updateChild(r,n),new en(t.writeTree_.set(s,a))}else{const s=new ye(n),a=t.writeTree_.setTree(e,s);return new en(a)}}}function oh(t,e,n){let i=t;return nt(n,(s,a)=>{i=_r(i,Oe(e,s),a)}),i}function hy(t,e){if(J(e))return en.empty();{const n=t.writeTree_.setTree(e,new ye(null));return new en(n)}}function uh(t,e){return vs(t,e)!=null}function vs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(lt(n.path,e)):null}function dy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(De,(i,s)=>{e.push(new X(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new X(i,s.value))}),e}function Ei(t,e){if(J(e))return t;{const n=vs(t,e);return n!=null?new en(new ye(n)):new en(t.writeTree_.subtree(e))}}function ch(t){return t.writeTree_.isEmpty()}function ga(t,e){return wS(se(),t.writeTree_,e)}function wS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(D(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=wS(Oe(t,s),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Oe(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t,e){return RS(e,t)}function a2(t,e,n,i,s){D(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=_r(t.visibleWrites,e,n)),t.lastWriteId=i}function r2(t,e,n,i){D(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=oh(t.visibleWrites,e,n),t.lastWriteId=i}function l2(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function o2(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,a=!1,r=t.allWrites.length-1;for(;s&&r>=0;){const l=t.allWrites[r];l.visible&&(r>=n&&u2(l,i.path)?s=!1:Ht(i.path,l.path)&&(a=!0)),r--}if(s){if(a)return c2(t),!0;if(i.snap)t.visibleWrites=hy(t.visibleWrites,i.path);else{const l=i.children;nt(l,o=>{t.visibleWrites=hy(t.visibleWrites,Oe(i.path,o))})}return!0}else return!1}function u2(t,e){if(t.snap)return Ht(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ht(Oe(t.path,n),e))return!0;return!1}function c2(t){t.visibleWrites=AS(t.allWrites,f2,se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function f2(t){return t.visible}function AS(t,e,n){let i=en.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const r=a.path;let l;if(a.snap)Ht(n,r)?(l=lt(n,r),i=_r(i,l,a.snap)):Ht(r,n)&&(l=lt(r,n),i=_r(i,se(),a.snap.getChild(l)));else if(a.children){if(Ht(n,r))l=lt(n,r),i=oh(i,l,a.children);else if(Ht(r,n))if(l=lt(r,n),J(l))i=oh(i,se(),a.children);else{const o=ca(a.children,Z(l));if(o){const u=o.getChild(_e(l));i=_r(i,se(),u)}}}else throw Aa("WriteRecord should have .snap or .children")}}return i}function NS(t,e,n,i,s){if(!i&&!s){const a=vs(t.visibleWrites,e);if(a!=null)return a;{const r=Ei(t.visibleWrites,e);if(ch(r))return n;if(n==null&&!uh(r,se()))return null;{const l=n||V.EMPTY_NODE;return ga(r,l)}}}else{const a=Ei(t.visibleWrites,e);if(!s&&ch(a))return n;if(!s&&n==null&&!uh(a,se()))return null;{const r=function(u){return(u.visible||s)&&(!i||!~i.indexOf(u.writeId))&&(Ht(u.path,e)||Ht(e,u.path))},l=AS(t.allWrites,r,e),o=n||V.EMPTY_NODE;return ga(l,o)}}}function h2(t,e,n){let i=V.EMPTY_NODE;const s=vs(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(De,(a,r)=>{i=i.updateImmediateChild(a,r)}),i;if(n){const a=Ei(t.visibleWrites,e);return n.forEachChild(De,(r,l)=>{const o=ga(Ei(a,new de(r)),l);i=i.updateImmediateChild(r,o)}),dy(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}else{const a=Ei(t.visibleWrites,e);return dy(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}}function d2(t,e,n,i,s){D(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=Oe(e,n);if(uh(t.visibleWrites,a))return null;{const r=Ei(t.visibleWrites,a);return ch(r)?s.getChild(n):ga(r,s.getChild(n))}}function m2(t,e,n,i){const s=Oe(e,n),a=vs(t.visibleWrites,s);if(a!=null)return a;if(i.isCompleteForChild(n)){const r=Ei(t.visibleWrites,s);return ga(r,i.getNode().getImmediateChild(n))}else return null}function p2(t,e){return vs(t.visibleWrites,e)}function g2(t,e,n,i,s,a,r){let l;const o=Ei(t.visibleWrites,e),u=vs(o,se());if(u!=null)l=u;else if(n!=null)l=ga(o,n);else return[];if(l=l.withIndex(r),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=r.getCompare(),c=a?l.getReverseIteratorFrom(i,r):l.getIteratorFrom(i,r);let d=c.getNext();for(;d&&h.length<s;)f(d,i)!==0&&h.push(d),d=c.getNext();return h}else return[]}function y2(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function su(t,e,n,i){return NS(t.writeTree,t.treePath,e,n,i)}function nm(t,e){return h2(t.writeTree,t.treePath,e)}function my(t,e,n,i){return d2(t.writeTree,t.treePath,e,n,i)}function au(t,e){return p2(t.writeTree,Oe(t.treePath,e))}function _2(t,e,n,i,s,a){return g2(t.writeTree,t.treePath,e,n,i,s,a)}function im(t,e,n){return m2(t.writeTree,t.treePath,e,n)}function xS(t,e){return RS(Oe(t.treePath,e),t.writeTree)}function RS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,Vr(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,Pr(i,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,ma(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,Vr(i,e.snapshotNode,s.oldSnap));else throw Aa("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const MS=new b2;class sm{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ri(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return im(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fs(this.viewCache_),a=_2(this.writes_,s,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){return{filter:t}}function E2(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function C2(t,e,n,i,s){const a=new v2;let r,l;if(n.type===Zt.OVERWRITE){const u=n;u.source.fromUser?r=fh(t,e,u.path,u.snap,i,s,a):(D(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!J(u.path),r=ru(t,e,u.path,u.snap,i,s,l,a))}else if(n.type===Zt.MERGE){const u=n;u.source.fromUser?r=w2(t,e,u.path,u.children,i,s,a):(D(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),r=hh(t,e,u.path,u.children,i,s,l,a))}else if(n.type===Zt.ACK_USER_WRITE){const u=n;u.revert?r=x2(t,e,u.path,i,s,a):r=A2(t,e,u.path,u.affectedTree,i,s,a)}else if(n.type===Zt.LISTEN_COMPLETE)r=N2(t,e,n.path,i,a);else throw Aa("Unknown operation type: "+n.type);const o=a.getChanges();return T2(e,r,o),{viewCache:r,changes:o}}function T2(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=iu(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(ES(iu(e)))}}function OS(t,e,n,i,s,a){const r=e.eventCache;if(au(i,n)!=null)return e;{let l,o;if(J(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=fs(e),h=u instanceof V?u:V.EMPTY_NODE,f=nm(i,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const u=su(i,fs(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,a)}else{const u=Z(n);if(u===".priority"){D(xi(n)===1,"Can't have a priority with additional path components");const h=r.getNode();o=e.serverCache.getNode();const f=my(i,n,h,o);f!=null?l=t.filter.updatePriority(h,f):l=r.getNode()}else{const h=_e(n);let f;if(r.isCompleteForChild(u)){o=e.serverCache.getNode();const c=my(i,n,r.getNode(),o);c!=null?f=r.getNode().getImmediateChild(u).updateChild(h,c):f=r.getNode().getImmediateChild(u)}else f=im(i,u,e.serverCache);f!=null?l=t.filter.updateChild(r.getNode(),u,f,h,s,a):l=r.getNode()}}return yr(e,l,r.isFullyInitialized()||J(n),t.filter.filtersNodes())}}function ru(t,e,n,i,s,a,r,l){const o=e.serverCache;let u;const h=r?t.filter:t.filter.getIndexedFilter();if(J(n))u=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const d=o.getNode().updateChild(n,i);u=h.updateFullNode(o.getNode(),d,null)}else{const d=Z(n);if(!o.isCompleteForPath(n)&&xi(n)>1)return e;const g=_e(n),E=o.getNode().getImmediateChild(d).updateChild(g,i);d===".priority"?u=h.updatePriority(o.getNode(),E):u=h.updateChild(o.getNode(),d,E,g,MS,null)}const f=TS(e,u,o.isFullyInitialized()||J(n),h.filtersNodes()),c=new sm(s,f,a);return OS(t,f,n,s,c,l)}function fh(t,e,n,i,s,a,r){const l=e.eventCache;let o,u;const h=new sm(s,e,a);if(J(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,r),o=yr(e,u,!0,t.filter.filtersNodes());else{const f=Z(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),o=yr(e,u,l.isFullyInitialized(),l.isFiltered());else{const c=_e(n),d=l.getNode().getImmediateChild(f);let g;if(J(c))g=i;else{const C=h.getCompleteChild(f);C!=null?Qd(c)===".priority"&&C.getChild(pS(c)).isEmpty()?g=C:g=C.updateChild(c,i):g=V.EMPTY_NODE}if(d.equals(g))o=e;else{const C=t.filter.updateChild(l.getNode(),f,g,c,h,r);o=yr(e,C,l.isFullyInitialized(),t.filter.filtersNodes())}}}return o}function py(t,e){return t.eventCache.isCompleteForChild(e)}function w2(t,e,n,i,s,a,r){let l=e;return i.foreach((o,u)=>{const h=Oe(n,o);py(e,Z(h))&&(l=fh(t,l,h,u,s,a,r))}),i.foreach((o,u)=>{const h=Oe(n,o);py(e,Z(h))||(l=fh(t,l,h,u,s,a,r))}),l}function gy(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function hh(t,e,n,i,s,a,r,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let o=e,u;J(n)?u=i:u=new ye(null).setTree(n,i);const h=e.serverCache.getNode();return u.children.inorderTraversal((f,c)=>{if(h.hasChild(f)){const d=e.serverCache.getNode().getImmediateChild(f),g=gy(t,d,c);o=ru(t,o,new de(f),g,s,a,r,l)}}),u.children.inorderTraversal((f,c)=>{const d=!e.serverCache.isCompleteForChild(f)&&c.value===null;if(!h.hasChild(f)&&!d){const g=e.serverCache.getNode().getImmediateChild(f),C=gy(t,g,c);o=ru(t,o,new de(f),C,s,a,r,l)}}),o}function A2(t,e,n,i,s,a,r){if(au(s,n)!=null)return e;const l=e.serverCache.isFiltered(),o=e.serverCache;if(i.value!=null){if(J(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return ru(t,e,n,o.getNode().getChild(n),s,a,l,r);if(J(n)){let u=new ye(null);return o.getNode().forEachChild($s,(h,f)=>{u=u.set(new de(h),f)}),hh(t,e,n,u,s,a,l,r)}else return e}else{let u=new ye(null);return i.foreach((h,f)=>{const c=Oe(n,h);o.isCompleteForPath(c)&&(u=u.set(h,o.getNode().getChild(c)))}),hh(t,e,n,u,s,a,l,r)}}function N2(t,e,n,i,s){const a=e.serverCache,r=TS(e,a.getNode(),a.isFullyInitialized()||J(n),a.isFiltered());return OS(t,r,n,i,MS,s)}function x2(t,e,n,i,s,a){let r;if(au(i,n)!=null)return e;{const l=new sm(i,e,s),o=e.eventCache.getNode();let u;if(J(n)||Z(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=su(i,fs(e));else{const f=e.serverCache.getNode();D(f instanceof V,"serverChildren would be complete if leaf node"),h=nm(i,f)}h=h,u=t.filter.updateFullNode(o,h,a)}else{const h=Z(n);let f=im(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=o.getImmediateChild(h)),f!=null?u=t.filter.updateChild(o,h,f,_e(n),l,a):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(o,h,V.EMPTY_NODE,_e(n),l,a):u=o,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=su(i,fs(e)),r.isLeafNode()&&(u=t.filter.updateFullNode(u,r,a)))}return r=e.serverCache.isFullyInitialized()||au(i,se())!=null,yr(e,u,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new $d(i.getIndex()),a=QM(i);this.processor_=S2(a);const r=n.serverCache,l=n.eventCache,o=s.updateFullNode(V.EMPTY_NODE,r.getNode(),null),u=a.updateFullNode(V.EMPTY_NODE,l.getNode(),null),h=new Ri(o,r.isFullyInitialized(),s.filtersNodes()),f=new Ri(u,l.isFullyInitialized(),a.filtersNodes());this.viewCache_=ju(f,h),this.eventGenerator_=new e2(this.query_)}get query(){return this.query_}}function M2(t){return t.viewCache_.serverCache.getNode()}function O2(t){return iu(t.viewCache_)}function D2(t,e){const n=fs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!J(e)&&!n.getImmediateChild(Z(e)).isEmpty())?n.getChild(e):null}function yy(t){return t.eventRegistrations_.length===0}function I2(t,e){t.eventRegistrations_.push(e)}function _y(t,e,n){const i=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const r=a.createCancelEvent(n,s);r&&i.push(r)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const r=t.eventRegistrations_[a];if(!r.matches(e))s.push(r);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function vy(t,e,n,i){e.type===Zt.MERGE&&e.source.queryId!==null&&(D(fs(t.viewCache_),"We should always have a full cache before handling merges"),D(iu(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=C2(t.processor_,s,e,n,i);return E2(t.processor_,a.viewCache),D(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,DS(t,a.changes,a.viewCache.eventCache.getNode(),null)}function k2(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(De,(a,r)=>{i.push(ma(a,r))}),n.isFullyInitialized()&&i.push(ES(n.getNode())),DS(t,i,n.getNode(),e)}function DS(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return t2(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu;class IS{constructor(){this.views=new Map}}function L2(t){D(!lu,"__referenceConstructor has already been defined"),lu=t}function U2(){return D(lu,"Reference.ts has not been loaded"),lu}function z2(t){return t.views.size===0}function am(t,e,n,i){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return D(a!=null,"SyncTree gave us an op for an invalid query."),vy(a,e,n,i)}else{let a=[];for(const r of t.views.values())a=a.concat(vy(r,e,n,i));return a}}function kS(t,e,n,i,s){const a=e._queryIdentifier,r=t.views.get(a);if(!r){let l=su(n,s?i:null),o=!1;l?o=!0:i instanceof V?(l=nm(n,i),o=!1):(l=V.EMPTY_NODE,o=!1);const u=ju(new Ri(l,o,!1),new Ri(i,s,!1));return new R2(e,u)}return r}function B2(t,e,n,i,s,a){const r=kS(t,e,i,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),I2(r,n),k2(r,n)}function j2(t,e,n,i){const s=e._queryIdentifier,a=[];let r=[];const l=Mi(t);if(s==="default")for(const[o,u]of t.views.entries())r=r.concat(_y(u,n,i)),yy(u)&&(t.views.delete(o),u.query._queryParams.loadsAllData()||a.push(u.query));else{const o=t.views.get(s);o&&(r=r.concat(_y(o,n,i)),yy(o)&&(t.views.delete(s),o.query._queryParams.loadsAllData()||a.push(o.query)))}return l&&!Mi(t)&&a.push(new(U2())(e._repo,e._path)),{removed:a,events:r}}function LS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ci(t,e){let n=null;for(const i of t.views.values())n=n||D2(i,e);return n}function US(t,e){if(e._queryParams.loadsAllData())return Pu(t);{const i=e._queryIdentifier;return t.views.get(i)}}function zS(t,e){return US(t,e)!=null}function Mi(t){return Pu(t)!=null}function Pu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou;function H2(t){D(!ou,"__referenceConstructor has already been defined"),ou=t}function P2(){return D(ou,"Reference.ts has not been loaded"),ou}let V2=1;class by{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ye(null),this.pendingWriteTree_=y2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function q2(t,e,n,i,s){return a2(t.pendingWriteTree_,e,n,i,s),s?Da(t,new cs(Jd(),e,n)):[]}function G2(t,e,n,i){r2(t.pendingWriteTree_,e,n,i);const s=ye.fromObject(n);return Da(t,new pa(Jd(),e,s))}function Qi(t,e,n=!1){const i=l2(t.pendingWriteTree_,e);if(o2(t.pendingWriteTree_,e)){let a=new ye(null);return i.snap!=null?a=a.set(se(),!0):nt(i.children,r=>{a=a.set(new de(r),!0)}),Da(t,new nu(i.path,a,n))}else return[]}function gl(t,e,n){return Da(t,new cs(em(),e,n))}function F2(t,e,n){const i=ye.fromObject(n);return Da(t,new pa(em(),e,i))}function Y2(t,e){return Da(t,new Gr(em(),e))}function Q2(t,e,n){const i=rm(t,n);if(i){const s=lm(i),a=s.path,r=s.queryId,l=lt(a,e),o=new Gr(tm(r),l);return om(t,a,o)}else return[]}function uu(t,e,n,i,s=!1){const a=e._path,r=t.syncPointTree_.get(a);let l=[];if(r&&(e._queryIdentifier==="default"||zS(r,e))){const o=j2(r,e,n,i);z2(r)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const u=o.removed;if(l=o.events,!s){const h=u.findIndex(c=>c._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(a,(c,d)=>Mi(d));if(h&&!f){const c=t.syncPointTree_.subtree(a);if(!c.isEmpty()){const d=W2(c);for(let g=0;g<d.length;++g){const C=d[g],E=C.query,m=VS(t,C);t.listenProvider_.startListening(vr(E),Fr(t,E),m.hashFn,m.onComplete)}}}!f&&u.length>0&&!i&&(h?t.listenProvider_.stopListening(vr(e),null):u.forEach(c=>{const d=t.queryToTagMap.get(Vu(c));t.listenProvider_.stopListening(vr(c),d)}))}$2(t,u)}return l}function BS(t,e,n,i){const s=rm(t,i);if(s!=null){const a=lm(s),r=a.path,l=a.queryId,o=lt(r,e),u=new cs(tm(l),o,n);return om(t,r,u)}else return[]}function K2(t,e,n,i){const s=rm(t,i);if(s){const a=lm(s),r=a.path,l=a.queryId,o=lt(r,e),u=ye.fromObject(n),h=new pa(tm(l),o,u);return om(t,r,h)}else return[]}function dh(t,e,n,i=!1){const s=e._path;let a=null,r=!1;t.syncPointTree_.foreachOnPath(s,(c,d)=>{const g=lt(c,s);a=a||Ci(d,g),r=r||Mi(d)});let l=t.syncPointTree_.get(s);l?(r=r||Mi(l),a=a||Ci(l,se())):(l=new IS,t.syncPointTree_=t.syncPointTree_.set(s,l));let o;a!=null?o=!0:(o=!1,a=V.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((d,g)=>{const C=Ci(g,se());C&&(a=a.updateImmediateChild(d,C))}));const u=zS(l,e);if(!u&&!e._queryParams.loadsAllData()){const c=Vu(e);D(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");const d=Z2();t.queryToTagMap.set(c,d),t.tagToQueryMap.set(d,c)}const h=Hu(t.pendingWriteTree_,s);let f=B2(l,e,n,h,a,o);if(!u&&!r&&!i){const c=US(l,e);f=f.concat(J2(t,e,c))}return f}function jS(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(r,l)=>{const o=lt(r,e),u=Ci(l,o);if(u)return u});return NS(s,e,a,n,!0)}function X2(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(u,h)=>{const f=lt(u,n);i=i||Ci(h,f)});let s=t.syncPointTree_.get(n);s?i=i||Ci(s,se()):(s=new IS,t.syncPointTree_=t.syncPointTree_.set(n,s));const a=i!=null,r=a?new Ri(i,!0,!1):null,l=Hu(t.pendingWriteTree_,e._path),o=kS(s,e,l,a?r.getNode():V.EMPTY_NODE,a);return O2(o)}function Da(t,e){return HS(e,t.syncPointTree_,null,Hu(t.pendingWriteTree_,se()))}function HS(t,e,n,i){if(J(t.path))return PS(t,e,n,i);{const s=e.get(se());n==null&&s!=null&&(n=Ci(s,se()));let a=[];const r=Z(t.path),l=t.operationForChild(r),o=e.children.get(r);if(o&&l){const u=n?n.getImmediateChild(r):null,h=xS(i,r);a=a.concat(HS(l,o,u,h))}return s&&(a=a.concat(am(s,t,i,n))),a}}function PS(t,e,n,i){const s=e.get(se());n==null&&s!=null&&(n=Ci(s,se()));let a=[];return e.children.inorderTraversal((r,l)=>{const o=n?n.getImmediateChild(r):null,u=xS(i,r),h=t.operationForChild(r);h&&(a=a.concat(PS(h,l,o,u)))}),s&&(a=a.concat(am(s,t,i,n))),a}function VS(t,e){const n=e.query,i=Fr(t,n);return{hashFn:()=>(M2(e)||V.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?Q2(t,n._path,i):Y2(t,n._path);{const a=FR(s,n);return uu(t,n,null,a)}}}}function Fr(t,e){const n=Vu(e);return t.queryToTagMap.get(n)}function Vu(t){return t._path.toString()+"$"+t._queryIdentifier}function rm(t,e){return t.tagToQueryMap.get(e)}function lm(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function om(t,e,n){const i=t.syncPointTree_.get(e);D(i,"Missing sync point for query tag that we're tracking");const s=Hu(t.pendingWriteTree_,e);return am(i,n,s,null)}function W2(t){return t.fold((e,n,i)=>{if(n&&Mi(n))return[Pu(n)];{let s=[];return n&&(s=LS(n)),nt(i,(a,r)=>{s=s.concat(r)}),s}})}function vr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(P2())(t._repo,t._path):t}function $2(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Vu(i),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function Z2(){return V2++}function J2(t,e,n){const i=e._path,s=Fr(t,e),a=VS(t,n),r=t.listenProvider_.startListening(vr(e),s,a.hashFn,a.onComplete),l=t.syncPointTree_.subtree(i);if(s)D(!Mi(l.value),"If we're adding a query, it shouldn't be shadowed");else{const o=l.fold((u,h,f)=>{if(!J(u)&&h&&Mi(h))return[Pu(h).query];{let c=[];return h&&(c=c.concat(LS(h).map(d=>d.query))),nt(f,(d,g)=>{c=c.concat(g)}),c}});for(let u=0;u<o.length;++u){const h=o[u];t.listenProvider_.stopListening(vr(h),Fr(t,h))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new um(n)}node(){return this.node_}}class cm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Oe(this.path_,e);return new cm(this.syncTree_,n)}node(){return jS(this.syncTree_,this.path_)}}const eO=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Sy=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return tO(t[".sv"],e,n);if(typeof t[".sv"]=="object")return nO(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},tO=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},nO=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&D(!1,"Unexpected increment value: "+i);const s=e.node();if(D(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return typeof r!="number"?i:r+i},qS=function(t,e,n,i){return fm(e,new cm(n,t),i)},iO=function(t,e,n){return fm(t,new um(e),n)};function fm(t,e,n){const i=t.getPriority().val(),s=Sy(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const r=t,l=Sy(r.getValue(),e,n);return l!==r.getValue()||s!==r.getPriority().val()?new qe(l,Qe(s)):t}else{const r=t;return a=r,s!==r.getPriority().val()&&(a=a.updatePriority(new qe(s))),r.forEachChild(De,(l,o)=>{const u=fm(o,e.getImmediateChild(l),n);u!==o&&(a=a.updateImmediateChild(l,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function dm(t,e){let n=e instanceof de?e:new de(e),i=t,s=Z(n);for(;s!==null;){const a=ca(i.node.children,s)||{children:{},childCount:0};i=new hm(s,i,a),n=_e(n),s=Z(n)}return i}function Ia(t){return t.node.value}function GS(t,e){t.node.value=e,mh(t)}function FS(t){return t.node.childCount>0}function sO(t){return Ia(t)===void 0&&!FS(t)}function qu(t,e){nt(t.node.children,(n,i)=>{e(new hm(n,t,i))})}function YS(t,e,n,i){n&&e(t),qu(t,s=>{YS(s,e,!0)})}function aO(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function yl(t){return new de(t.parent===null?t.name:yl(t.parent)+"/"+t.name)}function mh(t){t.parent!==null&&rO(t.parent,t.name,t)}function rO(t,e,n){const i=sO(n),s=mn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,mh(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,mh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/[\[\].#$\/\u0000-\u001F\u007F]/,oO=/[\[\].#$\u0000-\u001F\u007F]/,Qc=10*1024*1024,mm=function(t){return typeof t=="string"&&t.length!==0&&!lO.test(t)},QS=function(t){return typeof t=="string"&&t.length!==0&&!oO.test(t)},uO=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),QS(t)},cO=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Vd(t)||t&&typeof t=="object"&&mn(t,".sv")},pm=function(t,e,n){const i=n instanceof de?new wM(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+qi(i));if(typeof e=="function")throw new Error(t+"contains a function "+qi(i)+" with contents = "+e.toString());if(Vd(e))throw new Error(t+"contains "+e.toString()+" "+qi(i));if(typeof e=="string"&&e.length>Qc/3&&ku(e)>Qc)throw new Error(t+"contains a string greater than "+Qc+" utf8 bytes "+qi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(nt(e,(r,l)=>{if(r===".value")s=!0;else if(r!==".priority"&&r!==".sv"&&(a=!0,!mm(r)))throw new Error(t+" contains an invalid key ("+r+") "+qi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);AM(i,r),pm(t,l,i),NM(i)}),s&&a)throw new Error(t+' contains ".value" child '+qi(i)+" in addition to actual children.")}},fO=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const a=Hr(i);for(let r=0;r<a.length;r++)if(!(a[r]===".priority"&&r===a.length-1)){if(!mm(a[r]))throw new Error(t+"contains an invalid key ("+a[r]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(TM);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&Ht(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},hO=function(t,e,n,i){const s=xd(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const a=[];nt(e,(r,l)=>{const o=new de(r);if(pm(s,l,Oe(n,o)),Qd(o)===".priority"&&!cO(l))throw new Error(s+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(o)}),fO(s,a)},KS=function(t,e,n,i){if(!QS(n))throw new Error(xd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dO=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),KS(t,e,n)},mO=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!mm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uO(n))throw new Error(xd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gm(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],a=s.getPath();n!==null&&!Kd(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function XS(t,e,n){gm(t,n),WS(t,i=>Kd(i,e))}function fn(t,e,n){gm(t,n),WS(t,i=>Ht(i,e)||Ht(e,i))}function WS(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const a=s.path;e(a)?(gO(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function gO(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();pr&&$e("event: "+n.toString()),Oa(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="repo_interrupt",_O=25;class vO{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tu(),this.transactionQueueTree_=new hm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bO(t,e,n){if(t.stats_=Fd(t.repoInfo_),t.forceRestClient_||XR())t.server_=new eu(t.repoInfo_,(i,s,a,r)=>{Ey(t,i,s,a,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Cy(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new kn(t.repoInfo_,e,(i,s,a,r)=>{Ey(t,i,s,a,r)},i=>{Cy(t,i)},i=>{EO(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=eM(t.repoInfo_,()=>new JM(t.stats_,t.server_)),t.infoData_=new KM,t.infoSyncTree_=new by({startListening:(i,s,a,r)=>{let l=[];const o=t.infoData_.getNode(i._path);return o.isEmpty()||(l=gl(t.infoSyncTree_,i._path,o),setTimeout(()=>{r("ok")},0)),l},stopListening:()=>{}}),_m(t,"connected",!1),t.serverSyncTree_=new by({startListening:(i,s,a,r)=>(t.server_.listen(i,a,s,(l,o)=>{const u=r(l,o);fn(t.eventQueue_,i._path,u)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function SO(t){const n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ym(t){return eO({timestamp:SO(t)})}function Ey(t,e,n,i,s){t.dataUpdateCount++;const a=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(s)if(i){const o=qo(n,u=>Qe(u));r=K2(t.serverSyncTree_,a,o,s)}else{const o=Qe(n);r=BS(t.serverSyncTree_,a,o,s)}else if(i){const o=qo(n,u=>Qe(u));r=F2(t.serverSyncTree_,a,o)}else{const o=Qe(n);r=gl(t.serverSyncTree_,a,o)}let l=a;r.length>0&&(l=Yr(t,a)),fn(t.eventQueue_,l,r)}function Cy(t,e){_m(t,"connected",e),e===!1&&wO(t)}function EO(t,e){nt(e,(n,i)=>{_m(t,n,i)})}function _m(t,e,n){const i=new de("/.info/"+e),s=Qe(n);t.infoData_.updateSnapshot(i,s);const a=gl(t.infoSyncTree_,i,s);fn(t.eventQueue_,i,a)}function $S(t){return t.nextWriteId_++}function CO(t,e,n){const i=X2(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const a=Qe(s).withIndex(e._queryParams.getIndex());dh(t.serverSyncTree_,e,n,!0);let r;if(e._queryParams.loadsAllData())r=gl(t.serverSyncTree_,e._path,a);else{const l=Fr(t.serverSyncTree_,e);r=BS(t.serverSyncTree_,e._path,a,l)}return fn(t.eventQueue_,e._path,r),uu(t.serverSyncTree_,e,n,null,!0),a},s=>(Gu(t,"get for query "+Pe(e)+" failed: "+s),Promise.reject(new Error(s))))}function TO(t,e,n,i){Gu(t,"update",{path:e.toString(),value:n});let s=!0;const a=ym(t),r={};if(nt(n,(l,o)=>{s=!1,r[l]=qS(Oe(e,l),Qe(o),t.serverSyncTree_,a)}),s)$e("update() called with empty data.  Don't do anything."),Ty(t,i,"ok",void 0);else{const l=$S(t),o=G2(t.serverSyncTree_,e,r,l);gm(t.eventQueue_,o),t.server_.merge(e.toString(),n,(u,h)=>{const f=u==="ok";f||yt("update at "+e+" failed: "+u);const c=Qi(t.serverSyncTree_,l,!f),d=c.length>0?Yr(t,e):e;fn(t.eventQueue_,d,c),Ty(t,i,u,h)}),nt(n,u=>{const h=iE(t,Oe(e,u));Yr(t,h)}),fn(t.eventQueue_,e,[])}}function wO(t){Gu(t,"onDisconnectEvents");const e=ym(t),n=tu();lh(t.onDisconnect_,se(),(s,a)=>{const r=qS(s,a,t.serverSyncTree_,e);CS(n,s,r)});let i=[];lh(n,se(),(s,a)=>{i=i.concat(gl(t.serverSyncTree_,s,a));const r=iE(t,s);Yr(t,r)}),t.onDisconnect_=tu(),fn(t.eventQueue_,se(),i)}function AO(t,e,n){let i;Z(e._path)===".info"?i=dh(t.infoSyncTree_,e,n):i=dh(t.serverSyncTree_,e,n),XS(t.eventQueue_,e._path,i)}function ZS(t,e,n){let i;Z(e._path)===".info"?i=uu(t.infoSyncTree_,e,n):i=uu(t.serverSyncTree_,e,n),XS(t.eventQueue_,e._path,i)}function NO(t){t.persistentConnection_&&t.persistentConnection_.interrupt(yO)}function Gu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),$e(n,...e)}function Ty(t,e,n,i){e&&Oa(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;i&&(a+=": "+i);const r=new Error(a);r.code=s,e(r)}})}function JS(t,e,n){return jS(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function vm(t,e=t.transactionQueueTree_){if(e||Fu(t,e),Ia(e)){const n=tE(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&xO(t,yl(e),n)}else FS(e)&&qu(e,n=>{vm(t,n)})}function xO(t,e,n){const i=n.map(u=>u.currentWriteId),s=JS(t,e,i);let a=s;const r=s.hash();for(let u=0;u<n.length;u++){const h=n[u];D(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=lt(e,h.path);a=a.updateChild(f,h.currentOutputSnapshotRaw)}const l=a.val(!0),o=e;t.server_.put(o.toString(),l,u=>{Gu(t,"transaction put response",{path:o.toString(),status:u});let h=[];if(u==="ok"){const f=[];for(let c=0;c<n.length;c++)n[c].status=2,h=h.concat(Qi(t.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&f.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();Fu(t,dm(t.transactionQueueTree_,e)),vm(t,t.transactionQueueTree_),fn(t.eventQueue_,e,h);for(let c=0;c<f.length;c++)Oa(f[c])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{yt("transaction at "+o.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Yr(t,e)}},r)}function Yr(t,e){const n=eE(t,e),i=yl(n),s=tE(t,n);return RO(t,s,i),i}function RO(t,e,n){if(e.length===0)return;const i=[];let s=[];const r=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const o=e[l],u=lt(n,o.path);let h=!1,f;if(D(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,f=o.abortReason,s=s.concat(Qi(t.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=_O)h=!0,f="maxretry",s=s.concat(Qi(t.serverSyncTree_,o.currentWriteId,!0));else{const c=JS(t,o.path,r);o.currentInputSnapshot=c;const d=e[l].update(c.val());if(d!==void 0){pm("transaction failed: Data returned ",d,o.path);let g=Qe(d);typeof d=="object"&&d!=null&&mn(d,".priority")||(g=g.updatePriority(c.getPriority()));const E=o.currentWriteId,m=ym(t),p=iO(g,c,m);o.currentOutputSnapshotRaw=g,o.currentOutputSnapshotResolved=p,o.currentWriteId=$S(t),r.splice(r.indexOf(E),1),s=s.concat(q2(t.serverSyncTree_,o.path,p,o.currentWriteId,o.applyLocally)),s=s.concat(Qi(t.serverSyncTree_,E,!0))}else h=!0,f="nodata",s=s.concat(Qi(t.serverSyncTree_,o.currentWriteId,!0))}fn(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(c){setTimeout(c,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(f),!1,null))))}Fu(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Oa(i[l]);vm(t,t.transactionQueueTree_)}function eE(t,e){let n,i=t.transactionQueueTree_;for(n=Z(e);n!==null&&Ia(i)===void 0;)i=dm(i,n),e=_e(e),n=Z(e);return i}function tE(t,e){const n=[];return nE(t,e,n),n.sort((i,s)=>i.order-s.order),n}function nE(t,e,n){const i=Ia(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);qu(e,s=>{nE(t,s,n)})}function Fu(t,e){const n=Ia(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,GS(e,n.length>0?n:void 0)}qu(e,i=>{Fu(t,i)})}function iE(t,e){const n=yl(eE(t,e)),i=dm(t.transactionQueueTree_,e);return aO(i,s=>{Kc(t,s)}),Kc(t,i),YS(i,s=>{Kc(t,s)}),n}function Kc(t,e){const n=Ia(e);if(n){const i=[];let s=[],a=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(D(a===r-1,"All SENT items should be at beginning of queue."),a=r,n[r].status=3,n[r].abortReason="set"):(D(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),s=s.concat(Qi(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&i.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));a===-1?GS(e,void 0):n.length=a+1,fn(t.eventQueue_,yl(e),s);for(let r=0;r<i.length;r++)Oa(i[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function OO(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):yt(`Invalid query segment '${n}' in query '${t}'`)}return e}const wy=function(t,e){const n=DO(t),i=n.namespace;n.domain==="firebase.com"&&qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||HR();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new rS(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new de(n.pathString)}},DO=function(t){let e="",n="",i="",s="",a="",r=!0,l="https",o=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=MO(t.substring(h,f)));const c=OO(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(r=l==="https"||l==="wss",o=parseInt(e.substring(u+1),10)):u=e.length;const d=e.slice(0,u);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),a=i}"ns"in c&&(a=c.ns)}return{host:e,port:o,domain:n,subdomain:i,secure:r,scheme:l,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pe(this.snapshot.exportVal())}}class kO{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return J(this._path)?null:Qd(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=cy(this._queryParams),n=qd(e);return n==="{}"?"default":n}get _queryObject(){return cy(this._queryParams)}isEqual(e){if(e=Mt(e),!(e instanceof Sm))return!1;const n=this._repo===e._repo,i=Kd(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+CM(this._path)}}class Yn extends Sm{constructor(e,n){super(e,n,new Zd,!1)}get parent(){const e=pS(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Qr{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new de(e),i=ph(this.ref,e);return new Qr(this._node.getChild(n),i,De)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Qr(s,ph(this.ref,i),De)))}hasChild(e){const n=new de(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ot(t,e){return t=Mt(t),t._checkNotDeleted("ref"),e!==void 0?ph(t._root,e):t._root}function ph(t,e){return t=Mt(t),Z(t._path)===null?dO("child","path",e):KS("child","path",e),new Yn(t._repo,Oe(t._path,e))}function bs(t,e){hO("update",e,t._path);const n=new Iu;return TO(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Em(t){t=Mt(t);const e=new bm(()=>{}),n=new _l(e);return CO(t._repo,t,n).then(i=>new Qr(i,new Yn(t._repo,t._path),t._queryParams.getIndex()))}class _l{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new IO("value",this,new Qr(e.snapshotNode,new Yn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kO(this,e,n):null}matches(e){return e instanceof _l?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function LO(t,e,n,i,s){const a=new bm(n,void 0),r=new _l(a);return AO(t._repo,t,r),()=>ZS(t._repo,t,r)}function Cm(t,e,n,i){return LO(t,"value",e)}function Yu(t,e,n){let i=null;const s=n?new bm(n):null;i=new _l(s),ZS(t._repo,t,i)}L2(Yn);H2(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="FIREBASE_DATABASE_EMULATOR_HOST",gh={};let zO=!1;function BO(t,e,n,i){const s=e.lastIndexOf(":"),a=e.substring(0,s),r=Na(a);t.repoInfo_=new rS(e,r,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function jO(t,e,n,i,s){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$e("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=wy(a,s),l=r.repoInfo,o;typeof process<"u"&&Yg&&(o=Yg[UO]),o?(a=`http://${o}?ns=${l.namespace}`,r=wy(a,s),l=r.repoInfo):r.repoInfo.secure;const u=new $R(t.name,t.options,e);mO("Invalid Firebase Database URL",r),J(r.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=PO(l,t,u,new WR(t,n));return new VO(h,t)}function HO(t,e){const n=gh[e];(!n||n[t.key]!==t)&&qn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),NO(t),delete n[t.key]}function PO(t,e,n,i){let s=gh[e.name];s||(s={},gh[e.name]=s);let a=s[t.toURLString()];return a&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new vO(t,zO,n,i),s[t.toURLString()]=a,a}class VO{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&qn("Cannot call "+e+" on a deleted database.")}}function qO(t=fb(),e){const n=Od(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=aA("database");i&&GO(n,...i)}return n}function GO(t,e,n,i={}){t=Mt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&rs(i,a.repoInfo_.emulatorOptions))return;qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let r;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new lo(lo.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:rA(i.mockUserToken,t.app.options.projectId);r=new lo(l)}Na(e)&&(sb(e),ab("Database",!0)),BO(a,s,i,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){kR(Ra),fa(new ls("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return jO(i,s,a,n)},"PUBLIC").setMultipleInstances(!0)),Si(Qg,Kg,t),Si(Qg,Kg,"esm2020")}kn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};kn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};FO();const YO={apiKey:"AIzaSyDks3_CoJfEpj2bqTCGeQZhGibXgY9n9l8",authDomain:"shopping-spree-94c4d.firebaseapp.com",projectId:"shopping-spree-94c4d",storageBucket:"shopping-spree-94c4d.firebasestorage.app",messagingSenderId:"289860492862",appId:"1:289860492862:web:63f3b31fe637472280fb6f",databaseURL:"https://shopping-spree-94c4d-default-rtdb.europe-west1.firebasedatabase.app"};let jl=null,es=null,Ay=null;const Qu=[],Tm="buildInfo";function it(){return jl||(jl=cb(YO),es=DR(jl),Ay=qO(jl)),{auth:es,database:Ay}}function QO(){const{auth:t}=it();return new Promise(e=>{const n=Ib(t,i=>{n(),e(i)},()=>{n(),e(null)})})}function wm(t){const{auth:e}=it();return Ib(e,t)}async function sE(){const{auth:t}=it(),e=new Cn,i=(await Px(t,e)).user;if(!await Am(i.uid)){await KO(i),await kb(t);const a=new Error(`${i.email} is not whitelisted yet. You've been added to the waiting list.`);throw a.code="auth/waiting-list",a.waitingUid=i.uid,a}return i}async function Am(t){const{database:e}=it(),n=Ot(e,`whitelist/${t}`);return(await Em(n)).exists()}async function KO(t){const{database:e}=it(),n=Ot(e,`waitingList/${t.uid}`);await bs(n,{email:t.email,displayName:t.displayName||"",requestedAt:new Date().toISOString(),status:"pending"})}async function aE(){es&&await kb(es)}function Nm(){return(es==null?void 0:es.currentUser)||null}async function yh(){const{database:t}=it(),e=Ot(t,"family/shared"),n=await Em(e);if(!n.exists())return null;const i=n.val();return i.items&&typeof i.items=="object"&&!Array.isArray(i.items)&&(i.items=Object.values(i.items)),i}async function rE(){const{database:t}=it(),e=Ot(t,Tm),n=await Em(e);return n.exists()?n.val():null}function lE(t){return{lastModified:new Date().toISOString(),lastModifiedBy:(t==null?void 0:t.email)??"Local user"}}async function oo(t,e,n){const{database:i,auth:s}=it(),a=s.currentUser;if(!a)throw new Error("User not authenticated");const r=lE(a);await bs(Ot(i,"family/shared"),{[`budget/${t}/${e}`]:n,"budget/metadata/lastModified":r.lastModified,"budget/metadata/lastModifiedBy":r.lastModifiedBy})}async function Gi(t){const{database:e,auth:n}=it(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await bs(Ot(e,"family/shared"),{[`items/${t.id}`]:t,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function oE(t){const{database:e,auth:n}=it(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await bs(Ot(e,"family/shared"),{[`items/${t}`]:null,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function uE(t){const{database:e,auth:n}=it(),i=n.currentUser;if(!i)throw new Error("User not authenticated");const s=lE(i),a=Ot(e,"family/shared");await bs(a,{budget:t,"budget/metadata/lastModified":s.lastModified,"budget/metadata/lastModifiedBy":s.lastModifiedBy})}async function cE(t){const{database:e,auth:n}=it(),i=n.currentUser;if(!i)throw new Error("User not authenticated");const s=t.reduce((r,l)=>(r[l.id]=l,r),{}),a=Ot(e,"family/shared");await bs(a,{items:s,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function fE(t){const{database:e,auth:n}=it(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await bs(Ot(e,Tm),{...t,lastUpdatedAt:new Date().toISOString(),lastUpdatedBy:i.email})}function XO(t){const{database:e}=it(),n=Ot(e,"family/shared/budget"),i=s=>{t(s.exists()?s.val():null)};return Cm(n,i),Qu.push({ref:n,handler:i}),()=>Yu(n,"value",i)}function WO(t){const{database:e}=it(),n=Ot(e,"family/shared/items"),i=s=>{if(s.exists()){const a=s.val(),r=Object.values(a||{});t(r)}};return Cm(n,i),Qu.push({ref:n,handler:i}),()=>Yu(n,"value",i)}function $O(t){const{database:e}=it(),n=Ot(e,Tm),i=s=>{t(s.exists()?s.val():null)};return Cm(n,i),Qu.push({ref:n,handler:i}),()=>Yu(n,"value",i)}function ZO(){Qu.splice(0).forEach(({ref:t,handler:e})=>{Yu(t,"value",e)})}const hE=Object.freeze(Object.defineProperty({__proto__:null,deleteItem:oE,getCurrentUser:Nm,isUserWhitelisted:Am,listenToBuildInfo:$O,listenToFamilyBudget:XO,listenToFamilyItems:WO,loadBuildInfoFromDatabase:rE,loadFamilyData:yh,onAuthChange:wm,saveBuildInfo:fE,saveFamilyBudget:uE,saveFamilyItems:cE,signInWithGoogle:sE,signOut:aE,stopListening:ZO,updateBudgetField:oo,updateItem:Gi,waitForAuthReady:QO},Symbol.toStringTag,{value:"Module"})),xm=100,cu=1;function zi(t=0){const e=Number(t);return((Number.isFinite(e)?e:0)/xm).toFixed(2)}function JO(t){const e=Math.round(parseFloat(t??"0")*xm);return Number.isFinite(e)?e:0}function Rm(){return{currencyVersion:cu,metadata:{lastModified:null,lastModifiedBy:null},income:{target:0,actual:0},needs:{target:0,actual:0},future:{target:0,actual:0},wants:{target:0,actual:0}}}function br(t){var r,l,o,u,h,f,c,d;const e=(t==null?void 0:t.currencyVersion)!==cu,n=t&&typeof t=="object"?t:Rm(),i=g=>{const C=Number(g);return Number.isFinite(C)?Math.round(e?C*xm:C):0},s=n!=null&&n.metadata&&typeof n.metadata=="object"?n.metadata:{};return{budget:{currencyVersion:cu,metadata:{lastModified:typeof s.lastModified=="string"?s.lastModified:typeof n.lastModified=="string"?n.lastModified:null,lastModifiedBy:typeof s.lastModifiedBy=="string"?s.lastModifiedBy:typeof n.lastModifiedBy=="string"?n.lastModifiedBy:null},income:{target:i(((r=n.income)==null?void 0:r.target)??0),actual:i(((l=n.income)==null?void 0:l.actual)??0)},needs:{target:i(((o=n.needs)==null?void 0:o.target)??0),actual:i(((u=n.needs)==null?void 0:u.actual)??0)},future:{target:i(((h=n.future)==null?void 0:h.target)??0),actual:i(((f=n.future)==null?void 0:f.actual)??0)},wants:{target:i(((c=n.wants)==null?void 0:c.target)??0),actual:i(((d=n.wants)==null?void 0:d.actual)??0)}},migrated:e}}const Xn={BUDGET:"shopping_spree_budget",ITEMS:"shopping_spree_items"},Ny=(t,e)=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error("Local Storage Error",n),e}},Ya=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Local Storage Save Error",n)}};function fu(){return!!Nm()}async function xy(t){if(fu())try{await uE(t)}catch(e){console.error("Firebase sync error:",e)}}async function eD(t){if(fu())try{await cE(t)}catch(e){console.error("Firebase sync error:",e)}}const Qa={getBudget:async()=>{const t=Ny(Xn.BUDGET,Rm()),{budget:e,migrated:n}=br(t);if(n&&Ya(Xn.BUDGET,e),fu())try{const i=await yh();if(i&&i.budget){const{budget:s,migrated:a}=br(i.budget);return Ya(Xn.BUDGET,s),a&&await xy(s),s}}catch(i){console.error("Firebase load error:",i)}return e},saveBudget:async t=>{const{budget:e}=br(t);Ya(Xn.BUDGET,e),await xy(e)},getItems:async()=>{let t=Ny(Xn.ITEMS,[]);if(Array.isArray(t)||(t=t&&typeof t=="object"?Object.values(t):[]),fu())try{const e=await yh();if(e&&e.items){let n=e.items;return Array.isArray(n)||(n=n&&typeof n=="object"?Object.values(n):[]),Ya(Xn.ITEMS,n),n}}catch(e){console.error("Firebase load error:",e)}return t},saveItems:async t=>{Ya(Xn.ITEMS,t),await eD(t)},getKeys:()=>Xn};function tD(t,e){let n=0;const i=new Date(t,e,1);for(;i.getMonth()===e;)i.getDay()===6&&n++,i.setDate(i.getDate()+1);return n}function nD(t=new Date){const e=new Date(t),n=e.getDate();let i=0;for(let s=1;s<n;s++)new Date(e.getFullYear(),e.getMonth(),s).getDay()===6&&i++;return i+1}function iD(t,e,n){return t-e-n}function sD(t,e,n){return t+e+n}function aD(t,e,n,i){const s=i,a=Math.round(t/s),r=Math.round(t*n/s)||a*n;return{remaining:r-e,weeklyLimit:a,cumulativeAllowed:r}}const rD=45,lD="2026-01-02T09:05:12.088Z",_h={buildNumber:rD,builtAt:lD},dE=b.createContext(),oD=[{id:"demo-1",name:"Milk",isInStock:!1,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-2",name:"Eggs",isInStock:!0,isOnShoppingList:!1,activatedAt:Date.now()},{id:"demo-3",name:"Bread",isInStock:!1,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-4",name:"Coffee",isInStock:!0,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-5",name:"Ice Cream",isInStock:!1,isOnShoppingList:!1}],uD=br({income:{target:5e3,actual:3100},needs:{target:2e3,actual:1950},future:{target:1e3,actual:1e3},wants:{target:2e3,actual:150}}).budget;function cD({children:t}){const[e,n]=b.useState(Rm()),[i,s]=b.useState([]),[a,r]=b.useState(!0),[l,o]=b.useState(null),[u,h]=b.useState(typeof navigator>"u"?!0:navigator.onLine),f=b.useRef(!1);b.useEffect(()=>{(async()=>{const[w,A]=await Promise.all([Qa.getBudget(),Qa.getItems()]),N=Array.isArray(A)?A:[];N.length===0&&(!w||w.income.target===0)?(n(uD),s(oD)):(n(w),s(N)),r(!1)})()},[]),b.useEffect(()=>{const R=wm(w=>{o(w)});return()=>R==null?void 0:R()},[]),b.useEffect(()=>{if(typeof window>"u")return;const R=()=>h(navigator.onLine);return window.addEventListener("online",R),window.addEventListener("offline",R),()=>{window.removeEventListener("online",R),window.removeEventListener("offline",R)}},[]),b.useEffect(()=>{!a&&!f.current&&Qa.saveBudget(e),f.current=!1},[e,a]),b.useEffect(()=>{!a&&!f.current&&Qa.saveItems(i),f.current=!1},[i,a]),b.useEffect(()=>{if(a||!l)return;let R;return W0(()=>Promise.resolve().then(()=>hE),[]).then(async({listenToFamilyBudget:w,listenToFamilyItems:A,stopListening:N})=>{const O=w(Y=>{if(!Y)return;const{budget:me,migrated:Ie}=br(Y);f.current=!0,n(me),localStorage.setItem("shopping_spree_budget",JSON.stringify(me)),Ie&&Qa.saveBudget(me).catch(console.error)}),z=A(Y=>{if(!Y)return;f.current=!0;const me=Array.isArray(Y)?Y:[];s(me),localStorage.setItem("shopping_spree_items",JSON.stringify(me))});R=()=>{O==null||O(),z==null||z(),N()}}).catch(w=>{console.error("Firebase listener error:",w)}),()=>{R==null||R()}},[a,l]),b.useEffect(()=>{if(a||!l||!u)return;(async()=>{try{if(!await Am(l.uid))return;const A=await rE(),N=Number(A==null?void 0:A.buildNumber),O=Number(_h.buildNumber);Number.isFinite(O)&&(!Number.isFinite(N)||N<O)&&await fE({buildNumber:O,builtAt:_h.builtAt})}catch(w){console.error("Failed to sync build info to database",w)}})()},[a,l,u]);const c=(R,w,A)=>{if(R==="income"&&w==="actual"||R==="wants"&&w==="target")return;const N=Math.round(Number(A)||0),O={lastModified:new Date().toISOString(),lastModifiedBy:(l==null?void 0:l.email)??"Local user"};n(z=>{const Y={...z,currencyVersion:z.currencyVersion??cu,metadata:{...z.metadata,...O},[R]:{...z[R],[w]:N}},me=R==="needs"&&w==="actual"?N:Y.needs.actual,Ie=R==="future"&&w==="actual"?N:Y.future.actual,st=R==="wants"&&w==="actual"?N:Y.wants.actual;Y.income.actual=sD(me,Ie,st);const L=R==="income"&&w==="target"?N:Y.income.target,G=R==="needs"&&w==="target"?N:Y.needs.target,P=R==="future"&&w==="target"?N:Y.future.target;return Y.wants.target=iD(L,G,P),l&&(oo(R,w,N).catch(console.error),(R==="needs"||R==="future"||R==="wants")&&oo("income","actual",Y.income.actual).catch(console.error),(R==="income"||R==="needs"||R==="future")&&oo("wants","target",Y.wants.target).catch(console.error)),Y})},d=R=>{const w=R.trim();if(!w)return;const A=i.find(O=>O.name.toLowerCase()===w.toLowerCase());if(A)return A;const N={id:crypto.randomUUID(),name:w,isInStock:!1,isOnShoppingList:!1,activatedAt:Date.now()};return l&&Gi(N).catch(console.error),s(O=>[...O,N]),N},g=(R,w)=>{s(A=>A.map(N=>{if(N.id!==R)return N;const O=typeof w=="boolean"?w:!N.isInStock,z={...N,isInStock:O,activatedAt:O?Date.now():N.activatedAt};return l&&Gi(z).catch(console.error),z}))},C=(R,w)=>{s(A=>A.map(N=>{if(N.id!==R)return N;const O=typeof w=="boolean"?w:!N.isOnShoppingList,z={...N,isOnShoppingList:O,activatedAt:O?Date.now():N.activatedAt};return l&&Gi(z).catch(console.error),z}))},E=R=>{s(w=>w.map(A=>{if(A.id!==R)return A;const N={...A,isOnShoppingList:!1};return l&&Gi(N).catch(console.error),N}))},m=(R,w)=>{const A=w.trim();A&&s(N=>N.map(O=>{if(O.id!==R)return O;const z={...O,name:A};return l&&Gi(z).catch(console.error),z}))},p=(R,w="both")=>{s(A=>A.map(N=>{if(N.id!==R)return N;const O={...N,isInStock:w==="shop"?N.isInStock:!1,isOnShoppingList:w==="stock"?N.isOnShoppingList:!1};return l&&Gi(O).catch(console.error),O}))},y=R=>{s(w=>w.filter(A=>A.id!==R)),l&&oE(R).catch(console.error)},T=b.useMemo(()=>{var me,Ie;const R=new Date,A=tD(R.getFullYear(),R.getMonth())||1,N=Number((me=e==null?void 0:e.wants)==null?void 0:me.target)||0,O=Number((Ie=e==null?void 0:e.wants)==null?void 0:Ie.actual)||0,z=nD(R);return{remaining:aD(N,O,z,A).remaining,currentWeek:z,totalWeeks:A}},[e]),I={budget:e,items:i,loading:a,currentUser:l,actions:{updateBudget:c,addItem:d,toggleStock:g,toggleShop:C,markBought:E,renameItem:m,hideItem:p,deleteItem:y},computed:{weeklyWantsRemaining:(T==null?void 0:T.remaining)||0,currentWeek:(T==null?void 0:T.currentWeek)||1,totalWeeks:(T==null?void 0:T.totalWeeks)||4}};return S.jsx(dE.Provider,{value:I,children:t})}const Ku=()=>b.useContext(dE);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Ry=t=>{const e=hD(t);return e.charAt(0).toUpperCase()+e.slice(1)},mE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),dD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:r,...l},o)=>b.createElement("svg",{ref:o,...mD,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:mE("lucide",s),...!a&&!dD(l)&&{"aria-hidden":"true"},...l},[...r.map(([u,h])=>b.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=(t,e)=>{const n=b.forwardRef(({className:i,...s},a)=>b.createElement(pD,{ref:a,iconNode:e,className:mE(`lucide-${fD(Ry(t))}`,`lucide-${t}`,i),...s}));return n.displayName=Ry(t),n};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],yD=Dt("box",gD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vD=Dt("check",_D);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SD=Dt("chevron-down",bD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],CD=Dt("chevron-up",ED);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wD=Dt("circle-x",TD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ND=Dt("clock",AD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],RD=Dt("ghost",xD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],OD=Dt("log-in",MD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ID=Dt("log-out",DD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],LD=Dt("package-plus",kD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zD=Dt("pencil",UD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],My=Dt("search",BD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Mm=Dt("shopping-cart",jD);function HD({compact:t=!1}){const[e,n]=b.useState(null),[i,s]=b.useState(""),[a,r]=b.useState(""),[l,o]=b.useState("idle");b.useEffect(()=>{let C;return n(Nm()),C=wm(E=>{n(E),E?(s(`Syncing as ${E.email}`),r(""),o("approved")):o("idle")}),()=>C==null?void 0:C()},[]);const u=async()=>{r(""),s(""),o("idle");try{const C=await sE();n(C),s(`Syncing as ${C.email}`),o("approved")}catch(C){C.code==="auth/waiting-list"?(s("Waiting for admin approval"),o("pending")):r(C.message)}},h=async()=>{try{await aE(),n(null),s("Signed out"),o("idle")}catch{r("Failed to sign out")}},f=l==="pending"&&!e,c=()=>e?t?"bg-white/20 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200":f?t?"bg-amber-500/80 text-white":"bg-amber-500 text-white hover:bg-amber-600":t?"bg-white/10 text-white/90":"bg-blue-500 text-white hover:bg-blue-600",d=()=>e?S.jsx(ID,{size:18}):f?S.jsx(ND,{size:18}):S.jsx(OD,{size:18}),g=()=>a?"text-red-600":f?"text-amber-600":"text-green-600";return S.jsxs("div",{className:`flex items-center gap-2 ${t?"text-white":"bg-white rounded-xl shadow-sm p-4 border border-brand-100"}`,children:[S.jsxs("button",{onClick:e?h:u,className:`flex items-center justify-center h-9 px-3 rounded-full transition ${c()}`,"aria-label":e?"Sign out of Google":"Sign in with Google",title:e?"Sign out of Google":"Sign in with Google",children:[d(),!t&&S.jsx("span",{className:"ml-2 text-sm font-medium",children:e?"Sign Out":f?"Pending":"Sign In"})]}),!t&&S.jsxs("div",{className:"flex-1 text-sm text-gray-700 min-w-0",children:[S.jsx("p",{className:"font-medium truncate",children:e?e.email:"Sign in to sync across devices"}),(i||a)&&S.jsx("p",{className:g(),children:a||i})]}),t&&(i||a)&&S.jsx("span",{className:"sr-only","aria-live":"polite",children:a||i})]})}function PD(){var G,P,ae;const{computed:t,actions:e,budget:n,loading:i}=Ku(),[s,a]=b.useState(!1),[r,l]=b.useState(null),[o,u]=b.useState(""),[h,f]=b.useState(!1),[c,d]=b.useState(null),[g,C]=b.useState(""),E=b.useRef({}),m=b.useRef(null),[p,y]=b.useState({top:0,left:0,width:0}),T=v=>{if(!v)return"";try{const _=new Date(v),k=B=>B.toString().padStart(2,"0");return`${k(_.getDate())}/${k(_.getMonth()+1)}/${_.getFullYear()} ${k(_.getHours())}:${k(_.getMinutes())}:${k(_.getSeconds())}`}catch{return v}};b.useEffect(()=>{let v;return W0(async()=>{const{listenToBuildInfo:_}=await Promise.resolve().then(()=>hE);return{listenToBuildInfo:_}},void 0).then(({listenToBuildInfo:_})=>{v=_(k=>l(k))}).catch(_=>{console.error("Build info listener error:",_)}),()=>v==null?void 0:v()},[]);const I=async()=>{u(""),f(!0);try{if("caches"in window){const v=await caches.keys();await Promise.all(v.map(_=>caches.delete(_)))}if("serviceWorker"in navigator){const v=await navigator.serviceWorker.getRegistrations();await Promise.all(v.map(_=>_.unregister()))}u("Update applied. Reloading"),window.location.reload()}catch(v){console.error("Failed to clear local cache",v),u("Update failed. Please refresh manually."),f(!1)}},R=(v,_)=>`${v}-${_}`,w=(v,_)=>(c==null?void 0:c.category)===v&&(c==null?void 0:c.field)===_,A=(v,_)=>{const k=E.current[R(v,_)];if(!k)return;const B=k.getBoundingClientRect(),M=B.left+window.scrollX,U=B.bottom+window.scrollY,j=Math.max(B.width,220),H=Math.max(0,window.innerWidth+window.scrollX-j-12);y({left:Math.min(M,H),top:U+8,width:j})},N=(v,_)=>{d({category:v,field:_}),C(""),A(v,_)},O=(v,_,k)=>{d({category:v,field:_}),C(k),A(v,_)},z=()=>{setTimeout(()=>{var B;const v=document.activeElement,_=Object.values(E.current).includes(v),k=(B=m.current)==null?void 0:B.contains(v);!_&&!k&&(d(null),C(""))},0)},Y=()=>JO(g),me=v=>{var H;if(!c)return;const{category:_,field:k}=c,B=Number((H=n==null?void 0:n[_])==null?void 0:H[k])||0,M=Y();let U=B;v==="set"&&(U=M),v==="add"&&(U=B+M),v==="sub"&&(U=B-M),e.updateBudget(_,k,U),C("");const j=E.current[R(_,k)];j==null||j.focus(),j==null||j.select(),A(_,k)};if(b.useEffect(()=>{const v=()=>{c&&A(c.category,c.field)};return window.addEventListener("resize",v),window.addEventListener("scroll",v,!0),()=>{window.removeEventListener("resize",v),window.removeEventListener("scroll",v,!0)}},[c]),i)return S.jsx("div",{className:"h-24 bg-brand-500 animate-pulse"});const Ie=t.weeklyWantsRemaining,st=Ie<0,L=zi(Ie);return S.jsxs(S.Fragment,{children:[S.jsxs("header",{className:"bg-brand-500 text-white shadow-md z-10 transition-all duration-300 relative",children:[S.jsxs("div",{className:"px-4 pt-3 pb-2 grid grid-cols-[1fr_auto_1fr] items-center",children:[S.jsxs("div",{className:"flex flex-col gap-1",children:[S.jsx("div",{className:"opacity-80 text-xs font-medium uppercase tracking-wider",children:"Weekly Wants"}),S.jsxs("div",{className:"bg-brand-600 px-2 py-0.5 rounded text-xs font-medium opacity-90 w-fit",children:["Week ",t.currentWeek," / ",t.totalWeeks]})]}),S.jsxs("button",{type:"button",onClick:()=>a(!s),className:"justify-self-center flex flex-col items-center justify-center gap-1 text-center cursor-pointer active:opacity-90 transition-opacity",children:[S.jsx("div",{className:`text-3xl font-bold tracking-tight transition-colors duration-300 ${st?"text-red-200":"text-white"}`,children:L}),S.jsx("div",{className:"flex justify-center -mt-1 opacity-50",children:s?S.jsx(CD,{size:16}):S.jsx(SD,{size:16})})]}),S.jsx("div",{className:"flex justify-end items-start text-right",children:S.jsx(HD,{compact:!0})})]}),S.jsx("div",{className:`bg-brand-600 overflow-hidden transition-all duration-300 ease-in-out ${s?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:S.jsxs("div",{className:"p-4 space-y-4",children:[S.jsxs("div",{className:"flex items-start justify-between gap-4 text-xs uppercase tracking-wide text-brand-100",children:[S.jsxs("div",{className:"flex flex-col gap-1",children:[S.jsx("span",{className:"font-semibold",children:"Budget"}),S.jsx("span",{className:"text-[11px] opacity-80",children:"Configuration"})]}),S.jsxs("div",{className:"flex flex-col items-end gap-1 text-right",children:[S.jsx("span",{className:"text-[10px] font-semibold tracking-widest uppercase text-brand-200",children:"Last Modified"}),S.jsx("span",{className:"text-[11px] font-semibold text-white",children:(G=n==null?void 0:n.metadata)!=null&&G.lastModified?T(n.metadata.lastModified):""}),(P=n==null?void 0:n.metadata)!=null&&P.lastModifiedBy?S.jsxs("span",{className:"text-[10px] text-brand-200",children:["by ",n.metadata.lastModifiedBy]}):null]})]}),["income","needs","future","wants"].map(v=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"capitalize font-medium opacity-90",children:v}),S.jsxs("div",{className:"flex gap-4 text-right",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-xs opacity-60",children:"Target"}),S.jsx("input",{ref:_=>{E.current[R(v,"target")]=_},type:"number",className:`w-20 bg-brand-700 text-white text-right rounded px-1 focus:ring-2 focus:ring-white outline-none ${v==="wants"?"opacity-50 cursor-not-allowed":""}`,value:w(v,"target")?g:zi(n[v].target),onChange:_=>O(v,"target",_.target.value),onFocus:()=>N(v,"target"),onBlur:z,onClick:_=>_.stopPropagation(),disabled:v==="wants",placeholder:zi(n[v].target)})]}),S.jsxs("div",{className:"border-l border-brand-500 pl-4",children:[S.jsx("div",{className:"text-xs opacity-60",children:"Actual"}),S.jsx("input",{ref:_=>{E.current[R(v,"actual")]=_},type:"number",className:`w-20 bg-brand-700 text-white text-right rounded px-1 focus:ring-2 focus:ring-white outline-none ${v==="income"?"opacity-50 cursor-not-allowed":""}`,value:w(v,"actual")?g:zi(n[v].actual),onChange:_=>O(v,"actual",_.target.value),onFocus:()=>N(v,"actual"),onBlur:z,onClick:_=>_.stopPropagation(),disabled:v==="income",placeholder:zi(n[v].actual)})]}),S.jsxs("div",{className:"border-l border-brand-500 pl-4",children:[S.jsx("div",{className:"text-xs opacity-60",children:"Remaining"}),S.jsx("div",{className:`w-20 text-right font-medium ${n[v].target-n[v].actual<0?"text-red-300":"text-white"}`,children:zi(n[v].target-n[v].actual)})]})]})]},v)),S.jsx("div",{className:"mt-4 pt-4 border-t border-brand-500/60 flex justify-end",children:S.jsxs("div",{className:"text-sm font-semibold text-white flex flex-col items-end gap-2 text-right w-full",children:[S.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-end",children:[S.jsxs("span",{children:["Build #",_h.buildNumber]}),S.jsx("span",{className:"text-white/40",children:"/"}),S.jsxs("span",{children:["DB #",(r==null?void 0:r.buildNumber)??""]}),r!=null&&r.builtAt?S.jsxs("span",{className:"text-[11px] font-medium text-white/60",children:["(",T(r.builtAt),")"]}):S.jsx("span",{className:"text-[11px] font-medium text-white/60",children:"Waiting for database build metadata"}),S.jsx("button",{type:"button",onClick:I,disabled:h,className:"text-xs bg-white text-brand-700 font-semibold px-2.5 py-1 rounded-lg shadow-sm hover:bg-brand-50 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:h?"Updating":"Update"})]}),o&&S.jsx("div",{className:"text-[11px] font-medium text-white/70","aria-live":"polite",children:o})]})})]})})]}),c&&S.jsx("div",{className:"fixed inset-0 z-30 pointer-events-none",children:S.jsxs("div",{ref:m,className:"pointer-events-auto max-w-xs bg-white text-gray-800 rounded-xl shadow-lg border border-gray-100 p-2",style:{top:p.top,left:p.left,width:p.width||void 0,position:"absolute"},children:[S.jsxs("div",{className:"flex items-center justify-between text-[11px] font-semibold uppercase tracking-wide text-gray-500 mb-1",children:[S.jsxs("span",{children:[c.category,"  ",c.field]}),S.jsx("span",{className:"text-gray-700",children:zi(((ae=n==null?void 0:n[c.category])==null?void 0:ae[c.field])??0)})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("button",{type:"button",onMouseDown:v=>v.preventDefault(),onClick:()=>me("set"),className:"flex-1 py-1.5 rounded-lg font-semibold text-[13px] uppercase bg-gray-100 text-gray-800 hover:bg-gray-200 active:scale-[0.99] transition",children:"= Set"}),S.jsx("button",{type:"button",onMouseDown:v=>v.preventDefault(),onClick:()=>me("add"),className:"flex-1 py-1.5 rounded-lg font-semibold text-[13px] uppercase bg-green-100 text-green-800 hover:bg-green-200 active:scale-[0.99] transition",children:"+ Add"}),S.jsx("button",{type:"button",onMouseDown:v=>v.preventDefault(),onClick:()=>me("sub"),className:"flex-1 py-1.5 rounded-lg font-semibold text-[13px] uppercase bg-red-100 text-red-800 hover:bg-red-200 active:scale-[0.99] transition",children:" Sub"})]})]})})]})}function VD({children:t}){const e=Ii(),n=V0(),i=b.useRef(null),s=b.useRef(null),[a,r]=b.useState(null),l=E=>e.pathname===E,o=(E,m)=>{r(m),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{r(null)},200),n(E)},u=(E,m)=>{i.current={...E,source:m}},h=(E,m)=>{if(!i.current||i.current.source!==m)return;const p=E.x-i.current.x,y=E.y-i.current.y;Math.abs(p)>60&&Math.abs(p)>Math.abs(y)&&(p<0&&!l("/stock")?o("/stock","left"):p>0&&!l("/")&&o("/","right")),i.current=null},f=E=>{var m;E.pointerType!=="touch"||((m=i.current)==null?void 0:m.source)==="touch"||u({x:E.clientX,y:E.clientY},"pointer")},c=E=>{E.pointerType==="touch"&&h({x:E.clientX,y:E.clientY},"pointer")},d=E=>{var m;(m=E.touches)!=null&&m.length&&u({x:E.touches[0].clientX,y:E.touches[0].clientY},"touch")},g=E=>{var m;(m=E.changedTouches)!=null&&m.length&&h({x:E.changedTouches[0].clientX,y:E.changedTouches[0].clientY},"touch")};b.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]);const C=a==="left"?"swipe-slide-left":a==="right"?"swipe-slide-right":"";return S.jsxs("div",{className:"flex flex-col h-screen bg-brand-50 text-gray-800 font-sans overflow-hidden",children:[S.jsx(PD,{}),S.jsxs("main",{className:`flex-1 overflow-y-auto pb-24 relative p-4 space-y-4 ${C}`,onPointerDown:f,onPointerUp:c,onTouchStart:d,onTouchEnd:g,style:{touchAction:"pan-y"},"aria-label":"Swipe left or right on empty space to switch between tabs",children:[S.jsx("p",{className:"sr-only",children:"Swipe left or right on empty space to switch between Shop and Stock. Swipe an item left to open hide or delete options; use the visible buttons to buy or move items."}),t]}),S.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-brand-100 shadow-lg pb-safe",children:S.jsxs("div",{className:"flex justify-around items-center h-16",children:[S.jsxs(Ho,{to:"/",className:`flex flex-col items-center justify-center w-full h-full transition-colors ${l("/")?"text-brand-600":"text-gray-400"}`,children:[S.jsx(Mm,{size:24}),S.jsx("span",{className:"text-xs font-medium mt-1",children:"Shop"})]}),S.jsxs(Ho,{to:"/stock",className:`flex flex-col items-center justify-center w-full h-full transition-colors ${l("/stock")?"text-brand-600":"text-gray-400"}`,children:[S.jsx(yD,{size:24}),S.jsx("span",{className:"text-xs font-medium mt-1",children:"Stock"})]})]})})]})}var Om={};(function t(e,n,i,s){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),r=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;try{var v=new OffscreenCanvas(1,1),_=v.getContext("2d");_.fillRect(0,0,1,1);var k=v.transferToImageBitmap();_.createPattern(k,"no-repeat")}catch{return!1}return!0}();function o(){}function u(v){var _=n.exports.Promise,k=_!==void 0?_:e.Promise;return typeof k=="function"?new k(v):(v(o,o),null)}var h=function(v,_){return{transform:function(k){if(v)return k;if(_.has(k))return _.get(k);var B=new OffscreenCanvas(k.width,k.height),M=B.getContext("2d");return M.drawImage(k,0,0),_.set(k,B),B},clear:function(){_.clear()}}}(l,new Map),f=function(){var v=Math.floor(16.666666666666668),_,k,B={},M=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(U){var j=Math.random();return B[j]=requestAnimationFrame(function H(ee){M===ee||M+v-1<ee?(M=ee,delete B[j],U()):B[j]=requestAnimationFrame(H)}),j},k=function(U){B[U]&&cancelAnimationFrame(B[U])}):(_=function(U){return setTimeout(U,v)},k=function(U){return clearTimeout(U)}),{frame:_,cancel:k}}(),c=function(){var v,_,k={};function B(M){function U(j,H){M.postMessage({options:j||{},callback:H})}M.init=function(H){var ee=H.transferControlToOffscreen();M.postMessage({canvas:ee},[ee])},M.fire=function(H,ee,ge){if(_)return U(H,null),_;var Ne=Math.random().toString(36).slice(2);return _=u(function(be){function xe(Xe){Xe.data.callback===Ne&&(delete k[Ne],M.removeEventListener("message",xe),_=null,h.clear(),ge(),be())}M.addEventListener("message",xe),U(H,Ne),k[Ne]=xe.bind(null,{data:{callback:Ne}})}),_},M.reset=function(){M.postMessage({reset:!0});for(var H in k)k[H](),delete k[H]}}return function(){if(v)return v;if(!i&&a){var M=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{v=new Worker(URL.createObjectURL(new Blob([M])))}catch(U){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",U),null}B(v)}return v}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(v,_){return _?_(v):v}function C(v){return v!=null}function E(v,_,k){return g(v&&C(v[_])?v[_]:d[_],k)}function m(v){return v<0?0:Math.floor(v)}function p(v,_){return Math.floor(Math.random()*(_-v))+v}function y(v){return parseInt(v,16)}function T(v){return v.map(I)}function I(v){var _=String(v).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:y(_.substring(0,2)),g:y(_.substring(2,4)),b:y(_.substring(4,6))}}function R(v){var _=E(v,"origin",Object);return _.x=E(_,"x",Number),_.y=E(_,"y",Number),_}function w(v){v.width=document.documentElement.clientWidth,v.height=document.documentElement.clientHeight}function A(v){var _=v.getBoundingClientRect();v.width=_.width,v.height=_.height}function N(v){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=v,_}function O(v,_,k,B,M,U,j,H,ee){v.save(),v.translate(_,k),v.rotate(U),v.scale(B,M),v.arc(0,0,1,j,H,ee),v.restore()}function z(v){var _=v.angle*(Math.PI/180),k=v.spread*(Math.PI/180);return{x:v.x,y:v.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:v.startVelocity*.5+Math.random()*v.startVelocity,angle2D:-_+(.5*k-Math.random()*k),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:v.color,shape:v.shape,tick:0,totalTicks:v.ticks,decay:v.decay,drift:v.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:v.gravity*3,ovalScalar:.6,scalar:v.scalar,flat:v.flat}}function Y(v,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var k=_.tick++/_.totalTicks,B=_.x+_.random*_.tiltCos,M=_.y+_.random*_.tiltSin,U=_.wobbleX+_.random*_.tiltCos,j=_.wobbleY+_.random*_.tiltSin;if(v.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-k)+")",v.beginPath(),r&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))v.fill(G(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(U-B)*.1,Math.abs(j-M)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var H=Math.PI/10*_.wobble,ee=Math.abs(U-B)*.1,ge=Math.abs(j-M)*.1,Ne=_.shape.bitmap.width*_.scalar,be=_.shape.bitmap.height*_.scalar,xe=new DOMMatrix([Math.cos(H)*ee,Math.sin(H)*ee,-Math.sin(H)*ge,Math.cos(H)*ge,_.x,_.y]);xe.multiplySelf(new DOMMatrix(_.shape.matrix));var Xe=v.createPattern(h.transform(_.shape.bitmap),"no-repeat");Xe.setTransform(xe),v.globalAlpha=1-k,v.fillStyle=Xe,v.fillRect(_.x-Ne/2,_.y-be/2,Ne,be),v.globalAlpha=1}else if(_.shape==="circle")v.ellipse?v.ellipse(_.x,_.y,Math.abs(U-B)*_.ovalScalar,Math.abs(j-M)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):O(v,_.x,_.y,Math.abs(U-B)*_.ovalScalar,Math.abs(j-M)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var ie=Math.PI/2*3,ct=4*_.scalar,Ft=8*_.scalar,Yt=_.x,pn=_.y,Li=5,sn=Math.PI/Li;Li--;)Yt=_.x+Math.cos(ie)*Ft,pn=_.y+Math.sin(ie)*Ft,v.lineTo(Yt,pn),ie+=sn,Yt=_.x+Math.cos(ie)*ct,pn=_.y+Math.sin(ie)*ct,v.lineTo(Yt,pn),ie+=sn;else v.moveTo(Math.floor(_.x),Math.floor(_.y)),v.lineTo(Math.floor(_.wobbleX),Math.floor(M)),v.lineTo(Math.floor(U),Math.floor(j)),v.lineTo(Math.floor(B),Math.floor(_.wobbleY));return v.closePath(),v.fill(),_.tick<_.totalTicks}function me(v,_,k,B,M){var U=_.slice(),j=v.getContext("2d"),H,ee,ge=u(function(Ne){function be(){H=ee=null,j.clearRect(0,0,B.width,B.height),h.clear(),M(),Ne()}function xe(){i&&!(B.width===s.width&&B.height===s.height)&&(B.width=v.width=s.width,B.height=v.height=s.height),!B.width&&!B.height&&(k(v),B.width=v.width,B.height=v.height),j.clearRect(0,0,B.width,B.height),U=U.filter(function(Xe){return Y(j,Xe)}),U.length?H=f.frame(xe):be()}H=f.frame(xe),ee=be});return{addFettis:function(Ne){return U=U.concat(Ne),ge},canvas:v,promise:ge,reset:function(){H&&f.cancel(H),ee&&ee()}}}function Ie(v,_){var k=!v,B=!!E(_||{},"resize"),M=!1,U=E(_,"disableForReducedMotion",Boolean),j=a&&!!E(_||{},"useWorker"),H=j?c():null,ee=k?w:A,ge=v&&H?!!v.__confetti_initialized:!1,Ne=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,be;function xe(ie,ct,Ft){for(var Yt=E(ie,"particleCount",m),pn=E(ie,"angle",Number),Li=E(ie,"spread",Number),sn=E(ie,"startVelocity",Number),vE=E(ie,"decay",Number),bE=E(ie,"gravity",Number),SE=E(ie,"drift",Number),Im=E(ie,"colors",T),EE=E(ie,"ticks",Number),km=E(ie,"shapes"),CE=E(ie,"scalar"),TE=!!E(ie,"flat"),Lm=R(ie),Um=Yt,Xu=[],wE=v.width*Lm.x,AE=v.height*Lm.y;Um--;)Xu.push(z({x:wE,y:AE,angle:pn,spread:Li,startVelocity:sn,color:Im[Um%Im.length],shape:km[p(0,km.length)],ticks:EE,decay:vE,gravity:bE,drift:SE,scalar:CE,flat:TE}));return be?be.addFettis(Xu):(be=me(v,Xu,ee,ct,Ft),be.promise)}function Xe(ie){var ct=U||E(ie,"disableForReducedMotion",Boolean),Ft=E(ie,"zIndex",Number);if(ct&&Ne)return u(function(sn){sn()});k&&be?v=be.canvas:k&&!v&&(v=N(Ft),document.body.appendChild(v)),B&&!ge&&ee(v);var Yt={width:v.width,height:v.height};H&&!ge&&H.init(v),ge=!0,H&&(v.__confetti_initialized=!0);function pn(){if(H){var sn={getBoundingClientRect:function(){if(!k)return v.getBoundingClientRect()}};ee(sn),H.postMessage({resize:{width:sn.width,height:sn.height}});return}Yt.width=Yt.height=null}function Li(){be=null,B&&(M=!1,e.removeEventListener("resize",pn)),k&&v&&(document.body.contains(v)&&document.body.removeChild(v),v=null,ge=!1)}return B&&!M&&(M=!0,e.addEventListener("resize",pn,!1)),H?H.fire(ie,Yt,Li):xe(ie,Yt,Li)}return Xe.reset=function(){H&&H.reset(),be&&be.reset()},Xe}var st;function L(){return st||(st=Ie(null,{useWorker:!0,resize:!0})),st}function G(v,_,k,B,M,U,j){var H=new Path2D(v),ee=new Path2D;ee.addPath(H,new DOMMatrix(_));var ge=new Path2D;return ge.addPath(ee,new DOMMatrix([Math.cos(j)*M,Math.sin(j)*M,-Math.sin(j)*U,Math.cos(j)*U,k,B])),ge}function P(v){if(!r)throw new Error("path confetti are not supported in this browser");var _,k;typeof v=="string"?_=v:(_=v.path,k=v.matrix);var B=new Path2D(_),M=document.createElement("canvas"),U=M.getContext("2d");if(!k){for(var j=1e3,H=j,ee=j,ge=0,Ne=0,be,xe,Xe=0;Xe<j;Xe+=2)for(var ie=0;ie<j;ie+=2)U.isPointInPath(B,Xe,ie,"nonzero")&&(H=Math.min(H,Xe),ee=Math.min(ee,ie),ge=Math.max(ge,Xe),Ne=Math.max(Ne,ie));be=ge-H,xe=Ne-ee;var ct=10,Ft=Math.min(ct/be,ct/xe);k=[Ft,0,0,Ft,-Math.round(be/2+H)*Ft,-Math.round(xe/2+ee)*Ft]}return{type:"path",path:_,matrix:k}}function ae(v){var _,k=1,B="#000000",M='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof v=="string"?_=v:(_=v.text,k="scalar"in v?v.scalar:k,M="fontFamily"in v?v.fontFamily:M,B="color"in v?v.color:B);var U=10*k,j=""+U+"px "+M,H=new OffscreenCanvas(U,U),ee=H.getContext("2d");ee.font=j;var ge=ee.measureText(_),Ne=Math.ceil(ge.actualBoundingBoxRight+ge.actualBoundingBoxLeft),be=Math.ceil(ge.actualBoundingBoxAscent+ge.actualBoundingBoxDescent),xe=2,Xe=ge.actualBoundingBoxLeft+xe,ie=ge.actualBoundingBoxAscent+xe;Ne+=xe+xe,be+=xe+xe,H=new OffscreenCanvas(Ne,be),ee=H.getContext("2d"),ee.font=j,ee.fillStyle=B,ee.fillText(_,Xe,ie);var ct=1/k;return{type:"bitmap",bitmap:H.transferToImageBitmap(),matrix:[ct,0,0,ct,-Ne*ct/2,-be*ct/2]}}n.exports=function(){return L().apply(this,arguments)},n.exports.reset=function(){L().reset()},n.exports.create=Ie,n.exports.shapeFromPath=P,n.exports.shapeFromText=ae})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Om,!1);const qD=Om.exports;Om.exports.create;function pE({item:t,mode:e}){const{actions:n}=Ku(),[i,s]=b.useState(!1),[a,r]=b.useState(t.name),l=b.useRef(null),o=b.useRef({x:0,y:0}),u=b.useRef(null),[h,f]=b.useState(0),[c,d]=b.useState(!1),[g,C]=b.useState(!1);b.useEffect(()=>{i&&l.current&&(l.current.focus(),l.current.select())},[i]);const E=M=>{const U={x:((M==null?void 0:M.x)??window.innerWidth/2)/window.innerWidth,y:((M==null?void 0:M.y)??window.innerHeight/2)/window.innerHeight};qD({origin:U,particleCount:50,spread:60,colors:["#f43f5e","#fb7185","#ffe4e6"]})},m=(M,U)=>{if(M!=null&&M.target){const j=M.target.getBoundingClientRect();E({x:j.left+j.width/2,y:j.top+j.height/2})}else E(U||o.current);n.markBought(t.id)},p=()=>{n.toggleShop(t.id)},y=()=>{r(t.name),s(!0)},T=()=>{a.trim()?n.renameItem(t.id,a):r(t.name),s(!1)},I=()=>{r(t.name),s(!1)},R=M=>{M.key==="Enter"?T():M.key==="Escape"&&I()},w=M=>Math.abs(M)<10?null:M<0?"hide":null,A=()=>{f(0),d(!1),u.current=null},N=(M,U)=>{u.current={...M,source:U},o.current=M,d(!0)},O=(M,U)=>{if(!c||!u.current||u.current.source!==U||g)return;o.current=M;const j=M.x-u.current.x;f(Math.min(j,0))},z=M=>{var j;if(!c||((j=u.current)==null?void 0:j.source)!==M||g)return;(Math.abs(h)>80?w(h):null)==="hide"&&C(!0),A()},Y=M=>{var U;g||M.pointerType==="mouse"&&M.button!==0||((U=u.current)==null?void 0:U.source)!=="touch"&&(M.target.closest("button")||(M.stopPropagation(),N({x:M.clientX,y:M.clientY},"pointer")))},me=M=>{O({x:M.clientX,y:M.clientY},"pointer")},Ie=M=>{M.stopPropagation(),z("pointer")},st=M=>{var U;!((U=M.touches)!=null&&U.length)||g||M.target.closest("button")||(M.stopPropagation(),N({x:M.touches[0].clientX,y:M.touches[0].clientY},"touch"))},L=M=>{var U;(U=M.touches)!=null&&U.length&&O({x:M.touches[0].clientX,y:M.touches[0].clientY},"touch")},G=M=>{var U;(U=M.changedTouches)!=null&&U.length&&(M.stopPropagation(),o.current={x:M.changedTouches[0].clientX,y:M.changedTouches[0].clientY},z("touch"))},P=()=>{n.hideItem(t.id,e),C(!1)},ae=()=>{n.deleteItem(t.id),C(!1)},v=()=>C(!1),_=w(h);return S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:`absolute inset-0 rounded-xl px-4 flex items-center justify-end select-none transition-colors duration-150 ${_==="hide"?"bg-red-50":"bg-gray-50"}`,style:{touchAction:"pan-y"},children:S.jsx("span",{className:`text-xs sm:text-sm font-semibold whitespace-nowrap text-red-500 text-right transition-opacity ${h<-10?"opacity-100":"opacity-40"}`,children:"Swipe left to hide or delete"})}),S.jsxs("div",{"data-item-id":t.id,className:`bg-white rounded-xl shadow-sm p-4 flex items-center justify-between group animate-pop transition-transform duration-150 ${c?"cursor-grabbing":"cursor-pointer"}`,style:{transform:`translateX(${h}px)`,touchAction:"pan-y"},onPointerDown:Y,onPointerMove:me,onPointerUp:Ie,onPointerCancel:Ie,onTouchStart:st,onTouchMove:L,onTouchEnd:G,children:[S.jsx("div",{className:"flex-1 flex items-center gap-2",children:i?S.jsx("input",{ref:l,type:"text",value:a,onChange:M=>r(M.target.value),onBlur:T,onKeyDown:R,className:"flex-1 font-medium text-lg text-gray-800 border-b-2 border-brand-500 outline-none bg-transparent"}):S.jsxs(S.Fragment,{children:[S.jsx("h3",{className:"font-medium text-lg text-gray-800",children:t.name}),S.jsx("button",{onClick:y,className:"p-1 hover:bg-gray-100 rounded transition-opacity",title:"Rename",children:S.jsx(zD,{size:16,className:"text-gray-400"})})]})}),S.jsxs("div",{className:"flex items-center gap-2",children:[e==="shop"&&S.jsx("button",{onClick:m,className:"w-10 h-10 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center hover:bg-brand-500 hover:text-white transition-colors active:scale-90",title:"Mark Bought",children:S.jsx(vD,{size:20})}),e==="stock"&&S.jsx("button",{onClick:p,className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors active:scale-90 ${t.isOnShoppingList?"bg-brand-500 text-white hover:bg-brand-600":"bg-gray-100 text-gray-600 hover:bg-brand-500 hover:text-white"}`,title:t.isOnShoppingList?"Remove from Shopping List":"Add to Shopping List",children:S.jsx(Mm,{size:20})})]})]}),g&&S.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 backdrop-blur-sm flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-4 space-y-3",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Hide or delete this item?"}),S.jsx("p",{className:"text-sm text-gray-600",children:"Choose whether to temporarily hide it from the list or delete it permanently."})]}),S.jsxs("div",{className:"flex justify-end gap-2",children:[S.jsx("button",{type:"button",onClick:v,className:"px-3 py-2 rounded-lg text-sm font-semibold text-gray-600 hover:bg-gray-100",children:"Cancel"}),S.jsx("button",{type:"button",onClick:P,className:"px-3 py-2 rounded-lg text-sm font-semibold text-red-600 bg-red-50 hover:bg-red-100",children:"Hide"}),S.jsx("button",{type:"button",onClick:ae,className:"px-3 py-2 rounded-lg text-sm font-semibold text-white bg-red-500 hover:bg-red-600",children:"Delete"})]})]})})]})}function Zs(t){return t.trim().toLowerCase()}function GD(t,e){const n=Zs(e);if(!n)return null;const i=t.filter(a=>{var r;return(r=a.name)==null?void 0:r.toLowerCase().includes(n)});return i.length===0?null:[...i].sort((a,r)=>{const l=a.name.toLowerCase().startsWith(n),o=r.name.toLowerCase().startsWith(n);if(l!==o)return l?-1:1;const u=a.name.length-r.name.length;return u!==0?u:a.name.localeCompare(r.name,void 0,{sensitivity:"base"})})[0]}const Dm=(t,e)=>t.name.localeCompare(e.name,void 0,{sensitivity:"base"});function FD({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,inputRef:r}){const[l,o]=b.useState(""),[u,h]=b.useState(""),[f,c]=b.useState(null),[d,g]=b.useState(!1),C=b.useRef(!1),E=b.useRef(!1),m=b.useRef(!1);b.useEffect(()=>{a==null||a(u.trim())},[u,a]),b.useEffect(()=>{f&&(r!=null&&r.current)&&(r.current.setSelectionRange(f.start,f.end),c(null))},[f,l,r]);const p=()=>{o(""),h(""),g(!1)},y=(A,N=d)=>{if(E.current=!1,!A){o(""),c({start:0,end:0});return}if(N){o(A),c({start:A.length,end:A.length});return}const O=GD(t,A);if(O){const z=O.name,Y=z.toLowerCase(),me=Zs(A);if(Y.startsWith(me)&&z.length>A.length){E.current=!0,o(z),c({start:A.length,end:z.length});return}}o(A),c({start:A.length,end:A.length})},T=A=>{var v;const N=A.target.value,O=A.target.selectionStart??N.length;A.target.selectionEnd;const z=N.slice(0,O),Y=A.inputType||((v=A.nativeEvent)==null?void 0:v.inputType),me=Y==="deleteContentBackward"||C.current,Ie=(Y==null?void 0:Y.startsWith("insert"))??!me,st=E.current,L=C.current;Ie&&(st||L)&&(m.current=!0,E.current=!1),C.current=!1;const P=me?!0:Ie||N===""?!1:d,ae=m.current&&Ie;ae&&(m.current=!1),g(P),h(z),y(z,ae?!0:P)},I=A=>{if(!(r!=null&&r.current))return!1;const{selectionStart:N,selectionEnd:O}=r.current;if(N!==O){A.preventDefault();const z=l.slice(0,N)+l.slice(O);return m.current=!0,g(!0),h(z),o(z),c({start:z.length,end:z.length}),!0}if(l.length>u.length){A.preventDefault();const z=l.slice(0,N);return m.current=!0,g(!0),h(z),o(z),c({start:z.length,end:z.length}),!0}return!1},R=()=>{const A=l.trim();if(!A)return{status:"noop"};const N=t.find(z=>Zs(z.name)===Zs(A));if(N)return e(N)?(s==null||s(N),p(),{status:"existing",item:N}):(n(N),p(),{status:"reactivated",item:N});const O=i(A);return O?(n(O),p(),{status:"created",item:O}):(p(),{status:"noop"})};return{value:l,handleChange:T,handleKeyDown:A=>{if(A.key==="Backspace"&&(C.current=!0,I(A))){C.current=!1;return}A.key==="Enter"&&(A.preventDefault(),R())},handleSubmit:R,clearInput:p}}function gE({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,placeholder:r="Search or add item...",actionIcon:l,actionLabel:o}){const u=b.useRef(null),{value:h,handleChange:f,handleKeyDown:c,handleSubmit:d,clearInput:g}=FD({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,inputRef:u});return S.jsx("form",{onSubmit:C=>{C.preventDefault(),d()},className:"sticky top-0 bg-brand-50 pt-2 pb-4 z-10",children:S.jsxs("div",{className:"relative",children:[S.jsx(My,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),S.jsx("input",{ref:u,type:"text",placeholder:r,className:"w-full bg-white rounded-xl py-3 pl-10 pr-28 shadow-sm focus:ring-2 focus:ring-brand-500 outline-none",value:h,onChange:f,onKeyDown:c,"aria-label":r}),h.trim()&&S.jsx("button",{type:"button",onClick:()=>{var C;g(),(C=u.current)==null||C.focus()},className:"absolute right-12 top-1/2 -translate-y-1/2 inline-flex h-9 w-9 items-center justify-center rounded-full text-gray-500 transition-colors hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 focus:ring-offset-white","aria-label":"Clear filter",children:S.jsx(wD,{size:18,"aria-hidden":!0})}),S.jsxs("button",{type:"submit",disabled:!h.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-brand-500 text-white p-1.5 rounded-lg disabled:opacity-50",children:[l?S.jsx(l,{size:20,"aria-hidden":!0}):S.jsx(My,{size:20,"aria-hidden":!0}),S.jsx("span",{className:"sr-only",children:o||"Submit item"})]})]})})}function yE({items:t,isActive:e}){const[n,i]=b.useState(""),s=Zs(n),a=n.length>0,r=s.length>0,l=b.useMemo(()=>r?t.filter(d=>Zs(d.name).includes(s)):[],[r,t,s]),o=b.useMemo(()=>[...l].sort((d,g)=>{const C=Number(e(d))-Number(e(g));return C!==0?C:Dm(d,g)}),[l,e]),u=b.useMemo(()=>o.filter(d=>!e(d)),[o,e]),h=b.useMemo(()=>u.filter(d=>!d.isInStock&&!d.isOnShoppingList),[u]),f=b.useMemo(()=>u.filter(d=>d.isInStock||d.isOnShoppingList),[u]),c=b.useMemo(()=>o.filter(e),[o,e]);return{query:n,setQuery:i,normalizedQuery:s,hasQuery:a,sortedMatches:o,visibleAddableMatches:f,hiddenMatches:h,activeMatches:c}}function _E(t){const e=document.querySelector(`[data-item-id="${t}"]`);e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.classList.add("omni-highlighted"),window.setTimeout(()=>{e.classList.remove("omni-highlighted")},1e3))}function YD(){const{items:t,actions:e}=Ku(),n=b.useCallback(g=>g.isOnShoppingList,[]),{query:i,setQuery:s,hasQuery:a,sortedMatches:r,visibleAddableMatches:l,hiddenMatches:o,activeMatches:u}=yE({items:t,isActive:n}),h=b.useMemo(()=>t.filter(n).sort(Dm),[t,n]),f=g=>{e.toggleShop(g.id,!0)},c=g=>e.addItem(g),d=g=>{_E(g.id)};return S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Shopping List"}),S.jsx(gE,{items:t,isActive:n,activateItem:f,createItem:c,onExistingActive:d,onQueryChange:s,placeholder:"Search or Add item...",actionIcon:Mm,actionLabel:"Add to shopping list"}),h.length===0&&!a?S.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50 text-center",children:[S.jsx(RD,{size:48,className:"mb-4 text-brand-300"}),S.jsx("p",{children:"Your list is empty!"}),S.jsx("p",{className:"text-sm",children:"Check Stock to add items."})]}):a?S.jsx("div",{className:"space-y-2",children:r.length===0?S.jsxs("p",{className:"text-sm text-gray-500",children:['No matches found. Press Enter to add "',i.trim(),'".']}):S.jsxs("div",{className:"space-y-3",children:[l.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Available to add"}),l.map(g=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsxs("div",{className:"flex flex-col gap-0.5",children:[S.jsx("span",{className:"font-medium text-gray-800",children:g.name}),S.jsxs("div",{className:"flex gap-2 text-xs text-gray-500",children:[S.jsx("span",{children:"Not in current list"}),!g.isInStock&&S.jsx("span",{"aria-hidden":!0,children:""}),!g.isInStock&&S.jsx("span",{children:"Not in stock"})]})]}),S.jsx("button",{onClick:()=>e.toggleShop(g.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to list"})]},g.id))]}),o.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Hidden items"}),o.map(g=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsxs("div",{className:"flex flex-col gap-0.5",children:[S.jsx("span",{className:"font-medium text-gray-800",children:g.name}),S.jsxs("div",{className:"flex gap-2 text-xs text-gray-500",children:[S.jsx("span",{children:"Previously hidden"}),S.jsx("span",{"aria-hidden":!0,children:""}),S.jsx("span",{children:"Not in stock"})]})]}),S.jsx("button",{onClick:()=>e.toggleShop(g.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to list"})]},g.id))]}),u.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Already on your list"}),u.map(g=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsx("span",{className:"font-medium text-gray-800",children:g.name}),S.jsx("button",{disabled:!0,className:"px-3 py-2 rounded-lg text-sm font-semibold bg-gray-100 text-gray-500 cursor-not-allowed",children:"On list"})]},g.id))]})]})}):h.map(g=>S.jsx(pE,{item:g,mode:"shop"},g.id))]})}function QD(){const{items:t,actions:e}=Ku(),n=b.useCallback(g=>g.isInStock,[]),{query:i,setQuery:s,hasQuery:a,sortedMatches:r,visibleAddableMatches:l,hiddenMatches:o,activeMatches:u}=yE({items:t,isActive:n}),h=b.useMemo(()=>t.filter(n).sort(Dm),[t,n]),f=g=>{e.toggleStock(g.id,!0)},c=g=>e.addItem(g),d=g=>{_E(g.id)};return S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Stock Checklist"}),S.jsx(gE,{items:t,isActive:n,activateItem:f,createItem:c,onExistingActive:d,onQueryChange:s,placeholder:"Search or Add item...",actionIcon:LD,actionLabel:"Add to checklist"}),!a&&h.length===0&&S.jsx("div",{className:"text-center py-10 opacity-50",children:S.jsx("p",{children:"Your pantry is empty."})}),a?S.jsx("div",{className:"space-y-2",children:r.length===0?S.jsxs("p",{className:"text-sm text-gray-500",children:['No matches found. Press Enter to add "',i.trim(),'".']}):S.jsxs("div",{className:"space-y-3",children:[l.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Available to add"}),l.map(g=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsx("span",{className:"font-medium text-gray-800",children:g.name}),S.jsx("button",{onClick:()=>e.toggleStock(g.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to checklist"})]},g.id))]}),o.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Hidden items"}),o.map(g=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsx("span",{className:"font-medium text-gray-800",children:g.name}),S.jsx("button",{onClick:()=>e.toggleStock(g.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to checklist"})]},g.id))]}),u.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Already on checklist"}),u.map(g=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[S.jsx("span",{className:"font-medium text-gray-800",children:g.name}),S.jsx("button",{disabled:!0,className:"px-3 py-2 rounded-lg text-sm font-semibold bg-gray-100 text-gray-500 cursor-not-allowed",children:"On checklist"})]},g.id))]})]})}):S.jsx("div",{className:"space-y-3",children:h.map(g=>S.jsx(pE,{item:g,mode:"stock"},g.id))})]})}function KD(){return S.jsx(cD,{children:S.jsx(Bw,{children:S.jsx(VD,{children:S.jsxs(pw,{children:[S.jsx(Qf,{path:"/",element:S.jsx(YD,{})}),S.jsx(Qf,{path:"/stock",element:S.jsx(QD,{})})]})})})})}function XD(){if("serviceWorker"in navigator){const n=`/shopping-spree/service-worker.js${Number.isFinite(45)?"?build=45":""}`;navigator.serviceWorker.register(n).then(i=>{const s=a=>{a&&a.addEventListener("statechange",()=>{a.state==="installed"&&navigator.serviceWorker.controller&&a.postMessage({type:"SKIP_WAITING"})})};s(i.installing),i.addEventListener("updatefound",()=>{s(i.installing)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()}),i.update()}).catch(i=>{console.error("Service worker registration failed:",i)})}}CT.createRoot(document.getElementById("root")).render(S.jsx(b.StrictMode,{children:S.jsx(KD,{})}));XD();

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var My={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE=Symbol.for("react.transitional.element"),xE=Symbol.for("react.fragment");function Oy(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:NE,type:t,key:i,ref:e!==void 0?e:null,props:n}}fu.Fragment=xE;fu.jsx=Oy;fu.jsxs=Oy;My.exports=fu;var v=My.exports,Dy={exports:{}},Q={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=Symbol.for("react.transitional.element"),RE=Symbol.for("react.portal"),ME=Symbol.for("react.fragment"),OE=Symbol.for("react.strict_mode"),DE=Symbol.for("react.profiler"),IE=Symbol.for("react.consumer"),kE=Symbol.for("react.context"),LE=Symbol.for("react.forward_ref"),UE=Symbol.for("react.suspense"),zE=Symbol.for("react.memo"),Iy=Symbol.for("react.lazy"),BE=Symbol.for("react.activity"),Um=Symbol.iterator;function jE(t){return t===null||typeof t!="object"?null:(t=Um&&t[Um]||t["@@iterator"],typeof t=="function"?t:null)}var ky={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ly=Object.assign,Uy={};function ya(t,e,n){this.props=t,this.context=e,this.refs=Uy,this.updater=n||ky}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zy(){}zy.prototype=ya.prototype;function vh(t,e,n){this.props=t,this.context=e,this.refs=Uy,this.updater=n||ky}var bh=vh.prototype=new zy;bh.constructor=vh;Ly(bh,ya.prototype);bh.isPureReactComponent=!0;var zm=Array.isArray;function Kc(){}var we={H:null,A:null,T:null,S:null},By=Object.prototype.hasOwnProperty;function Sh(t,e,n){var i=n.ref;return{$$typeof:_h,type:t,key:e,ref:i!==void 0?i:null,props:n}}function HE(t,e){return Sh(t.type,e,t.props)}function Eh(t){return typeof t=="object"&&t!==null&&t.$$typeof===_h}function PE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bm=/\/+/g;function Xu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PE(""+t.key):e.toString(36)}function VE(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Kc,Kc):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ts(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case _h:case RE:r=!0;break;case Iy:return r=t._init,Ts(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+Xu(t,0):i,zm(s)?(n="",r!=null&&(n=r.replace(Bm,"$&/")+"/"),Ts(s,e,n,"",function(u){return u})):s!=null&&(Eh(s)&&(s=HE(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Bm,"$&/")+"/")+r)),e.push(s)),1;r=0;var l=i===""?".":i+":";if(zm(t))for(var o=0;o<t.length;o++)i=t[o],a=l+Xu(i,o),r+=Ts(i,e,n,a,s);else if(o=jE(t),typeof o=="function")for(t=o.call(t),o=0;!(i=t.next()).done;)i=i.value,a=l+Xu(i,o++),r+=Ts(i,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return Ts(VE(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function vl(t,e,n){if(t==null)return t;var i=[],s=0;return Ts(t,i,"","",function(a){return e.call(n,a,s++)}),i}function qE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jm=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},GE={map:vl,forEach:function(t,e,n){vl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vl(t,function(){e++}),e},toArray:function(t){return vl(t,function(e){return e})||[]},only:function(t){if(!Eh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Activity=BE;Q.Children=GE;Q.Component=ya;Q.Fragment=ME;Q.Profiler=DE;Q.PureComponent=vh;Q.StrictMode=OE;Q.Suspense=UE;Q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=we;Q.__COMPILER_RUNTIME={__proto__:null,c:function(t){return we.H.useMemoCache(t)}};Q.cache=function(t){return function(){return t.apply(null,arguments)}};Q.cacheSignal=function(){return null};Q.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Ly({},t.props),s=t.key;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)!By.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var r=Array(a),l=0;l<a;l++)r[l]=arguments[l+2];i.children=r}return Sh(t.type,s,i)};Q.createContext=function(t){return t={$$typeof:kE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:IE,_context:t},t};Q.createElement=function(t,e,n){var i,s={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)By.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return Sh(t,a,s)};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:LE,render:t}};Q.isValidElement=Eh;Q.lazy=function(t){return{$$typeof:Iy,_payload:{_status:-1,_result:t},_init:qE}};Q.memo=function(t,e){return{$$typeof:zE,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=we.T,n={};we.T=n;try{var i=t(),s=we.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Kc,jm)}catch(a){jm(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),we.T=e}};Q.unstable_useCacheRefresh=function(){return we.H.useCacheRefresh()};Q.use=function(t){return we.H.use(t)};Q.useActionState=function(t,e,n){return we.H.useActionState(t,e,n)};Q.useCallback=function(t,e){return we.H.useCallback(t,e)};Q.useContext=function(t){return we.H.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t,e){return we.H.useDeferredValue(t,e)};Q.useEffect=function(t,e){return we.H.useEffect(t,e)};Q.useEffectEvent=function(t){return we.H.useEffectEvent(t)};Q.useId=function(){return we.H.useId()};Q.useImperativeHandle=function(t,e,n){return we.H.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return we.H.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return we.H.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return we.H.useMemo(t,e)};Q.useOptimistic=function(t,e){return we.H.useOptimistic(t,e)};Q.useReducer=function(t,e,n){return we.H.useReducer(t,e,n)};Q.useRef=function(t){return we.H.useRef(t)};Q.useState=function(t){return we.H.useState(t)};Q.useSyncExternalStore=function(t,e,n){return we.H.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return we.H.useTransition()};Q.version="19.2.1";Dy.exports=Q;var b=Dy.exports,jy={exports:{}},hu={},Hy={exports:{}},Py={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,Y){var V=L.length;L.push(Y);e:for(;0<V;){var fe=V-1>>>1,E=L[fe];if(0<s(E,Y))L[fe]=Y,L[V]=E,V=fe;else break e}}function n(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var Y=L[0],V=L.pop();if(V!==Y){L[0]=V;e:for(var fe=0,E=L.length,_=E>>>1;fe<_;){var B=2*(fe+1)-1,H=L[B],C=B+1,x=L[C];if(0>s(H,V))C<E&&0>s(x,H)?(L[fe]=x,L[C]=V,fe=C):(L[fe]=H,L[B]=V,fe=B);else if(C<E&&0>s(x,V))L[fe]=x,L[C]=V,fe=C;else break e}}return Y}function s(L,Y){var V=L.sortIndex-Y.sortIndex;return V!==0?V:L.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();t.unstable_now=function(){return r.now()-l}}var o=[],u=[],h=1,f=null,c=3,d=!1,g=!1,T=!1,S=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function w(L){for(var Y=n(u);Y!==null;){if(Y.callback===null)i(u);else if(Y.startTime<=L)i(u),Y.sortIndex=Y.expirationTime,e(o,Y);else break;Y=n(u)}}function I(L){if(T=!1,w(L),!g)if(n(o)!==null)g=!0,M||(M=!0,G());else{var Y=n(u);Y!==null&&Xe(I,Y.startTime-L)}}var M=!1,A=-1,O=5,R=-1;function k(){return S?!0:!(t.unstable_now()-R<O)}function U(){if(S=!1,M){var L=t.unstable_now();R=L;var Y=!0;try{e:{g=!1,T&&(T=!1,p(A),A=-1),d=!0;var V=c;try{t:{for(w(L),f=n(o);f!==null&&!(f.expirationTime>L&&k());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,c=f.priorityLevel;var E=fe(f.expirationTime<=L);if(L=t.unstable_now(),typeof E=="function"){f.callback=E,w(L),Y=!0;break t}f===n(o)&&i(o),w(L)}else i(o);f=n(o)}if(f!==null)Y=!0;else{var _=n(u);_!==null&&Xe(I,_.startTime-L),Y=!1}}break e}finally{f=null,c=V,d=!1}Y=void 0}}finally{Y?G():M=!1}}}var G;if(typeof y=="function")G=function(){y(U)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ce=ie.port2;ie.port1.onmessage=U,G=function(){ce.postMessage(null)}}else G=function(){m(U,0)};function Xe(L,Y){A=m(function(){L(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_next=function(L){switch(c){case 1:case 2:case 3:var Y=3;break;default:Y=c}var V=c;c=Y;try{return L()}finally{c=V}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=c;c=L;try{return Y()}finally{c=V}},t.unstable_scheduleCallback=function(L,Y,V){var fe=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?fe+V:fe):V=fe,L){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=V+E,L={id:h++,callback:Y,priorityLevel:L,startTime:V,expirationTime:E,sortIndex:-1},V>fe?(L.sortIndex=V,e(u,L),n(o)===null&&L===n(u)&&(T?(p(A),A=-1):T=!0,Xe(I,V-fe))):(L.sortIndex=E,e(o,L),g||d||(g=!0,M||(M=!0,G()))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var Y=c;return function(){var V=c;c=Y;try{return L.apply(this,arguments)}finally{c=V}}}})(Py);Hy.exports=Py;var FE=Hy.exports,Vy={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE=b;function qy(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qn(){}var rt={d:{f:Qn,r:function(){throw Error(qy(522))},D:Qn,C:Qn,L:Qn,m:Qn,X:Qn,S:Qn,M:Qn},p:0,findDOMNode:null},QE=Symbol.for("react.portal");function KE(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:QE,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ja=YE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function du(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt;ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(qy(299));return KE(t,e,null,n)};ut.flushSync=function(t){var e=Ja.T,n=rt.p;try{if(Ja.T=null,rt.p=2,t)return t()}finally{Ja.T=e,rt.p=n,rt.d.f()}};ut.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,rt.d.C(t,e))};ut.prefetchDNS=function(t){typeof t=="string"&&rt.d.D(t)};ut.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=du(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?rt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&rt.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ut.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=du(e.as,e.crossOrigin);rt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&rt.d.M(t)};ut.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=du(n,e.crossOrigin);rt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ut.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=du(e.as,e.crossOrigin);rt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else rt.d.m(t)};ut.requestFormReset=function(t){rt.d.r(t)};ut.unstable_batchedUpdates=function(t,e){return t(e)};ut.useFormState=function(t,e,n){return Ja.H.useFormState(t,e,n)};ut.useFormStatus=function(){return Ja.H.useHostTransitionStatus()};ut.version="19.2.1";function Gy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gy)}catch(t){console.error(t)}}Gy(),Vy.exports=ut;var XE=Vy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ve=FE,Fy=b,WE=XE;function N(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ky(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hm(t){if(Kr(t)!==t)throw Error(N(188))}function $E(t){var e=t.alternate;if(!e){if(e=Kr(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Hm(s),t;if(a===i)return Hm(s),e;a=a.sibling}throw Error(N(188))}if(n.return!==i.return)n=s,i=a;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,i=a;break}if(l===i){r=!0,i=s,n=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===n){r=!0,n=a,i=s;break}if(l===i){r=!0,i=a,n=s;break}l=l.sibling}if(!r)throw Error(N(189))}}if(n.alternate!==i)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Xy(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Xy(t),e!==null)return e;t=t.sibling}return null}var Ae=Object.assign,ZE=Symbol.for("react.element"),bl=Symbol.for("react.transitional.element"),Ka=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),Wy=Symbol.for("react.strict_mode"),Xc=Symbol.for("react.profiler"),$y=Symbol.for("react.consumer"),Tn=Symbol.for("react.context"),Ch=Symbol.for("react.forward_ref"),Wc=Symbol.for("react.suspense"),$c=Symbol.for("react.suspense_list"),Th=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),Zc=Symbol.for("react.activity"),JE=Symbol.for("react.memo_cache_sentinel"),Pm=Symbol.iterator;function ka(t){return t===null||typeof t!="object"?null:(t=Pm&&t[Pm]||t["@@iterator"],typeof t=="function"?t:null)}var e1=Symbol.for("react.client.reference");function Jc(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===e1?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ns:return"Fragment";case Xc:return"Profiler";case Wy:return"StrictMode";case Wc:return"Suspense";case $c:return"SuspenseList";case Zc:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ka:return"Portal";case Tn:return t.displayName||"Context";case $y:return(t._context.displayName||"Context")+".Consumer";case Ch:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Th:return e=t.displayName||null,e!==null?e:Jc(t.type)||"Memo";case $n:e=t._payload,t=t._init;try{return Jc(t(e))}catch{}}return null}var Xa=Array.isArray,q=Fy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=WE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ki={pending:!1,data:null,method:null,action:null},ef=[],xs=-1;function hn(t){return{current:t}}function Ke(t){0>xs||(t.current=ef[xs],ef[xs]=null,xs--)}function Ee(t,e){xs++,ef[xs]=t.current,t.current=e}var on=hn(null),Sr=hn(null),fi=hn(null),oo=hn(null);function uo(t,e){switch(Ee(fi,e),Ee(Sr,t),Ee(on,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Qp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Qp(e),t=y0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ke(on),Ee(on,t)}function Js(){Ke(on),Ke(Sr),Ke(fi)}function tf(t){t.memoizedState!==null&&Ee(oo,t);var e=on.current,n=y0(e,t.type);e!==n&&(Ee(Sr,t),Ee(on,n))}function co(t){Sr.current===t&&(Ke(on),Ke(Sr)),oo.current===t&&(Ke(oo),Dr._currentValue=Ki)}var Wu,Vm;function Bi(t){if(Wu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wu=e&&e[1]||"",Vm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wu+t+Vm}var $u=!1;function Zu(t,e){if(!t||$u)return"";$u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(d){var c=d}Reflect.construct(t,[],f)}else{try{f.call()}catch(d){c=d}t.call(f.prototype)}}else{try{throw Error()}catch(d){c=d}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(d){if(d&&c&&typeof d.stack=="string")return[d.stack,c.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var o=r.split(`
`),u=l.split(`
`);for(s=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(i===o.length||s===u.length)for(i=o.length-1,s=u.length-1;1<=i&&0<=s&&o[i]!==u[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==u[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==u[s]){var h=`
`+o[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=i&&0<=s);break}}}finally{$u=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Bi(n):""}function t1(t,e){switch(t.tag){case 26:case 27:case 5:return Bi(t.type);case 16:return Bi("Lazy");case 13:return t.child!==e&&e!==null?Bi("Suspense Fallback"):Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Zu(t.type,!1);case 11:return Zu(t.type.render,!1);case 1:return Zu(t.type,!0);case 31:return Bi("Activity");default:return""}}function qm(t){try{var e="",n=null;do e+=t1(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var nf=Object.prototype.hasOwnProperty,wh=Ve.unstable_scheduleCallback,Ju=Ve.unstable_cancelCallback,n1=Ve.unstable_shouldYield,i1=Ve.unstable_requestPaint,Tt=Ve.unstable_now,s1=Ve.unstable_getCurrentPriorityLevel,Zy=Ve.unstable_ImmediatePriority,Jy=Ve.unstable_UserBlockingPriority,fo=Ve.unstable_NormalPriority,a1=Ve.unstable_LowPriority,e_=Ve.unstable_IdlePriority,r1=Ve.log,l1=Ve.unstable_setDisableYieldValue,Xr=null,wt=null;function ri(t){if(typeof r1=="function"&&l1(t),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Xr,t)}catch{}}var At=Math.clz32?Math.clz32:c1,o1=Math.log,u1=Math.LN2;function c1(t){return t>>>=0,t===0?32:31-(o1(t)/u1|0)|0}var Sl=256,El=262144,Cl=4194304;function ji(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mu(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,a=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~a,i!==0?s=ji(i):(r&=l,r!==0?s=ji(r):n||(n=l&~t,n!==0&&(s=ji(n))))):(l=i&~a,l!==0?s=ji(l):r!==0?s=ji(r):n||(n=i&~t,n!==0&&(s=ji(n)))),s===0?0:e!==0&&e!==s&&!(e&a)&&(a=s&-s,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:s}function Wr(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function f1(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t_(){var t=Cl;return Cl<<=1,!(Cl&62914560)&&(Cl=4194304),t}function ec(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $r(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function h1(t,e,n,i,s,a){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,o=t.expirationTimes,u=t.hiddenUpdates;for(n=r&~n;0<n;){var h=31-At(n),f=1<<h;l[h]=0,o[h]=-1;var c=u[h];if(c!==null)for(u[h]=null,h=0;h<c.length;h++){var d=c[h];d!==null&&(d.lane&=-536870913)}n&=~f}i!==0&&n_(t,i,0),a!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=a&~(r&~e))}function n_(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-At(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function i_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-At(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function s_(t,e){var n=e&-e;return n=n&42?1:Ah(n),n&(t.suspendedLanes|e)?0:n}function Ah(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Nh(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function a_(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:x0(t.type))}function Gm(t,e){var n=ue.p;try{return ue.p=t,e()}finally{ue.p=n}}var Di=Math.random().toString(36).slice(2),Je="__reactFiber$"+Di,_t="__reactProps$"+Di,_a="__reactContainer$"+Di,sf="__reactEvents$"+Di,d1="__reactListeners$"+Di,m1="__reactHandles$"+Di,Fm="__reactResources$"+Di,Zr="__reactMarker$"+Di;function xh(t){delete t[Je],delete t[_t],delete t[sf],delete t[d1],delete t[m1]}function Rs(t){var e=t[Je];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_a]||n[Je]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zp(t);t!==null;){if(n=t[Je])return n;t=Zp(t)}return e}t=n,n=t.parentNode}return null}function va(t){if(t=t[Je]||t[_a]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Wa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(N(33))}function Hs(t){var e=t[Fm];return e||(e=t[Fm]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ye(t){t[Zr]=!0}var r_=new Set,l_={};function hs(t,e){ea(t,e),ea(t+"Capture",e)}function ea(t,e){for(l_[t]=e,t=0;t<e.length;t++)r_.add(e[t])}var p1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ym={},Qm={};function g1(t){return nf.call(Qm,t)?!0:nf.call(Ym,t)?!1:p1.test(t)?Qm[t]=!0:(Ym[t]=!0,!1)}function Hl(t,e,n){if(g1(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Tl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function gn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function o_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y1(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function af(t){if(!t._valueTracker){var e=o_(t)?"checked":"value";t._valueTracker=y1(t,e,""+t[e])}}function u_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=o_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ho(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _1=/[\n"\\]/g;function zt(t){return t.replace(_1,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function rf(t,e,n,i,s,a,r,l){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+kt(e)):t.value!==""+kt(e)&&(t.value=""+kt(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?lf(t,r,kt(e)):n!=null?lf(t,r,kt(n)):i!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+kt(l):t.removeAttribute("name")}function c_(t,e,n,i,s,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){af(t);return}n=n!=null?""+kt(n):"",e=e!=null?""+kt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),af(t)}function lf(t,e,n){e==="number"&&ho(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ps(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+kt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function f_(t,e,n){if(e!=null&&(e=""+kt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+kt(n):""}function h_(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(N(92));if(Xa(i)){if(1<i.length)throw Error(N(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=kt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),af(t)}function ta(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var v1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Km(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||v1.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function d_(t,e,n){if(e!=null&&typeof e!="object")throw Error(N(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Km(t,s,i)}else for(var a in e)e.hasOwnProperty(a)&&Km(t,a,e[a])}function Rh(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(t){return S1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function wn(){}var of=null;function Mh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Vs=null;function Xm(t){var e=va(t);if(e&&(t=e.stateNode)){var n=t[_t]||null;e:switch(t=e.stateNode,e.type){case"input":if(rf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+zt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[_t]||null;if(!s)throw Error(N(90));rf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&u_(i)}break e;case"textarea":f_(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ps(t,!!n.multiple,e,!1)}}}var tc=!1;function m_(t,e,n){if(tc)return t(e,n);tc=!0;try{var i=t(e);return i}finally{if(tc=!1,(Ms!==null||Vs!==null)&&(Au(),Ms&&(e=Ms,t=Vs,Vs=Ms=null,Xm(e),t)))for(e=0;e<t.length;e++)Xm(t[e])}}function Er(t,e){var n=t.stateNode;if(n===null)return null;var i=n[_t]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uf=!1;if(Ln)try{var La={};Object.defineProperty(La,"passive",{get:function(){uf=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{uf=!1}var li=null,Oh=null,Vl=null;function p_(){if(Vl)return Vl;var t,e=Oh,n=e.length,i,s="value"in li?li.value:li.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[a-i];i++);return Vl=s.slice(t,1<i?1-i:void 0)}function ql(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wl(){return!0}function Wm(){return!1}function vt(t){function e(n,i,s,a,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?wl:Wm,this.isPropagationStopped=Wm,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),e}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=vt(ds),Jr=Ae({},ds,{view:0,detail:0}),E1=vt(Jr),nc,ic,Ua,gu=Ae({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ua&&(Ua&&t.type==="mousemove"?(nc=t.screenX-Ua.screenX,ic=t.screenY-Ua.screenY):ic=nc=0,Ua=t),nc)},movementY:function(t){return"movementY"in t?t.movementY:ic}}),$m=vt(gu),C1=Ae({},gu,{dataTransfer:0}),T1=vt(C1),w1=Ae({},Jr,{relatedTarget:0}),sc=vt(w1),A1=Ae({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),N1=vt(A1),x1=Ae({},ds,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),R1=vt(x1),M1=Ae({},ds,{data:0}),Zm=vt(M1),O1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I1[t])?!!e[t]:!1}function Dh(){return k1}var L1=Ae({},Jr,{key:function(t){if(t.key){var e=O1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ql(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dh,charCode:function(t){return t.type==="keypress"?ql(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ql(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U1=vt(L1),z1=Ae({},gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jm=vt(z1),B1=Ae({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dh}),j1=vt(B1),H1=Ae({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),P1=vt(H1),V1=Ae({},gu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q1=vt(V1),G1=Ae({},ds,{newState:0,oldState:0}),F1=vt(G1),Y1=[9,13,27,32],Ih=Ln&&"CompositionEvent"in window,er=null;Ln&&"documentMode"in document&&(er=document.documentMode);var Q1=Ln&&"TextEvent"in window&&!er,g_=Ln&&(!Ih||er&&8<er&&11>=er),ep=" ",tp=!1;function y_(t,e){switch(t){case"keyup":return Y1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function __(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function K1(t,e){switch(t){case"compositionend":return __(e);case"keypress":return e.which!==32?null:(tp=!0,ep);case"textInput":return t=e.data,t===ep&&tp?null:t;default:return null}}function X1(t,e){if(Os)return t==="compositionend"||!Ih&&y_(t,e)?(t=p_(),Vl=Oh=li=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g_&&e.locale!=="ko"?null:e.data;default:return null}}var W1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W1[t.type]:e==="textarea"}function v_(t,e,n,i){Ms?Vs?Vs.push(i):Vs=[i]:Ms=i,e=Oo(e,"onChange"),0<e.length&&(n=new pu("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var tr=null,Cr=null;function $1(t){m0(t,0)}function yu(t){var e=Wa(t);if(u_(e))return t}function ip(t,e){if(t==="change")return e}var b_=!1;if(Ln){var ac;if(Ln){var rc="oninput"in document;if(!rc){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),rc=typeof sp.oninput=="function"}ac=rc}else ac=!1;b_=ac&&(!document.documentMode||9<document.documentMode)}function ap(){tr&&(tr.detachEvent("onpropertychange",S_),Cr=tr=null)}function S_(t){if(t.propertyName==="value"&&yu(Cr)){var e=[];v_(e,Cr,t,Mh(t)),m_($1,e)}}function Z1(t,e,n){t==="focusin"?(ap(),tr=e,Cr=n,tr.attachEvent("onpropertychange",S_)):t==="focusout"&&ap()}function J1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(Cr)}function eC(t,e){if(t==="click")return yu(e)}function tC(t,e){if(t==="input"||t==="change")return yu(e)}function nC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xt=typeof Object.is=="function"?Object.is:nC;function Tr(t,e){if(xt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!nf.call(e,s)||!xt(t[s],e[s]))return!1}return!0}function rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lp(t,e){var n=rp(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rp(n)}}function E_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function C_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ho(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ho(t.document)}return e}function kh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var iC=Ln&&"documentMode"in document&&11>=document.documentMode,Ds=null,cf=null,nr=null,ff=!1;function op(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ff||Ds==null||Ds!==ho(i)||(i=Ds,"selectionStart"in i&&kh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),nr&&Tr(nr,i)||(nr=i,i=Oo(cf,"onSelect"),0<i.length&&(e=new pu("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ds)))}function zi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Is={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},lc={},T_={};Ln&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function ms(t){if(lc[t])return lc[t];if(!Is[t])return t;var e=Is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T_)return lc[t]=e[n];return t}var w_=ms("animationend"),A_=ms("animationiteration"),N_=ms("animationstart"),sC=ms("transitionrun"),aC=ms("transitionstart"),rC=ms("transitioncancel"),x_=ms("transitionend"),R_=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function tn(t,e){R_.set(t,e),hs(e,[t])}var mo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},It=[],ks=0,Lh=0;function _u(){for(var t=ks,e=Lh=ks=0;e<t;){var n=It[e];It[e++]=null;var i=It[e];It[e++]=null;var s=It[e];It[e++]=null;var a=It[e];if(It[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&M_(n,s,a)}}function vu(t,e,n,i){It[ks++]=t,It[ks++]=e,It[ks++]=n,It[ks++]=i,Lh|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Uh(t,e,n,i){return vu(t,e,n,i),po(t)}function ps(t,e){return vu(t,null,null,e),po(t)}function M_(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,s&&e!==null&&(s=31-At(n),t=a.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),a):null}function po(t){if(50<fr)throw fr=0,If=null,Error(N(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ls={};function lC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,n,i){return new lC(t,e,n,i)}function zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mn(t,e){var n=t.alternate;return n===null?(n=Et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function O_(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Gl(t,e,n,i,s,a){var r=0;if(i=t,typeof t=="function")zh(t)&&(r=1);else if(typeof t=="string")r=hT(t,n,on.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Zc:return t=Et(31,n,e,s),t.elementType=Zc,t.lanes=a,t;case Ns:return Xi(n.children,s,a,e);case Wy:r=8,s|=24;break;case Xc:return t=Et(12,n,e,s|2),t.elementType=Xc,t.lanes=a,t;case Wc:return t=Et(13,n,e,s),t.elementType=Wc,t.lanes=a,t;case $c:return t=Et(19,n,e,s),t.elementType=$c,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tn:r=10;break e;case $y:r=9;break e;case Ch:r=11;break e;case Th:r=14;break e;case $n:r=16,i=null;break e}r=29,n=Error(N(130,t===null?"null":typeof t,"")),i=null}return e=Et(r,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function Xi(t,e,n,i){return t=Et(7,t,i,e),t.lanes=n,t}function oc(t,e,n){return t=Et(6,t,null,e),t.lanes=n,t}function D_(t){var e=Et(18,null,null,0);return e.stateNode=t,e}function uc(t,e,n){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var up=new WeakMap;function Bt(t,e){if(typeof t=="object"&&t!==null){var n=up.get(t);return n!==void 0?n:(e={value:t,source:e,stack:qm(e)},up.set(t,e),e)}return{value:t,source:e,stack:qm(e)}}var Us=[],zs=0,go=null,wr=0,Lt=[],Ut=0,wi=null,an=1,rn="";function Sn(t,e){Us[zs++]=wr,Us[zs++]=go,go=t,wr=e}function I_(t,e,n){Lt[Ut++]=an,Lt[Ut++]=rn,Lt[Ut++]=wi,wi=t;var i=an;t=rn;var s=32-At(i)-1;i&=~(1<<s),n+=1;var a=32-At(e)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,an=1<<32-At(e)+s|n<<s|i,rn=a+t}else an=1<<a|n<<s|i,rn=t}function Bh(t){t.return!==null&&(Sn(t,1),I_(t,1,0))}function jh(t){for(;t===go;)go=Us[--zs],Us[zs]=null,wr=Us[--zs],Us[zs]=null;for(;t===wi;)wi=Lt[--Ut],Lt[Ut]=null,rn=Lt[--Ut],Lt[Ut]=null,an=Lt[--Ut],Lt[Ut]=null}function k_(t,e){Lt[Ut++]=an,Lt[Ut++]=rn,Lt[Ut++]=wi,an=e.id,rn=e.overflow,wi=t}var et=null,Te=null,ne=!1,hi=null,jt=!1,df=Error(N(519));function Ai(t){var e=Error(N(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ar(Bt(e,t)),df}function cp(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Je]=t,e[_t]=i,n){case"dialog":$("cancel",e),$("close",e);break;case"iframe":case"object":case"embed":$("load",e);break;case"video":case"audio":for(n=0;n<Mr.length;n++)$(Mr[n],e);break;case"source":$("error",e);break;case"img":case"image":case"link":$("error",e),$("load",e);break;case"details":$("toggle",e);break;case"input":$("invalid",e),c_(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":$("invalid",e);break;case"textarea":$("invalid",e),h_(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||g0(e.textContent,n)?(i.popover!=null&&($("beforetoggle",e),$("toggle",e)),i.onScroll!=null&&$("scroll",e),i.onScrollEnd!=null&&$("scrollend",e),i.onClick!=null&&(e.onclick=wn),e=!0):e=!1,e||Ai(t,!0)}function fp(t){for(et=t.return;et;)switch(et.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:et=et.return}}function Ss(t){if(t!==et)return!1;if(!ne)return fp(t),ne=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Bf(t.type,t.memoizedProps)),n=!n),n&&Te&&Ai(t),fp(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));Te=$p(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));Te=$p(t)}else e===27?(e=Te,Ii(t.type)?(t=Vf,Vf=null,Te=t):Te=e):Te=et?Vt(t.stateNode.nextSibling):null;return!0}function ts(){Te=et=null,ne=!1}function cc(){var t=hi;return t!==null&&(mt===null?mt=t:mt.push.apply(mt,t),hi=null),t}function Ar(t){hi===null?hi=[t]:hi.push(t)}var mf=hn(null),gs=null,An=null;function Jn(t,e,n){Ee(mf,e._currentValue),e._currentValue=n}function On(t){t._currentValue=mf.current,Ke(mf)}function pf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function gf(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=s;for(var o=0;o<e.length;o++)if(l.context===e[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),pf(a.return,n,t),i||(r=null);break e}a=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(N(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),pf(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function ba(t,e,n,i){t=null;for(var s=e,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(N(387));if(r=r.memoizedProps,r!==null){var l=s.type;xt(s.pendingProps.value,r.value)||(t!==null?t.push(l):t=[l])}}else if(s===oo.current){if(r=s.alternate,r===null)throw Error(N(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Dr):t=[Dr])}s=s.return}t!==null&&gf(e,t,n,i),e.flags|=262144}function yo(t){for(t=t.firstContext;t!==null;){if(!xt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ns(t){gs=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tt(t){return L_(gs,t)}function Al(t,e){return gs===null&&ns(t),L_(t,e)}function L_(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},An===null){if(t===null)throw Error(N(308));An=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else An=An.next=e;return n}var oC=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},uC=Ve.unstable_scheduleCallback,cC=Ve.unstable_NormalPriority,Be={$$typeof:Tn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new oC,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&uC(cC,function(){t.controller.abort()})}var ir=null,yf=0,na=0,qs=null;function fC(t,e){if(ir===null){var n=ir=[];yf=0,na=fd(),qs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return yf++,e.then(hp,hp),e}function hp(){if(--yf===0&&ir!==null){qs!==null&&(qs.status="fulfilled");var t=ir;ir=null,na=0,qs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function hC(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var dp=q.S;q.S=function(t,e){Xv=Tt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&fC(t,e),dp!==null&&dp(t,e)};var Wi=hn(null);function Ph(){var t=Wi.current;return t!==null?t:ve.pooledCache}function Fl(t,e){e===null?Ee(Wi,Wi.current):Ee(Wi,e.pool)}function U_(){var t=Ph();return t===null?null:{parent:Be._currentValue,pool:t}}var Sa=Error(N(460)),Vh=Error(N(474)),bu=Error(N(542)),_o={then:function(){}};function mp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function z_(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(wn,wn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,gp(t),t;default:if(typeof e.status=="string")e.then(wn,wn);else{if(t=ve,t!==null&&100<t.shellSuspendCounter)throw Error(N(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,gp(t),t}throw $i=e,Sa}}function Hi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?($i=n,Sa):n}}var $i=null;function pp(){if($i===null)throw Error(N(459));var t=$i;return $i=null,t}function gp(t){if(t===Sa||t===bu)throw Error(N(483))}var Gs=null,Nr=0;function Nl(t){var e=Nr;return Nr+=1,Gs===null&&(Gs=[]),z_(Gs,t,e)}function za(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function xl(t,e){throw e.$$typeof===ZE?Error(N(525)):(t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function B_(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function i(m){for(var p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(m,p){return m=Mn(m,p),m.index=0,m.sibling=null,m}function a(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=67108866,p):y):(m.flags|=67108866,p)):(m.flags|=1048576,p)}function r(m){return t&&m.alternate===null&&(m.flags|=67108866),m}function l(m,p,y,w){return p===null||p.tag!==6?(p=oc(y,m.mode,w),p.return=m,p):(p=s(p,y),p.return=m,p)}function o(m,p,y,w){var I=y.type;return I===Ns?h(m,p,y.props.children,w,y.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$n&&Hi(I)===p.type)?(p=s(p,y.props),za(p,y),p.return=m,p):(p=Gl(y.type,y.key,y.props,null,m.mode,w),za(p,y),p.return=m,p)}function u(m,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=uc(y,m.mode,w),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function h(m,p,y,w,I){return p===null||p.tag!==7?(p=Xi(y,m.mode,w,I),p.return=m,p):(p=s(p,y),p.return=m,p)}function f(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=oc(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bl:return y=Gl(p.type,p.key,p.props,null,m.mode,y),za(y,p),y.return=m,y;case Ka:return p=uc(p,m.mode,y),p.return=m,p;case $n:return p=Hi(p),f(m,p,y)}if(Xa(p)||ka(p))return p=Xi(p,m.mode,y,null),p.return=m,p;if(typeof p.then=="function")return f(m,Nl(p),y);if(p.$$typeof===Tn)return f(m,Al(m,p),y);xl(m,p)}return null}function c(m,p,y,w){var I=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return I!==null?null:l(m,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bl:return y.key===I?o(m,p,y,w):null;case Ka:return y.key===I?u(m,p,y,w):null;case $n:return y=Hi(y),c(m,p,y,w)}if(Xa(y)||ka(y))return I!==null?null:h(m,p,y,w,null);if(typeof y.then=="function")return c(m,p,Nl(y),w);if(y.$$typeof===Tn)return c(m,p,Al(m,y),w);xl(m,y)}return null}function d(m,p,y,w,I){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return m=m.get(y)||null,l(p,m,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bl:return m=m.get(w.key===null?y:w.key)||null,o(p,m,w,I);case Ka:return m=m.get(w.key===null?y:w.key)||null,u(p,m,w,I);case $n:return w=Hi(w),d(m,p,y,w,I)}if(Xa(w)||ka(w))return m=m.get(y)||null,h(p,m,w,I,null);if(typeof w.then=="function")return d(m,p,y,Nl(w),I);if(w.$$typeof===Tn)return d(m,p,y,Al(p,w),I);xl(p,w)}return null}function g(m,p,y,w){for(var I=null,M=null,A=p,O=p=0,R=null;A!==null&&O<y.length;O++){A.index>O?(R=A,A=null):R=A.sibling;var k=c(m,A,y[O],w);if(k===null){A===null&&(A=R);break}t&&A&&k.alternate===null&&e(m,A),p=a(k,p,O),M===null?I=k:M.sibling=k,M=k,A=R}if(O===y.length)return n(m,A),ne&&Sn(m,O),I;if(A===null){for(;O<y.length;O++)A=f(m,y[O],w),A!==null&&(p=a(A,p,O),M===null?I=A:M.sibling=A,M=A);return ne&&Sn(m,O),I}for(A=i(A);O<y.length;O++)R=d(A,m,O,y[O],w),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?O:R.key),p=a(R,p,O),M===null?I=R:M.sibling=R,M=R);return t&&A.forEach(function(U){return e(m,U)}),ne&&Sn(m,O),I}function T(m,p,y,w){if(y==null)throw Error(N(151));for(var I=null,M=null,A=p,O=p=0,R=null,k=y.next();A!==null&&!k.done;O++,k=y.next()){A.index>O?(R=A,A=null):R=A.sibling;var U=c(m,A,k.value,w);if(U===null){A===null&&(A=R);break}t&&A&&U.alternate===null&&e(m,A),p=a(U,p,O),M===null?I=U:M.sibling=U,M=U,A=R}if(k.done)return n(m,A),ne&&Sn(m,O),I;if(A===null){for(;!k.done;O++,k=y.next())k=f(m,k.value,w),k!==null&&(p=a(k,p,O),M===null?I=k:M.sibling=k,M=k);return ne&&Sn(m,O),I}for(A=i(A);!k.done;O++,k=y.next())k=d(A,m,O,k.value,w),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?O:k.key),p=a(k,p,O),M===null?I=k:M.sibling=k,M=k);return t&&A.forEach(function(G){return e(m,G)}),ne&&Sn(m,O),I}function S(m,p,y,w){if(typeof y=="object"&&y!==null&&y.type===Ns&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case bl:e:{for(var I=y.key;p!==null;){if(p.key===I){if(I=y.type,I===Ns){if(p.tag===7){n(m,p.sibling),w=s(p,y.props.children),w.return=m,m=w;break e}}else if(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$n&&Hi(I)===p.type){n(m,p.sibling),w=s(p,y.props),za(w,y),w.return=m,m=w;break e}n(m,p);break}else e(m,p);p=p.sibling}y.type===Ns?(w=Xi(y.props.children,m.mode,w,y.key),w.return=m,m=w):(w=Gl(y.type,y.key,y.props,null,m.mode,w),za(w,y),w.return=m,m=w)}return r(m);case Ka:e:{for(I=y.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),w=s(p,y.children||[]),w.return=m,m=w;break e}else{n(m,p);break}else e(m,p);p=p.sibling}w=uc(y,m.mode,w),w.return=m,m=w}return r(m);case $n:return y=Hi(y),S(m,p,y,w)}if(Xa(y))return g(m,p,y,w);if(ka(y)){if(I=ka(y),typeof I!="function")throw Error(N(150));return y=I.call(y),T(m,p,y,w)}if(typeof y.then=="function")return S(m,p,Nl(y),w);if(y.$$typeof===Tn)return S(m,p,Al(m,y),w);xl(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),w=s(p,y),w.return=m,m=w):(n(m,p),w=oc(y,m.mode,w),w.return=m,m=w),r(m)):n(m,p)}return function(m,p,y,w){try{Nr=0;var I=S(m,p,y,w);return Gs=null,I}catch(A){if(A===Sa||A===bu)throw A;var M=Et(29,A,null,m.mode);return M.lanes=w,M.return=m,M}finally{}}}var is=B_(!0),j_=B_(!1),Zn=!1;function qh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,oe&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=po(t),M_(t,null,n),e}return vu(t,i,e,n),po(t)}function sr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,i_(t,n)}}function fc(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var vf=!1;function ar(){if(vf){var t=qs;if(t!==null)throw t}}function rr(t,e,n,i){vf=!1;var s=t.updateQueue;Zn=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,u=o.next;o.next=null,r===null?a=u:r.next=u,r=o;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==r&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=o))}if(a!==null){var f=s.baseState;r=0,h=u=o=null,l=a;do{var c=l.lane&-536870913,d=c!==l.lane;if(d?(te&c)===c:(i&c)===c){c!==0&&c===na&&(vf=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var g=t,T=l;c=e;var S=n;switch(T.tag){case 1:if(g=T.payload,typeof g=="function"){f=g.call(S,f,c);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=T.payload,c=typeof g=="function"?g.call(S,f,c):g,c==null)break e;f=Ae({},f,c);break e;case 2:Zn=!0}}c=l.callback,c!==null&&(t.flags|=64,d&&(t.flags|=8192),d=s.callbacks,d===null?s.callbacks=[c]:d.push(c))}else d={lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=d,o=f):h=h.next=d,r|=c;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);h===null&&(o=f),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=h,a===null&&(s.shared.lanes=0),xi|=r,t.lanes=r,t.memoizedState=f}}function H_(t,e){if(typeof t!="function")throw Error(N(191,t));t.call(e)}function P_(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)H_(n[t],e)}var ia=hn(null),vo=hn(0);function yp(t,e){t=jn,Ee(vo,t),Ee(ia,e),jn=t|e.baseLanes}function bf(){Ee(vo,jn),Ee(ia,ia.current)}function Gh(){jn=vo.current,Ke(ia),Ke(vo)}var Rt=hn(null),Pt=null;function ei(t){var e=t.alternate;Ee(ke,ke.current&1),Ee(Rt,t),Pt===null&&(e===null||ia.current!==null||e.memoizedState!==null)&&(Pt=t)}function Sf(t){Ee(ke,ke.current),Ee(Rt,t),Pt===null&&(Pt=t)}function V_(t){t.tag===22?(Ee(ke,ke.current),Ee(Rt,t),Pt===null&&(Pt=t)):ti()}function ti(){Ee(ke,ke.current),Ee(Rt,Rt.current)}function St(t){Ke(Rt),Pt===t&&(Pt=null),Ke(ke)}var ke=hn(0);function bo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Hf(n)||Pf(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Un=0,X=null,ye=null,Ue=null,So=!1,Fs=!1,ss=!1,Eo=0,xr=0,Ys=null,dC=0;function Me(){throw Error(N(321))}function Fh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xt(t[n],e[n]))return!1;return!0}function Yh(t,e,n,i,s,a){return Un=a,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,q.H=t===null||t.memoizedState===null?vv:id,ss=!1,a=n(i,s),ss=!1,Fs&&(a=G_(e,n,i,s)),q_(t),a}function q_(t){q.H=Rr;var e=ye!==null&&ye.next!==null;if(Un=0,Ue=ye=X=null,So=!1,xr=0,Ys=null,e)throw Error(N(300));t===null||je||(t=t.dependencies,t!==null&&yo(t)&&(je=!0))}function G_(t,e,n,i){X=t;var s=0;do{if(Fs&&(Ys=null),xr=0,Fs=!1,25<=s)throw Error(N(301));if(s+=1,Ue=ye=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}q.H=bv,a=e(n,i)}while(Fs);return a}function mC(){var t=q.H,e=t.useState()[0];return e=typeof e.then=="function"?tl(e):e,t=t.useState()[0],(ye!==null?ye.memoizedState:null)!==t&&(X.flags|=1024),e}function Qh(){var t=Eo!==0;return Eo=0,t}function Kh(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Xh(t){if(So){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}So=!1}Un=0,Ue=ye=X=null,Fs=!1,xr=Eo=0,Ys=null}function at(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?X.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Le(){if(ye===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=Ue===null?X.memoizedState:Ue.next;if(e!==null)Ue=e,ye=t;else{if(t===null)throw X.alternate===null?Error(N(467)):Error(N(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ue===null?X.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var e=xr;return xr+=1,Ys===null&&(Ys=[]),t=z_(Ys,t,e),e=X,(Ue===null?e.memoizedState:Ue.next)===null&&(e=e.alternate,q.H=e===null||e.memoizedState===null?vv:id),t}function Eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===Tn)return tt(t)}throw Error(N(438,String(t)))}function Wh(t){var e=null,n=X.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=X.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Su(),X.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=JE;return e.index++,n}function zn(t,e){return typeof e=="function"?e(t):e}function Yl(t){var e=Le();return $h(e,ye,t)}function $h(t,e,n){var i=t.queue;if(i===null)throw Error(N(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}e.baseQueue=s=a,i.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var l=r=null,o=null,u=e,h=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(te&f)===f:(Un&f)===f){var c=u.revertLane;if(c===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===na&&(h=!0);else if((Un&c)===c){u=u.next,c===na&&(h=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=f,r=a):o=o.next=f,X.lanes|=c,xi|=c;f=u.action,ss&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else c={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=c,r=a):o=o.next=c,X.lanes|=f,xi|=f;u=u.next}while(u!==null&&u!==e);if(o===null?r=a:o.next=l,!xt(a,t.memoizedState)&&(je=!0,h&&(n=qs,n!==null)))throw n;t.memoizedState=a,t.baseState=r,t.baseQueue=o,i.lastRenderedState=a}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function hc(t){var e=Le(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do a=t(a,r.action),r=r.next;while(r!==s);xt(a,e.memoizedState)||(je=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function F_(t,e,n){var i=X,s=Le(),a=ne;if(a){if(n===void 0)throw Error(N(407));n=n()}else n=e();var r=!xt((ye||s).memoizedState,n);if(r&&(s.memoizedState=n,je=!0),s=s.queue,Zh(K_.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||Ue!==null&&Ue.memoizedState.tag&1){if(i.flags|=2048,sa(9,{destroy:void 0},Q_.bind(null,i,s,n,e),null),ve===null)throw Error(N(349));a||Un&127||Y_(i,e,n)}return n}function Y_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e=Su(),X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q_(t,e,n,i){e.value=n,e.getSnapshot=i,X_(e)&&W_(t)}function K_(t,e,n){return n(function(){X_(e)&&W_(t)})}function X_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xt(t,n)}catch{return!0}}function W_(t){var e=ps(t,2);e!==null&&gt(e,t,2)}function Ef(t){var e=at();if(typeof t=="function"){var n=t;if(t=n(),ss){ri(!0);try{n()}finally{ri(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},e}function $_(t,e,n,i){return t.baseState=n,$h(t,ye,typeof i=="function"?i:zn)}function pC(t,e,n,i,s){if(Tu(t))throw Error(N(485));if(t=e.action,t!==null){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};q.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,Z_(e,a)):(a.next=n.next,e.pending=n.next=a)}}function Z_(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var a=q.T,r={};q.T=r;try{var l=n(s,i),o=q.S;o!==null&&o(r,l),_p(t,e,l)}catch(u){Cf(t,e,u)}finally{a!==null&&r.types!==null&&(a.types=r.types),q.T=a}}else try{a=n(s,i),_p(t,e,a)}catch(u){Cf(t,e,u)}}function _p(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){vp(t,e,i)},function(i){return Cf(t,e,i)}):vp(t,e,n)}function vp(t,e,n){e.status="fulfilled",e.value=n,J_(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Z_(t,n)))}function Cf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,J_(e),e=e.next;while(e!==i)}t.action=null}function J_(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function ev(t,e){return e}function bp(t,e){if(ne){var n=ve.formState;if(n!==null){e:{var i=X;if(ne){if(Te){t:{for(var s=Te,a=jt;s.nodeType!==8;){if(!a){s=null;break t}if(s=Vt(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){Te=Vt(s.nextSibling),i=s.data==="F!";break e}}Ai(i)}i=!1}i&&(e=n[0])}}return n=at(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ev,lastRenderedState:e},n.queue=i,n=gv.bind(null,X,i),i.dispatch=n,i=Ef(!1),a=nd.bind(null,X,!1,i.queue),i=at(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=pC.bind(null,X,s,a,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function Sp(t){var e=Le();return tv(e,ye,t)}function tv(t,e,n){if(e=$h(t,e,ev)[0],t=Yl(zn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=tl(e)}catch(r){throw r===Sa?bu:r}else i=e;e=Le();var s=e.queue,a=s.dispatch;return n!==e.memoizedState&&(X.flags|=2048,sa(9,{destroy:void 0},gC.bind(null,s,n),null)),[i,a,t]}function gC(t,e){t.action=e}function Ep(t){var e=Le(),n=ye;if(n!==null)return tv(e,n,t);Le(),e=e.memoizedState,n=Le();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function sa(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=X.updateQueue,e===null&&(e=Su(),X.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function nv(){return Le().memoizedState}function Ql(t,e,n,i){var s=at();X.flags|=t,s.memoizedState=sa(1|e,{destroy:void 0},n,i===void 0?null:i)}function Cu(t,e,n,i){var s=Le();i=i===void 0?null:i;var a=s.memoizedState.inst;ye!==null&&i!==null&&Fh(i,ye.memoizedState.deps)?s.memoizedState=sa(e,a,n,i):(X.flags|=t,s.memoizedState=sa(1|e,a,n,i))}function Cp(t,e){Ql(8390656,8,t,e)}function Zh(t,e){Cu(2048,8,t,e)}function yC(t){X.flags|=4;var e=X.updateQueue;if(e===null)e=Su(),X.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function iv(t){var e=Le().memoizedState;return yC({ref:e,nextImpl:t}),function(){if(oe&2)throw Error(N(440));return e.impl.apply(void 0,arguments)}}function sv(t,e){return Cu(4,2,t,e)}function av(t,e){return Cu(4,4,t,e)}function rv(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lv(t,e,n){n=n!=null?n.concat([t]):null,Cu(4,4,rv.bind(null,e,t),n)}function Jh(){}function ov(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Fh(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function uv(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Fh(e,i[1]))return i[0];if(i=t(),ss){ri(!0);try{t()}finally{ri(!1)}}return n.memoizedState=[i,e],i}function ed(t,e,n){return n===void 0||Un&1073741824&&!(te&261930)?t.memoizedState=e:(t.memoizedState=n,t=$v(),X.lanes|=t,xi|=t,n)}function cv(t,e,n,i){return xt(n,e)?n:ia.current!==null?(t=ed(t,n,i),xt(t,e)||(je=!0),t):!(Un&42)||Un&1073741824&&!(te&261930)?(je=!0,t.memoizedState=n):(t=$v(),X.lanes|=t,xi|=t,e)}function fv(t,e,n,i,s){var a=ue.p;ue.p=a!==0&&8>a?a:8;var r=q.T,l={};q.T=l,nd(t,!1,e,n);try{var o=s(),u=q.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=hC(o,i);lr(t,e,h,Nt(t))}else lr(t,e,i,Nt(t))}catch(f){lr(t,e,{then:function(){},status:"rejected",reason:f},Nt())}finally{ue.p=a,r!==null&&l.types!==null&&(r.types=l.types),q.T=r}}function _C(){}function Tf(t,e,n,i){if(t.tag!==5)throw Error(N(476));var s=hv(t).queue;fv(t,s,e,Ki,n===null?_C:function(){return dv(t),n(i)})}function hv(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ki,baseState:Ki,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:Ki},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function dv(t){var e=hv(t);e.next===null&&(e=t.alternate.memoizedState),lr(t,e.next.queue,{},Nt())}function td(){return tt(Dr)}function mv(){return Le().memoizedState}function pv(){return Le().memoizedState}function vC(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Nt();t=di(n);var i=mi(e,t,n);i!==null&&(gt(i,e,n),sr(i,e,n)),e={cache:Hh()},t.payload=e;return}e=e.return}}function bC(t,e,n){var i=Nt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Tu(t)?yv(e,n):(n=Uh(t,e,n,i),n!==null&&(gt(n,t,i),_v(n,e,i)))}function gv(t,e,n){var i=Nt();lr(t,e,n,i)}function lr(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tu(t))yv(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,l=a(r,n);if(s.hasEagerState=!0,s.eagerState=l,xt(l,r))return vu(t,e,s,0),ve===null&&_u(),!1}catch{}finally{}if(n=Uh(t,e,s,i),n!==null)return gt(n,t,i),_v(n,e,i),!0}return!1}function nd(t,e,n,i){if(i={lane:2,revertLane:fd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Tu(t)){if(e)throw Error(N(479))}else e=Uh(t,n,i,2),e!==null&&gt(e,t,2)}function Tu(t){var e=t.alternate;return t===X||e!==null&&e===X}function yv(t,e){Fs=So=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _v(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,i_(t,n)}}var Rr={readContext:tt,use:Eu,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me};Rr.useEffectEvent=Me;var vv={readContext:tt,use:Eu,useCallback:function(t,e){return at().memoizedState=[t,e===void 0?null:e],t},useContext:tt,useEffect:Cp,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ql(4194308,4,rv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ql(4194308,4,t,e)},useInsertionEffect:function(t,e){Ql(4,2,t,e)},useMemo:function(t,e){var n=at();e=e===void 0?null:e;var i=t();if(ss){ri(!0);try{t()}finally{ri(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=at();if(n!==void 0){var s=n(e);if(ss){ri(!0);try{n(e)}finally{ri(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=bC.bind(null,X,t),[i.memoizedState,t]},useRef:function(t){var e=at();return t={current:t},e.memoizedState=t},useState:function(t){t=Ef(t);var e=t.queue,n=gv.bind(null,X,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Jh,useDeferredValue:function(t,e){var n=at();return ed(n,t,e)},useTransition:function(){var t=Ef(!1);return t=fv.bind(null,X,t.queue,!0,!1),at().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=X,s=at();if(ne){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),ve===null)throw Error(N(349));te&127||Y_(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,Cp(K_.bind(null,i,a,t),[t]),i.flags|=2048,sa(9,{destroy:void 0},Q_.bind(null,i,a,n,e),null),n},useId:function(){var t=at(),e=ve.identifierPrefix;if(ne){var n=rn,i=an;n=(i&~(1<<32-At(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Eo++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=dC++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:td,useFormState:bp,useActionState:bp,useOptimistic:function(t){var e=at();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=nd.bind(null,X,!0,n),n.dispatch=e,[t,e]},useMemoCache:Wh,useCacheRefresh:function(){return at().memoizedState=vC.bind(null,X)},useEffectEvent:function(t){var e=at(),n={impl:t};return e.memoizedState=n,function(){if(oe&2)throw Error(N(440));return n.impl.apply(void 0,arguments)}}},id={readContext:tt,use:Eu,useCallback:ov,useContext:tt,useEffect:Zh,useImperativeHandle:lv,useInsertionEffect:sv,useLayoutEffect:av,useMemo:uv,useReducer:Yl,useRef:nv,useState:function(){return Yl(zn)},useDebugValue:Jh,useDeferredValue:function(t,e){var n=Le();return cv(n,ye.memoizedState,t,e)},useTransition:function(){var t=Yl(zn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:tl(t),e]},useSyncExternalStore:F_,useId:mv,useHostTransitionStatus:td,useFormState:Sp,useActionState:Sp,useOptimistic:function(t,e){var n=Le();return $_(n,ye,t,e)},useMemoCache:Wh,useCacheRefresh:pv};id.useEffectEvent=iv;var bv={readContext:tt,use:Eu,useCallback:ov,useContext:tt,useEffect:Zh,useImperativeHandle:lv,useInsertionEffect:sv,useLayoutEffect:av,useMemo:uv,useReducer:hc,useRef:nv,useState:function(){return hc(zn)},useDebugValue:Jh,useDeferredValue:function(t,e){var n=Le();return ye===null?ed(n,t,e):cv(n,ye.memoizedState,t,e)},useTransition:function(){var t=hc(zn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:tl(t),e]},useSyncExternalStore:F_,useId:mv,useHostTransitionStatus:td,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,e){var n=Le();return ye!==null?$_(n,ye,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Wh,useCacheRefresh:pv};bv.useEffectEvent=iv;function dc(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wf={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Nt(),s=di(i);s.payload=e,n!=null&&(s.callback=n),e=mi(t,s,i),e!==null&&(gt(e,t,i),sr(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Nt(),s=di(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=mi(t,s,i),e!==null&&(gt(e,t,i),sr(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),i=di(n);i.tag=2,e!=null&&(i.callback=e),e=mi(t,i,n),e!==null&&(gt(e,t,n),sr(e,t,n))}};function Tp(t,e,n,i,s,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,r):e.prototype&&e.prototype.isPureReactComponent?!Tr(n,i)||!Tr(s,a):!0}function wp(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&wf.enqueueReplaceState(e,e.state,null)}function as(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ae({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function Sv(t){mo(t)}function Ev(t){console.error(t)}function Cv(t){mo(t)}function Co(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Ap(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Af(t,e,n){return n=di(n),n.tag=3,n.payload={element:null},n.callback=function(){Co(t,e)},n}function Tv(t){return t=di(t),t.tag=3,t}function wv(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){Ap(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){Ap(e,n,i),typeof s!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function SC(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&ba(e,n,s,!0),n=Rt.current,n!==null){switch(n.tag){case 31:case 13:return Pt===null?xo():n.alternate===null&&Oe===0&&(Oe=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===_o?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Tc(t,i,s)),!1;case 22:return n.flags|=65536,i===_o?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Tc(t,i,s)),!1}throw Error(N(435,n.tag))}return Tc(t,i,s),xo(),!1}if(ne)return e=Rt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==df&&(t=Error(N(422),{cause:i}),Ar(Bt(t,n)))):(i!==df&&(e=Error(N(423),{cause:i}),Ar(Bt(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=Bt(i,n),s=Af(t.stateNode,i,s),fc(t,s),Oe!==4&&(Oe=2)),!1;var a=Error(N(520),{cause:i});if(a=Bt(a,n),cr===null?cr=[a]:cr.push(a),Oe!==4&&(Oe=2),e===null)return!0;i=Bt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Af(n.stateNode,i,t),fc(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(pi===null||!pi.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Tv(s),wv(s,t,n,i),fc(n,s),!1}n=n.return}while(n!==null);return!1}var sd=Error(N(461)),je=!1;function $e(t,e,n,i){e.child=t===null?j_(e,null,n,i):is(e,t.child,n,i)}function Np(t,e,n,i,s){n=n.render;var a=e.ref;if("ref"in i){var r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}else r=i;return ns(e),i=Yh(t,e,n,r,a,s),l=Qh(),t!==null&&!je?(Kh(t,e,s),Bn(t,e,s)):(ne&&l&&Bh(e),e.flags|=1,$e(t,e,i,s),e.child)}function xp(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!zh(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,Av(t,e,a,i,s)):(t=Gl(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!ad(t,s)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(r,i)&&t.ref===e.ref)return Bn(t,e,s)}return e.flags|=1,t=Mn(a,i),t.ref=e.ref,t.return=e,e.child=t}function Av(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(Tr(a,i)&&t.ref===e.ref)if(je=!1,e.pendingProps=i=a,ad(t,s))t.flags&131072&&(je=!0);else return e.lanes=t.lanes,Bn(t,e,s)}return Nf(t,e,n,i,s)}function Nv(t,e,n,i){var s=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,e.child=null;return Rp(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fl(e,a!==null?a.cachePool:null),a!==null?yp(e,a):bf(),V_(e);else return i=e.lanes=536870912,Rp(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(Fl(e,a.cachePool),yp(e,a),ti(),e.memoizedState=null):(t!==null&&Fl(e,null),bf(),ti());return $e(t,e,s,n),e.child}function $a(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Rp(t,e,n,i,s){var a=Ph();return a=a===null?null:{parent:Be._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Fl(e,null),bf(),V_(e),t!==null&&ba(t,e,i,!0),e.childLanes=s,null}function Kl(t,e){return e=To({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Mp(t,e,n){return is(e,t.child,null,n),t=Kl(e,e.pendingProps),t.flags|=2,St(e),e.memoizedState=null,t}function EC(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ne){if(i.mode==="hidden")return t=Kl(e,i),e.lanes=536870912,$a(null,t);if(Sf(e),(t=Te)?(t=v0(t,jt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:wi!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=D_(t),n.return=e,e.child=n,et=e,Te=null)):t=null,t===null)throw Ai(e);return e.lanes=536870912,null}return Kl(e,i)}var a=t.memoizedState;if(a!==null){var r=a.dehydrated;if(Sf(e),s)if(e.flags&256)e.flags&=-257,e=Mp(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(N(558));else if(je||ba(t,e,n,!1),s=(n&t.childLanes)!==0,je||s){if(i=ve,i!==null&&(r=s_(i,n),r!==0&&r!==a.retryLane))throw a.retryLane=r,ps(t,r),gt(i,t,r),sd;xo(),e=Mp(t,e,n)}else t=a.treeContext,Te=Vt(r.nextSibling),et=e,ne=!0,hi=null,jt=!1,t!==null&&k_(e,t),e=Kl(e,i),e.flags|=4096;return e}return t=Mn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Xl(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(N(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Nf(t,e,n,i,s){return ns(e),n=Yh(t,e,n,i,void 0,s),i=Qh(),t!==null&&!je?(Kh(t,e,s),Bn(t,e,s)):(ne&&i&&Bh(e),e.flags|=1,$e(t,e,n,s),e.child)}function Op(t,e,n,i,s,a){return ns(e),e.updateQueue=null,n=G_(e,i,n,s),q_(t),i=Qh(),t!==null&&!je?(Kh(t,e,a),Bn(t,e,a)):(ne&&i&&Bh(e),e.flags|=1,$e(t,e,n,a),e.child)}function Dp(t,e,n,i,s){if(ns(e),e.stateNode===null){var a=Ls,r=n.contextType;typeof r=="object"&&r!==null&&(a=tt(r)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=wf,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},qh(e),r=n.contextType,a.context=typeof r=="object"&&r!==null?tt(r):Ls,a.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(dc(e,n,r,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&wf.enqueueReplaceState(a,a.state,null),rr(e,i,a,s),ar(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,o=as(n,l);a.props=o;var u=a.context,h=n.contextType;r=Ls,typeof h=="object"&&h!==null&&(r=tt(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==r)&&wp(e,a,i,r),Zn=!1;var c=e.memoizedState;a.state=c,rr(e,i,a,s),ar(),u=e.memoizedState,l||c!==u||Zn?(typeof f=="function"&&(dc(e,n,f,i),u=e.memoizedState),(o=Zn||Tp(e,n,o,i,c,u,r))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=r,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,_f(t,e),r=e.memoizedProps,h=as(n,r),a.props=h,f=e.pendingProps,c=a.context,u=n.contextType,o=Ls,typeof u=="object"&&u!==null&&(o=tt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||c!==o)&&wp(e,a,i,o),Zn=!1,c=e.memoizedState,a.state=c,rr(e,i,a,s),ar();var d=e.memoizedState;r!==f||c!==d||Zn||t!==null&&t.dependencies!==null&&yo(t.dependencies)?(typeof l=="function"&&(dc(e,n,l,i),d=e.memoizedState),(h=Zn||Tp(e,n,h,i,c,d,o)||t!==null&&t.dependencies!==null&&yo(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,d,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,d,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=d),a.props=i,a.state=d,a.context=o,i=h):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,Xl(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=is(e,t.child,null,s),e.child=is(e,null,n,s)):$e(t,e,n,s),e.memoizedState=a.state,t=e.child):t=Bn(t,e,s),t}function Ip(t,e,n,i){return ts(),e.flags|=256,$e(t,e,n,i),e.child}var mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pc(t){return{baseLanes:t,cachePool:U_()}}function gc(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ct),t}function xv(t,e,n){var i=e.pendingProps,s=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=t!==null&&t.memoizedState===null?!1:(ke.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(ne){if(s?ei(e):ti(),(t=Te)?(t=v0(t,jt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:wi!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=D_(t),n.return=e,e.child=n,et=e,Te=null)):t=null,t===null)throw Ai(e);return Pf(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(ti(),s=e.mode,l=To({mode:"hidden",children:l},s),i=Xi(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=pc(n),i.childLanes=gc(t,r,n),e.memoizedState=mc,$a(null,i)):(ei(e),xf(e,l))}var o=t.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(a)e.flags&256?(ei(e),e.flags&=-257,e=yc(t,e,n)):e.memoizedState!==null?(ti(),e.child=t.child,e.flags|=128,e=null):(ti(),l=i.fallback,s=e.mode,i=To({mode:"visible",children:i.children},s),l=Xi(l,s,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,is(e,t.child,null,n),i=e.child,i.memoizedState=pc(n),i.childLanes=gc(t,r,n),e.memoizedState=mc,e=$a(null,i));else if(ei(e),Pf(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,i=Error(N(419)),i.stack="",i.digest=r,Ar({value:i,source:null,stack:null}),e=yc(t,e,n)}else if(je||ba(t,e,n,!1),r=(n&t.childLanes)!==0,je||r){if(r=ve,r!==null&&(i=s_(r,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,ps(t,i),gt(r,t,i),sd;Hf(l)||xo(),e=yc(t,e,n)}else Hf(l)?(e.flags|=192,e.child=t.child,e=null):(t=o.treeContext,Te=Vt(l.nextSibling),et=e,ne=!0,hi=null,jt=!1,t!==null&&k_(e,t),e=xf(e,i.children),e.flags|=4096);return e}return s?(ti(),l=i.fallback,s=e.mode,o=t.child,u=o.sibling,i=Mn(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=Mn(u,l):(l=Xi(l,s,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,$a(null,i),i=e.child,l=t.child.memoizedState,l===null?l=pc(n):(s=l.cachePool,s!==null?(o=Be._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=U_(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=gc(t,r,n),e.memoizedState=mc,$a(t.child,i)):(ei(e),n=t.child,t=n.sibling,n=Mn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function xf(t,e){return e=To({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function To(t,e){return t=Et(22,t,null,e),t.lanes=0,t}function yc(t,e,n){return is(e,t.child,null,n),t=xf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kp(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),pf(t.return,e,n)}function _c(t,e,n,i,s,a){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s,r.treeForkCount=a)}function Rv(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var r=ke.current,l=(r&2)!==0;if(l?(r=r&1|2,e.flags|=128):r&=1,Ee(ke,r),$e(t,e,i,n),i=ne?wr:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kp(t,n,e);else if(t.tag===19)kp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&bo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_c(e,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&bo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_c(e,!0,n,null,a,i);break;case"together":_c(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xi|=e.lanes,!(n&e.childLanes))if(t!==null){if(ba(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ad(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&yo(t)))}function CC(t,e,n){switch(e.tag){case 3:uo(e,e.stateNode.containerInfo),Jn(e,Be,t.memoizedState.cache),ts();break;case 27:case 5:tf(e);break;case 4:uo(e,e.stateNode.containerInfo);break;case 10:Jn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Sf(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(ei(e),e.flags|=128,null):n&e.child.childLanes?xv(t,e,n):(ei(e),t=Bn(t,e,n),t!==null?t.sibling:null);ei(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(ba(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return Rv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(ke,ke.current),i)break;return null;case 22:return e.lanes=0,Nv(t,e,n,e.pendingProps);case 24:Jn(e,Be,t.memoizedState.cache)}return Bn(t,e,n)}function Mv(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)je=!0;else{if(!ad(t,n)&&!(e.flags&128))return je=!1,CC(t,e,n);je=!!(t.flags&131072)}else je=!1,ne&&e.flags&1048576&&I_(e,wr,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Hi(e.elementType),e.type=t,typeof t=="function")zh(t)?(i=as(t,i),e.tag=1,e=Dp(null,e,t,i,n)):(e.tag=0,e=Nf(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===Ch){e.tag=11,e=Np(null,e,t,i,n);break e}else if(s===Th){e.tag=14,e=xp(null,e,t,i,n);break e}}throw e=Jc(t)||t,Error(N(306,e,""))}}return e;case 0:return Nf(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=as(i,e.pendingProps),Dp(t,e,i,s,n);case 3:e:{if(uo(e,e.stateNode.containerInfo),t===null)throw Error(N(387));i=e.pendingProps;var a=e.memoizedState;s=a.element,_f(t,e),rr(e,i,null,n);var r=e.memoizedState;if(i=r.cache,Jn(e,Be,i),i!==a.cache&&gf(e,[Be],n,!0),ar(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=Ip(t,e,i,n);break e}else if(i!==s){s=Bt(Error(N(424)),e),Ar(s),e=Ip(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Te=Vt(t.firstChild),et=e,ne=!0,hi=null,jt=!0,n=j_(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ts(),i===s){e=Bn(t,e,n);break e}$e(t,e,i,n)}e=e.child}return e;case 26:return Xl(t,e),t===null?(n=eg(e.type,null,e.pendingProps,null))?e.memoizedState=n:ne||(n=e.type,t=e.pendingProps,i=Do(fi.current).createElement(n),i[Je]=e,i[_t]=t,nt(i,n,t),Ye(i),e.stateNode=i):e.memoizedState=eg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return tf(e),t===null&&ne&&(i=e.stateNode=b0(e.type,e.pendingProps,fi.current),et=e,jt=!0,s=Te,Ii(e.type)?(Vf=s,Te=Vt(i.firstChild)):Te=s),$e(t,e,e.pendingProps.children,n),Xl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ne&&((s=i=Te)&&(i=JC(i,e.type,e.pendingProps,jt),i!==null?(e.stateNode=i,et=e,Te=Vt(i.firstChild),jt=!1,s=!0):s=!1),s||Ai(e)),tf(e),s=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,i=a.children,Bf(s,a)?i=null:r!==null&&Bf(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=Yh(t,e,mC,null,null,n),Dr._currentValue=s),Xl(t,e),$e(t,e,i,n),e.child;case 6:return t===null&&ne&&((t=n=Te)&&(n=eT(n,e.pendingProps,jt),n!==null?(e.stateNode=n,et=e,Te=null,t=!0):t=!1),t||Ai(e)),null;case 13:return xv(t,e,n);case 4:return uo(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=is(e,null,i,n):$e(t,e,i,n),e.child;case 11:return Np(t,e,e.type,e.pendingProps,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Jn(e,e.type,i.value),$e(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,ns(e),s=tt(s),i=i(s),e.flags|=1,$e(t,e,i,n),e.child;case 14:return xp(t,e,e.type,e.pendingProps,n);case 15:return Av(t,e,e.type,e.pendingProps,n);case 19:return Rv(t,e,n);case 31:return EC(t,e,n);case 22:return Nv(t,e,n,e.pendingProps);case 24:return ns(e),i=tt(Be),t===null?(s=Ph(),s===null&&(s=ve,a=Hh(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:i,cache:s},qh(e),Jn(e,Be,s)):(t.lanes&n&&(_f(t,e),rr(e,null,null,n),ar()),s=t.memoizedState,a=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Jn(e,Be,i)):(i=a.cache,Jn(e,Be,i),i!==s.cache&&gf(e,[Be],n,!0))),$e(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(N(156,e.tag))}function yn(t){t.flags|=4}function vc(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(e0())t.flags|=8192;else throw $i=_o,Vh}else t.flags&=-16777217}function Lp(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!C0(e))if(e0())t.flags|=8192;else throw $i=_o,Vh}function Rl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?t_():536870912,t.lanes|=e,aa|=e)}function Ba(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function TC(t,e,n){var i=e.pendingProps;switch(jh(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(e),null;case 1:return Ce(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),On(Be),Js(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ss(e)?yn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cc())),Ce(e),null;case 26:var s=e.type,a=e.memoizedState;return t===null?(yn(e),a!==null?(Ce(e),Lp(e,a)):(Ce(e),vc(e,s,null,i,n))):a?a!==t.memoizedState?(yn(e),Ce(e),Lp(e,a)):(Ce(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&yn(e),Ce(e),vc(e,s,t,i,n)),null;case 27:if(co(e),n=fi.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&yn(e);else{if(!i){if(e.stateNode===null)throw Error(N(166));return Ce(e),null}t=on.current,Ss(e)?cp(e):(t=b0(s,i,n),e.stateNode=t,yn(e))}return Ce(e),null;case 5:if(co(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&yn(e);else{if(!i){if(e.stateNode===null)throw Error(N(166));return Ce(e),null}if(a=on.current,Ss(e))cp(e);else{var r=Do(fi.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}a[Je]=e,a[_t]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(nt(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&yn(e)}}return Ce(e),vc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&yn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(N(166));if(t=fi.current,Ss(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=et,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[Je]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||g0(t.nodeValue,n)),t||Ai(e,!0)}else t=Do(t).createTextNode(i),t[Je]=e,e.stateNode=t}return Ce(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Ss(e),n!==null){if(t===null){if(!i)throw Error(N(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(557));t[Je]=e}else ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),t=!1}else n=cc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(St(e),e):(St(e),null);if(e.flags&128)throw Error(N(558))}return Ce(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Ss(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Je]=e}else ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),s=!1}else s=cc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(St(e),e):(St(e),null)}return St(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Rl(e,e.updateQueue),Ce(e),null);case 4:return Js(),t===null&&hd(e.stateNode.containerInfo),Ce(e),null;case 10:return On(e.type),Ce(e),null;case 19:if(Ke(ke),i=e.memoizedState,i===null)return Ce(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)Ba(i,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=bo(t),a!==null){for(e.flags|=128,Ba(i,!1),t=a.updateQueue,e.updateQueue=t,Rl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)O_(n,t),n=n.sibling;return Ee(ke,ke.current&1|2),ne&&Sn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Tt()>Ao&&(e.flags|=128,s=!0,Ba(i,!1),e.lanes=4194304)}else{if(!s)if(t=bo(a),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Rl(e,t),Ba(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ne)return Ce(e),null}else 2*Tt()-i.renderingStartTime>Ao&&n!==536870912&&(e.flags|=128,s=!0,Ba(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tt(),t.sibling=null,n=ke.current,Ee(ke,s?n&1|2:n&1),ne&&Sn(e,i.treeForkCount),t):(Ce(e),null);case 22:case 23:return St(e),Gh(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ce(e),e.subtreeFlags&6&&(e.flags|=8192)):Ce(e),n=e.updateQueue,n!==null&&Rl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ke(Wi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),On(Be),Ce(e),null;case 25:return null;case 30:return null}throw Error(N(156,e.tag))}function wC(t,e){switch(jh(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return On(Be),Js(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return co(e),null;case 31:if(e.memoizedState!==null){if(St(e),e.alternate===null)throw Error(N(340));ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(St(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(ke),null;case 4:return Js(),null;case 10:return On(e.type),null;case 22:case 23:return St(e),Gh(),t!==null&&Ke(Wi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return On(Be),null;case 25:return null;default:return null}}function Ov(t,e){switch(jh(e),e.tag){case 3:On(Be),Js();break;case 26:case 27:case 5:co(e);break;case 4:Js();break;case 31:e.memoizedState!==null&&St(e);break;case 13:St(e);break;case 19:Ke(ke);break;case 10:On(e.type);break;case 22:case 23:St(e),Gh(),t!==null&&Ke(Wi);break;case 24:On(Be)}}function nl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create,r=n.inst;i=a(),r.destroy=i}n=n.next}while(n!==s)}}catch(l){me(e,e.return,l)}}function Ni(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&t)===t){var r=i.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=e;var o=n,u=l;try{u()}catch(h){me(s,o,h)}}}i=i.next}while(i!==a)}}catch(h){me(e,e.return,h)}}function Dv(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{P_(e,n)}catch(i){me(t,t.return,i)}}}function Iv(t,e,n){n.props=as(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){me(t,e,i)}}function or(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){me(t,e,s)}}function ln(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){me(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){me(t,e,s)}else n.current=null}function kv(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){me(t,t.return,s)}}function bc(t,e,n){try{var i=t.stateNode;QC(i,t.type,n,e),i[_t]=e}catch(s){me(t,t.return,s)}}function Lv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ii(t.type)||t.tag===4}function Sc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ii(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wn));else if(i!==4&&(i===27&&Ii(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Rf(t,e,n),t=t.sibling;t!==null;)Rf(t,e,n),t=t.sibling}function wo(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Ii(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(wo(t,e,n),t=t.sibling;t!==null;)wo(t,e,n),t=t.sibling}function Uv(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);nt(e,i,n),e[Je]=t,e[_t]=n}catch(a){me(t,t.return,a)}}var En=!1,ze=!1,Ec=!1,Up=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function AC(t,e){if(t=t.containerInfo,Uf=Uo,t=C_(t),kh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,u=0,h=0,f=t,c=null;t:for(;;){for(var d;f!==n||s!==0&&f.nodeType!==3||(l=r+s),f!==a||i!==0&&f.nodeType!==3||(o=r+i),f.nodeType===3&&(r+=f.nodeValue.length),(d=f.firstChild)!==null;)c=f,f=d;for(;;){if(f===t)break t;if(c===n&&++u===s&&(l=r),c===a&&++h===i&&(o=r),(d=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=d}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:t,selectionRange:n},Uo=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){switch(e=Ge,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var g=as(n.type,s);t=i.getSnapshotBeforeUpdate(g,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(T){me(n,n.return,T)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)jf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(N(163))}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function zv(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:vn(t,n),i&4&&nl(5,n);break;case 1:if(vn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){me(n,n.return,r)}else{var s=as(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){me(n,n.return,r)}}i&64&&Dv(n),i&512&&or(n,n.return);break;case 3:if(vn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{P_(t,e)}catch(r){me(n,n.return,r)}}break;case 27:e===null&&i&4&&Uv(n);case 26:case 5:vn(t,n),e===null&&i&4&&kv(n),i&512&&or(n,n.return);break;case 12:vn(t,n);break;case 31:vn(t,n),i&4&&Hv(t,n);break;case 13:vn(t,n),i&4&&Pv(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=LC.bind(null,n),tT(t,n))));break;case 22:if(i=n.memoizedState!==null||En,!i){e=e!==null&&e.memoizedState!==null||ze,s=En;var a=ze;En=i,(ze=e)&&!a?bn(t,n,(n.subtreeFlags&8772)!==0):vn(t,n),En=s,ze=a}break;case 30:break;default:vn(t,n)}}function Bv(t){var e=t.alternate;e!==null&&(t.alternate=null,Bv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&xh(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ne=null,dt=!1;function _n(t,e,n){for(n=n.child;n!==null;)jv(t,e,n),n=n.sibling}function jv(t,e,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Xr,n)}catch{}switch(n.tag){case 26:ze||ln(n,e),_n(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ze||ln(n,e);var i=Ne,s=dt;Ii(n.type)&&(Ne=n.stateNode,dt=!1),_n(t,e,n),hr(n.stateNode),Ne=i,dt=s;break;case 5:ze||ln(n,e);case 6:if(i=Ne,s=dt,Ne=null,_n(t,e,n),Ne=i,dt=s,Ne!==null)if(dt)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(n.stateNode)}catch(a){me(n,e,a)}else try{Ne.removeChild(n.stateNode)}catch(a){me(n,e,a)}break;case 18:Ne!==null&&(dt?(t=Ne,Xp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ua(t)):Xp(Ne,n.stateNode));break;case 4:i=Ne,s=dt,Ne=n.stateNode.containerInfo,dt=!0,_n(t,e,n),Ne=i,dt=s;break;case 0:case 11:case 14:case 15:Ni(2,n,e),ze||Ni(4,n,e),_n(t,e,n);break;case 1:ze||(ln(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Iv(n,e,i)),_n(t,e,n);break;case 21:_n(t,e,n);break;case 22:ze=(i=ze)||n.memoizedState!==null,_n(t,e,n),ze=i;break;default:_n(t,e,n)}}function Hv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ua(t)}catch(n){me(e,e.return,n)}}}function Pv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ua(t)}catch(n){me(e,e.return,n)}}function NC(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Up),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Up),e;default:throw Error(N(435,t.tag))}}function Ml(t,e){var n=NC(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=UC.bind(null,t,i);i.then(s,s)}})}function ft(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=t,r=e,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(Ii(l.type)){Ne=l.stateNode,dt=!1;break e}break;case 5:Ne=l.stateNode,dt=!1;break e;case 3:case 4:Ne=l.stateNode.containerInfo,dt=!0;break e}l=l.return}if(Ne===null)throw Error(N(160));jv(a,r,s),Ne=null,dt=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Vv(e,t),e=e.sibling}var Kt=null;function Vv(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ft(e,t),ht(t),i&4&&(Ni(3,t,t.return),nl(3,t),Ni(5,t,t.return));break;case 1:ft(e,t),ht(t),i&512&&(ze||n===null||ln(n,n.return)),i&64&&En&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Kt;if(ft(e,t),ht(t),i&512&&(ze||n===null||ln(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[Zr]||a[Je]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),nt(a,i,n),a[Je]=t,Ye(a),i=a;break e;case"link":var r=ng("link","href",s).get(i+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}a=s.createElement(i),nt(a,i,n),s.head.appendChild(a);break;case"meta":if(r=ng("meta","content",s).get(i+(n.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}a=s.createElement(i),nt(a,i,n),s.head.appendChild(a);break;default:throw Error(N(468,i))}a[Je]=t,Ye(a),i=a}t.stateNode=i}else ig(s,t.type,t.stateNode);else t.stateNode=tg(s,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?ig(s,t.type,t.stateNode):tg(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&bc(t,t.memoizedProps,n.memoizedProps)}break;case 27:ft(e,t),ht(t),i&512&&(ze||n===null||ln(n,n.return)),n!==null&&i&4&&bc(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ft(e,t),ht(t),i&512&&(ze||n===null||ln(n,n.return)),t.flags&32){s=t.stateNode;try{ta(s,"")}catch(g){me(t,t.return,g)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,bc(t,s,n!==null?n.memoizedProps:s)),i&1024&&(Ec=!0);break;case 6:if(ft(e,t),ht(t),i&4){if(t.stateNode===null)throw Error(N(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(g){me(t,t.return,g)}}break;case 3:if(Zl=null,s=Kt,Kt=Io(e.containerInfo),ft(e,t),Kt=s,ht(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(e.containerInfo)}catch(g){me(t,t.return,g)}Ec&&(Ec=!1,qv(t));break;case 4:i=Kt,Kt=Io(t.stateNode.containerInfo),ft(e,t),ht(t),Kt=i;break;case 12:ft(e,t),ht(t);break;case 31:ft(e,t),ht(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ml(t,i)));break;case 13:ft(e,t),ht(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(wu=Tt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ml(t,i)));break;case 22:s=t.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=En,h=ze;if(En=u||s,ze=h||o,ft(e,t),ze=h,En=u,ht(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||o||En||ze||Pi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){o=n=e;try{if(a=o.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,c=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=c==null||typeof c=="boolean"?"":(""+c).trim()}}catch(g){me(o,o.return,g)}}}else if(e.tag===6){if(n===null){o=e;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(g){me(o,o.return,g)}}}else if(e.tag===18){if(n===null){o=e;try{var d=o.stateNode;s?Wp(d,!0):Wp(o.stateNode,!1)}catch(g){me(o,o.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ml(t,n))));break;case 19:ft(e,t),ht(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ml(t,i)));break;case 30:break;case 21:break;default:ft(e,t),ht(t)}}function ht(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Lv(i)){n=i;break}i=i.return}if(n==null)throw Error(N(160));switch(n.tag){case 27:var s=n.stateNode,a=Sc(t);wo(t,a,s);break;case 5:var r=n.stateNode;n.flags&32&&(ta(r,""),n.flags&=-33);var l=Sc(t);wo(t,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,u=Sc(t);Rf(t,u,o);break;default:throw Error(N(161))}}catch(h){me(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;qv(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function vn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)zv(t,e.alternate,e),e=e.sibling}function Pi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ni(4,e,e.return),Pi(e);break;case 1:ln(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Iv(e,e.return,n),Pi(e);break;case 27:hr(e.stateNode);case 26:case 5:ln(e,e.return),Pi(e);break;case 22:e.memoizedState===null&&Pi(e);break;case 30:Pi(e);break;default:Pi(e)}t=t.sibling}}function bn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:bn(s,a,n),nl(4,a);break;case 1:if(bn(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){me(i,i.return,u)}if(i=a,s=i.updateQueue,s!==null){var l=i.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)H_(o[s],l)}catch(u){me(i,i.return,u)}}n&&r&64&&Dv(a),or(a,a.return);break;case 27:Uv(a);case 26:case 5:bn(s,a,n),n&&i===null&&r&4&&kv(a),or(a,a.return);break;case 12:bn(s,a,n);break;case 31:bn(s,a,n),n&&r&4&&Hv(s,a);break;case 13:bn(s,a,n),n&&r&4&&Pv(s,a);break;case 22:a.memoizedState===null&&bn(s,a,n),or(a,a.return);break;case 30:break;default:bn(s,a,n)}e=e.sibling}}function rd(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&el(n))}function ld(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&el(t))}function Qt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gv(t,e,n,i),e=e.sibling}function Gv(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Qt(t,e,n,i),s&2048&&nl(9,e);break;case 1:Qt(t,e,n,i);break;case 3:Qt(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&el(t)));break;case 12:if(s&2048){Qt(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(o){me(e,e.return,o)}}else Qt(t,e,n,i);break;case 31:Qt(t,e,n,i);break;case 13:Qt(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?Qt(t,e,n,i):ur(t,e):a._visibility&2?Qt(t,e,n,i):(a._visibility|=2,ws(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&rd(r,e);break;case 24:Qt(t,e,n,i),s&2048&&ld(e.alternate,e);break;default:Qt(t,e,n,i)}}function ws(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,r=e,l=n,o=i,u=r.flags;switch(r.tag){case 0:case 11:case 15:ws(a,r,l,o,s),nl(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?ws(a,r,l,o,s):ur(a,r):(h._visibility|=2,ws(a,r,l,o,s)),s&&u&2048&&rd(r.alternate,r);break;case 24:ws(a,r,l,o,s),s&&u&2048&&ld(r.alternate,r);break;default:ws(a,r,l,o,s)}e=e.sibling}}function ur(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:ur(n,i),s&2048&&rd(i.alternate,i);break;case 24:ur(n,i),s&2048&&ld(i.alternate,i);break;default:ur(n,i)}e=e.sibling}}var Za=8192;function Es(t,e,n){if(t.subtreeFlags&Za)for(t=t.child;t!==null;)Fv(t,e,n),t=t.sibling}function Fv(t,e,n){switch(t.tag){case 26:Es(t,e,n),t.flags&Za&&t.memoizedState!==null&&dT(n,Kt,t.memoizedState,t.memoizedProps);break;case 5:Es(t,e,n);break;case 3:case 4:var i=Kt;Kt=Io(t.stateNode.containerInfo),Es(t,e,n),Kt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Za,Za=16777216,Es(t,e,n),Za=i):Es(t,e,n));break;default:Es(t,e,n)}}function Yv(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ja(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ge=i,Kv(i,t)}Yv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qv(t),t=t.sibling}function Qv(t){switch(t.tag){case 0:case 11:case 15:ja(t),t.flags&2048&&Ni(9,t,t.return);break;case 3:ja(t);break;case 12:ja(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Wl(t)):ja(t);break;default:ja(t)}}function Wl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ge=i,Kv(i,t)}Yv(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ni(8,e,e.return),Wl(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Wl(e));break;default:Wl(e)}t=t.sibling}}function Kv(t,e){for(;Ge!==null;){var n=Ge;switch(n.tag){case 0:case 11:case 15:Ni(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:el(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ge=i;else e:for(n=t;Ge!==null;){i=Ge;var s=i.sibling,a=i.return;if(Bv(i),i===n){Ge=null;break e}if(s!==null){s.return=a,Ge=s;break e}Ge=a}}}var xC={getCacheForType:function(t){var e=tt(Be),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return tt(Be).controller.signal}},RC=typeof WeakMap=="function"?WeakMap:Map,oe=0,ve=null,Z=null,te=0,de=0,bt=null,oi=!1,Ea=!1,od=!1,jn=0,Oe=0,xi=0,Zi=0,ud=0,Ct=0,aa=0,cr=null,mt=null,Mf=!1,wu=0,Xv=0,Ao=1/0,No=null,pi=null,He=0,gi=null,ra=null,Dn=0,Of=0,Df=null,Wv=null,fr=0,If=null;function Nt(){return oe&2&&te!==0?te&-te:q.T!==null?fd():a_()}function $v(){if(Ct===0)if(!(te&536870912)||ne){var t=El;El<<=1,!(El&3932160)&&(El=262144),Ct=t}else Ct=536870912;return t=Rt.current,t!==null&&(t.flags|=32),Ct}function gt(t,e,n){(t===ve&&(de===2||de===9)||t.cancelPendingCommit!==null)&&(la(t,0),ui(t,te,Ct,!1)),$r(t,n),(!(oe&2)||t!==ve)&&(t===ve&&(!(oe&2)&&(Zi|=n),Oe===4&&ui(t,te,Ct,!1)),dn(t))}function Zv(t,e,n){if(oe&6)throw Error(N(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Wr(t,e),s=i?DC(t,e):Cc(t,e,!0),a=i;do{if(s===0){Ea&&!i&&ui(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!MC(n)){s=Cc(t,e,!1),a=!1;continue}if(s===2){if(a=e,t.errorRecoveryDisabledLanes&a)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var l=t;s=cr;var o=l.current.memoizedState.isDehydrated;if(o&&(la(l,r).flags|=256),r=Cc(l,r,!1),r!==2){if(od&&!o){l.errorRecoveryDisabledLanes|=a,Zi|=a,s=4;break e}a=mt,mt=s,a!==null&&(mt===null?mt=a:mt.push.apply(mt,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){la(t,0),ui(t,e,0,!0);break}e:{switch(i=t,a=s,a){case 0:case 1:throw Error(N(345));case 4:if((e&4194048)!==e)break;case 6:ui(i,e,Ct,!oi);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(N(329))}if((e&62914560)===e&&(s=wu+300-Tt(),10<s)){if(ui(i,e,Ct,!oi),mu(i,0,!0)!==0)break e;Dn=e,i.timeoutHandle=_0(zp.bind(null,i,n,mt,No,Mf,e,Ct,Zi,aa,oi,a,"Throttled",-0,0),s);break e}zp(i,n,mt,No,Mf,e,Ct,Zi,aa,oi,a,null,-0,0)}}break}while(!0);dn(t)}function zp(t,e,n,i,s,a,r,l,o,u,h,f,c,d){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},Fv(e,a,f);var g=(a&62914560)===a?wu-Tt():(a&4194048)===a?Xv-Tt():0;if(g=mT(f,g),g!==null){Dn=a,t.cancelPendingCommit=g(jp.bind(null,t,e,a,n,i,s,r,l,o,h,f,null,c,d)),ui(t,a,r,!u);return}}jp(t,e,a,n,i,s,r,l,o)}function MC(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!xt(a(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e,n,i){e&=~ud,e&=~Zi,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var a=31-At(s),r=1<<a;i[a]=-1,s&=~r}n!==0&&n_(t,n,e)}function Au(){return oe&6?!0:(il(0),!1)}function cd(){if(Z!==null){if(de===0)var t=Z.return;else t=Z,An=gs=null,Xh(t),Gs=null,Nr=0,t=Z;for(;t!==null;)Ov(t.alternate,t),t=t.return;Z=null}}function la(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,WC(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Dn=0,cd(),ve=t,Z=n=Mn(t.current,null),te=e,de=0,bt=null,oi=!1,Ea=Wr(t,e),od=!1,aa=Ct=ud=Zi=xi=Oe=0,mt=cr=null,Mf=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-At(i),a=1<<s;e|=t[s],i&=~a}return jn=e,_u(),n}function Jv(t,e){X=null,q.H=Rr,e===Sa||e===bu?(e=pp(),de=3):e===Vh?(e=pp(),de=4):de=e===sd?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,bt=e,Z===null&&(Oe=1,Co(t,Bt(e,t.current)))}function e0(){var t=Rt.current;return t===null?!0:(te&4194048)===te?Pt===null:(te&62914560)===te||te&536870912?t===Pt:!1}function t0(){var t=q.H;return q.H=Rr,t===null?Rr:t}function n0(){var t=q.A;return q.A=xC,t}function xo(){Oe=4,oi||(te&4194048)!==te&&Rt.current!==null||(Ea=!0),!(xi&134217727)&&!(Zi&134217727)||ve===null||ui(ve,te,Ct,!1)}function Cc(t,e,n){var i=oe;oe|=2;var s=t0(),a=n0();(ve!==t||te!==e)&&(No=null,la(t,e)),e=!1;var r=Oe;e:do try{if(de!==0&&Z!==null){var l=Z,o=bt;switch(de){case 8:cd(),r=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(e=!0);var u=de;if(de=0,bt=null,Bs(t,l,o,u),n&&Ea){r=0;break e}break;default:u=de,de=0,bt=null,Bs(t,l,o,u)}}OC(),r=Oe;break}catch(h){Jv(t,h)}while(!0);return e&&t.shellSuspendCounter++,An=gs=null,oe=i,q.H=s,q.A=a,Z===null&&(ve=null,te=0,_u()),r}function OC(){for(;Z!==null;)i0(Z)}function DC(t,e){var n=oe;oe|=2;var i=t0(),s=n0();ve!==t||te!==e?(No=null,Ao=Tt()+500,la(t,e)):Ea=Wr(t,e);e:do try{if(de!==0&&Z!==null){e=Z;var a=bt;t:switch(de){case 1:de=0,bt=null,Bs(t,e,a,1);break;case 2:case 9:if(mp(a)){de=0,bt=null,Bp(e);break}e=function(){de!==2&&de!==9||ve!==t||(de=7),dn(t)},a.then(e,e);break e;case 3:de=7;break e;case 4:de=5;break e;case 7:mp(a)?(de=0,bt=null,Bp(e)):(de=0,bt=null,Bs(t,e,a,7));break;case 5:var r=null;switch(Z.tag){case 26:r=Z.memoizedState;case 5:case 27:var l=Z;if(r?C0(r):l.stateNode.complete){de=0,bt=null;var o=l.sibling;if(o!==null)Z=o;else{var u=l.return;u!==null?(Z=u,Nu(u)):Z=null}break t}}de=0,bt=null,Bs(t,e,a,5);break;case 6:de=0,bt=null,Bs(t,e,a,6);break;case 8:cd(),Oe=6;break e;default:throw Error(N(462))}}IC();break}catch(h){Jv(t,h)}while(!0);return An=gs=null,q.H=i,q.A=s,oe=n,Z!==null?0:(ve=null,te=0,_u(),Oe)}function IC(){for(;Z!==null&&!n1();)i0(Z)}function i0(t){var e=Mv(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?Nu(t):Z=e}function Bp(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Op(n,e,e.pendingProps,e.type,void 0,te);break;case 11:e=Op(n,e,e.pendingProps,e.type.render,e.ref,te);break;case 5:Xh(e);default:Ov(n,e),e=Z=O_(e,jn),e=Mv(n,e,jn)}t.memoizedProps=t.pendingProps,e===null?Nu(t):Z=e}function Bs(t,e,n,i){An=gs=null,Xh(e),Gs=null,Nr=0;var s=e.return;try{if(SC(t,s,e,n,te)){Oe=1,Co(t,Bt(n,t.current)),Z=null;return}}catch(a){if(s!==null)throw Z=s,a;Oe=1,Co(t,Bt(n,t.current)),Z=null;return}e.flags&32768?(ne||i===1?t=!0:Ea||te&536870912?t=!1:(oi=t=!0,(i===2||i===9||i===3||i===6)&&(i=Rt.current,i!==null&&i.tag===13&&(i.flags|=16384))),s0(e,t)):Nu(e)}function Nu(t){var e=t;do{if(e.flags&32768){s0(e,oi);return}t=e.return;var n=TC(e.alternate,e,jn);if(n!==null){Z=n;return}if(e=e.sibling,e!==null){Z=e;return}Z=e=t}while(e!==null);Oe===0&&(Oe=5)}function s0(t,e){do{var n=wC(t.alternate,t);if(n!==null){n.flags&=32767,Z=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Z=t;return}Z=t=n}while(t!==null);Oe=6,Z=null}function jp(t,e,n,i,s,a,r,l,o){t.cancelPendingCommit=null;do xu();while(He!==0);if(oe&6)throw Error(N(327));if(e!==null){if(e===t.current)throw Error(N(177));if(a=e.lanes|e.childLanes,a|=Lh,h1(t,n,a,r,l,o),t===ve&&(Z=ve=null,te=0),ra=e,gi=t,Dn=n,Of=a,Df=s,Wv=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,zC(fo,function(){return u0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=q.T,q.T=null,s=ue.p,ue.p=2,r=oe,oe|=4;try{AC(t,e,n)}finally{oe=r,ue.p=s,q.T=i}}He=1,a0(),r0(),l0()}}function a0(){if(He===1){He=0;var t=gi,e=ra,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=q.T,q.T=null;var i=ue.p;ue.p=2;var s=oe;oe|=4;try{Vv(e,t);var a=zf,r=C_(t.containerInfo),l=a.focusedElem,o=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&E_(l.ownerDocument.documentElement,l)){if(o!==null&&kh(l)){var u=o.start,h=o.end;if(h===void 0&&(h=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(h,l.value.length);else{var f=l.ownerDocument||document,c=f&&f.defaultView||window;if(c.getSelection){var d=c.getSelection(),g=l.textContent.length,T=Math.min(o.start,g),S=o.end===void 0?T:Math.min(o.end,g);!d.extend&&T>S&&(r=S,S=T,T=r);var m=lp(l,T),p=lp(l,S);if(m&&p&&(d.rangeCount!==1||d.anchorNode!==m.node||d.anchorOffset!==m.offset||d.focusNode!==p.node||d.focusOffset!==p.offset)){var y=f.createRange();y.setStart(m.node,m.offset),d.removeAllRanges(),T>S?(d.addRange(y),d.extend(p.node,p.offset)):(y.setEnd(p.node,p.offset),d.addRange(y))}}}}for(f=[],d=l;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var w=f[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Uo=!!Uf,zf=Uf=null}finally{oe=s,ue.p=i,q.T=n}}t.current=e,He=2}}function r0(){if(He===2){He=0;var t=gi,e=ra,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=q.T,q.T=null;var i=ue.p;ue.p=2;var s=oe;oe|=4;try{zv(t,e.alternate,e)}finally{oe=s,ue.p=i,q.T=n}}He=3}}function l0(){if(He===4||He===3){He=0,i1();var t=gi,e=ra,n=Dn,i=Wv;e.subtreeFlags&10256||e.flags&10256?He=5:(He=0,ra=gi=null,o0(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(pi=null),Nh(n),e=e.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Xr,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=q.T,s=ue.p,ue.p=2,q.T=null;try{for(var a=t.onRecoverableError,r=0;r<i.length;r++){var l=i[r];a(l.value,{componentStack:l.stack})}}finally{q.T=e,ue.p=s}}Dn&3&&xu(),dn(t),s=t.pendingLanes,n&261930&&s&42?t===If?fr++:(fr=0,If=t):fr=0,il(0)}}function o0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,el(e)))}function xu(){return a0(),r0(),l0(),u0()}function u0(){if(He!==5)return!1;var t=gi,e=Of;Of=0;var n=Nh(Dn),i=q.T,s=ue.p;try{ue.p=32>n?32:n,q.T=null,n=Df,Df=null;var a=gi,r=Dn;if(He=0,ra=gi=null,Dn=0,oe&6)throw Error(N(331));var l=oe;if(oe|=4,Qv(a.current),Gv(a,a.current,r,n),oe=l,il(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Xr,a)}catch{}return!0}finally{ue.p=s,q.T=i,o0(t,e)}}function Hp(t,e,n){e=Bt(n,e),e=Af(t.stateNode,e,2),t=mi(t,e,2),t!==null&&($r(t,2),dn(t))}function me(t,e,n){if(t.tag===3)Hp(t,t,n);else for(;e!==null;){if(e.tag===3){Hp(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(pi===null||!pi.has(i))){t=Bt(n,t),n=Tv(2),i=mi(e,n,2),i!==null&&(wv(n,i,e,t),$r(i,2),dn(i));break}}e=e.return}}function Tc(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new RC;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(od=!0,s.add(n),t=kC.bind(null,t,e,n),e.then(t,t))}function kC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ve===t&&(te&n)===n&&(Oe===4||Oe===3&&(te&62914560)===te&&300>Tt()-wu?!(oe&2)&&la(t,0):ud|=n,aa===te&&(aa=0)),dn(t)}function c0(t,e){e===0&&(e=t_()),t=ps(t,e),t!==null&&($r(t,e),dn(t))}function LC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),c0(t,n)}function UC(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(N(314))}i!==null&&i.delete(e),c0(t,n)}function zC(t,e){return wh(t,e)}var Ro=null,As=null,kf=!1,Mo=!1,wc=!1,ci=0;function dn(t){t!==As&&t.next===null&&(As===null?Ro=As=t:As=As.next=t),Mo=!0,kf||(kf=!0,jC())}function il(t,e){if(!wc&&Mo){wc=!0;do for(var n=!1,i=Ro;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,l=i.pingedLanes;a=(1<<31-At(42|t)+1)-1,a&=s&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Pp(i,a))}else a=te,a=mu(i,i===ve?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Wr(i,a)||(n=!0,Pp(i,a));i=i.next}while(n);wc=!1}}function BC(){f0()}function f0(){Mo=kf=!1;var t=0;ci!==0&&XC()&&(t=ci);for(var e=Tt(),n=null,i=Ro;i!==null;){var s=i.next,a=h0(i,e);a===0?(i.next=null,n===null?Ro=s:n.next=s,s===null&&(As=n)):(n=i,(t!==0||a&3)&&(Mo=!0)),i=s}He!==0&&He!==5||il(t),ci!==0&&(ci=0)}function h0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var r=31-At(a),l=1<<r,o=s[r];o===-1?(!(l&n)||l&i)&&(s[r]=f1(l,e)):o<=e&&(t.expiredLanes|=l),a&=~l}if(e=ve,n=te,n=mu(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(de===2||de===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Ju(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Wr(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Ju(i),Nh(n)){case 2:case 8:n=Jy;break;case 32:n=fo;break;case 268435456:n=e_;break;default:n=fo}return i=d0.bind(null,t),n=wh(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Ju(i),t.callbackPriority=2,t.callbackNode=null,2}function d0(t,e){if(He!==0&&He!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(xu()&&t.callbackNode!==n)return null;var i=te;return i=mu(t,t===ve?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Zv(t,i,e),h0(t,Tt()),t.callbackNode!=null&&t.callbackNode===n?d0.bind(null,t):null)}function Pp(t,e){if(xu())return null;Zv(t,e,!0)}function jC(){$C(function(){oe&6?wh(Zy,BC):f0()})}function fd(){if(ci===0){var t=na;t===0&&(t=Sl,Sl<<=1,!(Sl&261888)&&(Sl=256)),ci=t}return ci}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pl(""+t)}function qp(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function HC(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var a=Vp((s[_t]||null).action),r=i.submitter;r&&(e=(e=r[_t]||null)?Vp(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var l=new pu("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ci!==0){var o=r?qp(s,r):new FormData(s);Tf(n,{pending:!0,data:o,method:s.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=r?qp(s,r):new FormData(s),Tf(n,{pending:!0,data:o,method:s.method,action:a},a,o))},currentTarget:s}]})}}for(var Ac=0;Ac<hf.length;Ac++){var Nc=hf[Ac],PC=Nc.toLowerCase(),VC=Nc[0].toUpperCase()+Nc.slice(1);tn(PC,"on"+VC)}tn(w_,"onAnimationEnd");tn(A_,"onAnimationIteration");tn(N_,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(sC,"onTransitionRun");tn(aC,"onTransitionStart");tn(rC,"onTransitionCancel");tn(x_,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mr));function m0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var r=i.length-1;0<=r;r--){var l=i[r],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=u;try{a(s)}catch(h){mo(h)}s.currentTarget=null,a=o}else for(r=0;r<i.length;r++){if(l=i[r],o=l.instance,u=l.currentTarget,l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=u;try{a(s)}catch(h){mo(h)}s.currentTarget=null,a=o}}}}function $(t,e){var n=e[sf];n===void 0&&(n=e[sf]=new Set);var i=t+"__bubble";n.has(i)||(p0(e,t,2,!1),n.add(i))}function xc(t,e,n){var i=0;e&&(i|=4),p0(n,t,i,e)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[Ol]){t[Ol]=!0,r_.forEach(function(n){n!=="selectionchange"&&(qC.has(n)||xc(n,!1,t),xc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ol]||(e[Ol]=!0,xc("selectionchange",!1,e))}}function p0(t,e,n,i){switch(x0(e)){case 2:var s=yT;break;case 8:s=_T;break;default:s=gd}n=s.bind(null,e,n,t),s=void 0,!uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Rc(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var l=i.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=i.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=Rs(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){i=a=r;continue e}l=l.parentNode}}i=i.return}m_(function(){var u=a,h=Mh(n),f=[];e:{var c=R_.get(t);if(c!==void 0){var d=pu,g=t;switch(t){case"keypress":if(ql(n)===0)break e;case"keydown":case"keyup":d=U1;break;case"focusin":g="focus",d=sc;break;case"focusout":g="blur",d=sc;break;case"beforeblur":case"afterblur":d=sc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=$m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=T1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=j1;break;case w_:case A_:case N_:d=N1;break;case x_:d=P1;break;case"scroll":case"scrollend":d=E1;break;case"wheel":d=q1;break;case"copy":case"cut":case"paste":d=R1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Jm;break;case"toggle":case"beforetoggle":d=F1}var T=(e&4)!==0,S=!T&&(t==="scroll"||t==="scrollend"),m=T?c!==null?c+"Capture":null:c;T=[];for(var p=u,y;p!==null;){var w=p;if(y=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||y===null||m===null||(w=Er(p,m),w!=null&&T.push(Or(p,w,y))),S)break;p=p.return}0<T.length&&(c=new d(c,g,null,n,h),f.push({event:c,listeners:T}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",c&&n!==of&&(g=n.relatedTarget||n.fromElement)&&(Rs(g)||g[_a]))break e;if((d||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,d?(g=n.relatedTarget||n.toElement,d=u,g=g?Rs(g):null,g!==null&&(S=Kr(g),T=g.tag,g!==S||T!==5&&T!==27&&T!==6)&&(g=null)):(d=null,g=u),d!==g)){if(T=$m,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(T=Jm,w="onPointerLeave",m="onPointerEnter",p="pointer"),S=d==null?c:Wa(d),y=g==null?c:Wa(g),c=new T(w,p+"leave",d,n,h),c.target=S,c.relatedTarget=y,w=null,Rs(h)===u&&(T=new T(m,p+"enter",g,n,h),T.target=y,T.relatedTarget=S,w=T),S=w,d&&g)t:{for(T=GC,m=d,p=g,y=0,w=m;w;w=T(w))y++;w=0;for(var I=p;I;I=T(I))w++;for(;0<y-w;)m=T(m),y--;for(;0<w-y;)p=T(p),w--;for(;y--;){if(m===p||p!==null&&m===p.alternate){T=m;break t}m=T(m),p=T(p)}T=null}else T=null;d!==null&&Gp(f,c,d,T,!1),g!==null&&S!==null&&Gp(f,S,g,T,!0)}}e:{if(c=u?Wa(u):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var M=ip;else if(np(c))if(b_)M=tC;else{M=J1;var A=Z1}else d=c.nodeName,!d||d.toLowerCase()!=="input"||c.type!=="checkbox"&&c.type!=="radio"?u&&Rh(u.elementType)&&(M=ip):M=eC;if(M&&(M=M(t,u))){v_(f,M,n,h);break e}A&&A(t,c,u),t==="focusout"&&u&&c.type==="number"&&u.memoizedProps.value!=null&&lf(c,"number",c.value)}switch(A=u?Wa(u):window,t){case"focusin":(np(A)||A.contentEditable==="true")&&(Ds=A,cf=u,nr=null);break;case"focusout":nr=cf=Ds=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,op(f,n,h);break;case"selectionchange":if(iC)break;case"keydown":case"keyup":op(f,n,h)}var O;if(Ih)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Os?y_(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(g_&&n.locale!=="ko"&&(Os||R!=="onCompositionStart"?R==="onCompositionEnd"&&Os&&(O=p_()):(li=h,Oh="value"in li?li.value:li.textContent,Os=!0)),A=Oo(u,R),0<A.length&&(R=new Zm(R,t,null,n,h),f.push({event:R,listeners:A}),O?R.data=O:(O=__(n),O!==null&&(R.data=O)))),(O=Q1?K1(t,n):X1(t,n))&&(R=Oo(u,"onBeforeInput"),0<R.length&&(A=new Zm("onBeforeInput","beforeinput",null,n,h),f.push({event:A,listeners:R}),A.data=O)),HC(f,t,u,n,h)}m0(f,e)})}function Or(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oo(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=Er(t,n),s!=null&&i.unshift(Or(t,s,a)),s=Er(t,e),s!=null&&i.push(Or(t,s,a))),t.tag===3)return i;t=t.return}return[]}function GC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gp(t,e,n,i,s){for(var a=e._reactName,r=[];n!==null&&n!==i;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===i)break;l!==5&&l!==26&&l!==27||u===null||(o=u,s?(u=Er(n,a),u!=null&&r.unshift(Or(n,u,o))):s||(u=Er(n,a),u!=null&&r.push(Or(n,u,o)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var FC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function Fp(t){return(typeof t=="string"?t:""+t).replace(FC,`
`).replace(YC,"")}function g0(t,e){return e=Fp(e),Fp(t)===e}function pe(t,e,n,i,s,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||ta(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&ta(t,""+i);break;case"className":Tl(t,"class",i);break;case"tabIndex":Tl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(t,n,i);break;case"style":d_(t,i,a);break;case"data":if(e!=="object"){Tl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Pl(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&pe(t,e,"name",s.name,s,null),pe(t,e,"formEncType",s.formEncType,s,null),pe(t,e,"formMethod",s.formMethod,s,null),pe(t,e,"formTarget",s.formTarget,s,null)):(pe(t,e,"encType",s.encType,s,null),pe(t,e,"method",s.method,s,null),pe(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Pl(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=wn);break;case"onScroll":i!=null&&$("scroll",t);break;case"onScrollEnd":i!=null&&$("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(N(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Pl(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":$("beforetoggle",t),$("toggle",t),Hl(t,"popover",i);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Hl(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=b1.get(n)||n,Hl(t,n,i))}}function Lf(t,e,n,i,s,a){switch(n){case"style":d_(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(N(60));t.innerHTML=n}}break;case"children":typeof i=="string"?ta(t,i):(typeof i=="number"||typeof i=="bigint")&&ta(t,""+i);break;case"onScroll":i!=null&&$("scroll",t);break;case"onScrollEnd":i!=null&&$("scrollend",t);break;case"onClick":i!=null&&(t.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!l_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[_t]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Hl(t,n,i)}}}function nt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$("error",t),$("load",t);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N(137,e));default:pe(t,e,a,r,n,null)}}s&&pe(t,e,"srcSet",n.srcSet,n,null),i&&pe(t,e,"src",n.src,n,null);return;case"input":$("invalid",t);var l=a=r=s=null,o=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":r=h;break;case"checked":o=h;break;case"defaultChecked":u=h;break;case"value":a=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(N(137,e));break;default:pe(t,e,i,h,n,null)}}c_(t,a,l,o,u,r,s,!1);return;case"select":$("invalid",t),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":i=l;default:pe(t,e,s,l,n,null)}e=a,n=r,t.multiple=!!i,e!=null?Ps(t,!!i,e,!1):n!=null&&Ps(t,!!i,n,!0);return;case"textarea":$("invalid",t),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":s=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(N(91));break;default:pe(t,e,r,l,n,null)}h_(t,i,s,a);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(t,e,o,i,n,null)}return;case"dialog":$("beforetoggle",t),$("toggle",t),$("cancel",t),$("close",t);break;case"iframe":case"object":$("load",t);break;case"video":case"audio":for(i=0;i<Mr.length;i++)$(Mr[i],t);break;case"image":$("error",t),$("load",t);break;case"details":$("toggle",t);break;case"embed":case"source":case"link":$("error",t),$("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(N(137,e));default:pe(t,e,u,i,n,null)}return;default:if(Rh(e)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Lf(t,e,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&pe(t,e,l,i,n,null))}function QC(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,l=null,o=null,u=null,h=null;for(d in n){var f=n[d];if(n.hasOwnProperty(d)&&f!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":o=f;default:i.hasOwnProperty(d)||pe(t,e,d,null,i,f)}}for(var c in i){var d=i[c];if(f=n[c],i.hasOwnProperty(c)&&(d!=null||f!=null))switch(c){case"type":a=d;break;case"name":s=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(N(137,e));break;default:d!==f&&pe(t,e,c,d,i,f)}}rf(t,r,l,o,u,h,a,s);return;case"select":d=r=l=c=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":d=o;default:i.hasOwnProperty(a)||pe(t,e,a,null,i,o)}for(s in i)if(a=i[s],o=n[s],i.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":c=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==o&&pe(t,e,s,a,i,o)}e=l,n=r,i=d,c!=null?Ps(t,!!n,c,!1):!!i!=!!n&&(e!=null?Ps(t,!!n,e,!0):Ps(t,!!n,n?[]:"",!1));return;case"textarea":d=c=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:pe(t,e,l,null,i,s)}for(r in i)if(s=i[r],a=n[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":c=s;break;case"defaultValue":d=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(N(91));break;default:s!==a&&pe(t,e,r,s,i,a)}f_(t,c,d);return;case"option":for(var g in n)if(c=n[g],n.hasOwnProperty(g)&&c!=null&&!i.hasOwnProperty(g))switch(g){case"selected":t.selected=!1;break;default:pe(t,e,g,null,i,c)}for(o in i)if(c=i[o],d=n[o],i.hasOwnProperty(o)&&c!==d&&(c!=null||d!=null))switch(o){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:pe(t,e,o,c,i,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in n)c=n[T],n.hasOwnProperty(T)&&c!=null&&!i.hasOwnProperty(T)&&pe(t,e,T,null,i,c);for(u in i)if(c=i[u],d=n[u],i.hasOwnProperty(u)&&c!==d&&(c!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(N(137,e));break;default:pe(t,e,u,c,i,d)}return;default:if(Rh(e)){for(var S in n)c=n[S],n.hasOwnProperty(S)&&c!==void 0&&!i.hasOwnProperty(S)&&Lf(t,e,S,void 0,i,c);for(h in i)c=i[h],d=n[h],!i.hasOwnProperty(h)||c===d||c===void 0&&d===void 0||Lf(t,e,h,c,i,d);return}}for(var m in n)c=n[m],n.hasOwnProperty(m)&&c!=null&&!i.hasOwnProperty(m)&&pe(t,e,m,null,i,c);for(f in i)c=i[f],d=n[f],!i.hasOwnProperty(f)||c===d||c==null&&d==null||pe(t,e,f,c,i,d)}function Yp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,r=s.initiatorType,l=s.duration;if(a&&l&&Yp(r)){for(r=0,l=s.responseEnd,i+=1;i<n.length;i++){var o=n[i],u=o.startTime;if(u>l)break;var h=o.transferSize,f=o.initiatorType;h&&Yp(f)&&(o=o.responseEnd,r+=h*(o<l?1:(l-u)/(o-u)))}if(--i,e+=8*(a+r)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Uf=null,zf=null;function Do(t){return t.nodeType===9?t:t.ownerDocument}function Qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Bf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mc=null;function XC(){var t=window.event;return t&&t.type==="popstate"?t===Mc?!1:(Mc=t,!0):(Mc=null,!1)}var _0=typeof setTimeout=="function"?setTimeout:void 0,WC=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,$C=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(t){return Kp.resolve(null).then(t).catch(ZC)}:_0;function ZC(t){setTimeout(function(){throw t})}function Ii(t){return t==="head"}function Xp(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),ua(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")hr(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,hr(n);for(var a=n.firstChild;a;){var r=a.nextSibling,l=a.nodeName;a[Zr]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=r}}else n==="body"&&hr(t.ownerDocument.body);n=s}while(n);ua(e)}function Wp(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function jf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":jf(n),xh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function JC(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Zr])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function eT(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vt(t.nextSibling),t===null))return null;return t}function v0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Vt(t.nextSibling),t===null))return null;return t}function Hf(t){return t.data==="$?"||t.data==="$~"}function Pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tT(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Vt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Vf=null;function $p(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Vt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Zp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function b0(t,e,n){switch(e=Do(n),t){case"html":if(t=e.documentElement,!t)throw Error(N(452));return t;case"head":if(t=e.head,!t)throw Error(N(453));return t;case"body":if(t=e.body,!t)throw Error(N(454));return t;default:throw Error(N(451))}}function hr(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);xh(t)}var qt=new Map,Jp=new Set;function Io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gn=ue.d;ue.d={f:nT,r:iT,D:sT,C:aT,L:rT,m:lT,X:uT,S:oT,M:cT};function nT(){var t=Gn.f(),e=Au();return t||e}function iT(t){var e=va(t);e!==null&&e.tag===5&&e.type==="form"?dv(e):Gn.r(t)}var Ca=typeof document>"u"?null:document;function S0(t,e,n){var i=Ca;if(i&&typeof e=="string"&&e){var s=zt(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Jp.has(s)||(Jp.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),nt(e,"link",t),Ye(e),i.head.appendChild(e)))}}function sT(t){Gn.D(t),S0("dns-prefetch",t,null)}function aT(t,e){Gn.C(t,e),S0("preconnect",t,e)}function rT(t,e,n){Gn.L(t,e,n);var i=Ca;if(i&&t&&e){var s='link[rel="preload"][as="'+zt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+zt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+zt(n.imageSizes)+'"]')):s+='[href="'+zt(t)+'"]';var a=s;switch(e){case"style":a=oa(t);break;case"script":a=Ta(t)}qt.has(a)||(t=Ae({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),qt.set(a,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(sl(a))||e==="script"&&i.querySelector(al(a))||(e=i.createElement("link"),nt(e,"link",t),Ye(e),i.head.appendChild(e)))}}function lT(t,e){Gn.m(t,e);var n=Ca;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+zt(i)+'"][href="'+zt(t)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ta(t)}if(!qt.has(a)&&(t=Ae({rel:"modulepreload",href:t},e),qt.set(a,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(al(a)))return}i=n.createElement("link"),nt(i,"link",t),Ye(i),n.head.appendChild(i)}}}function oT(t,e,n){Gn.S(t,e,n);var i=Ca;if(i&&t){var s=Hs(i).hoistableStyles,a=oa(t);e=e||"default";var r=s.get(a);if(!r){var l={loading:0,preload:null};if(r=i.querySelector(sl(a)))l.loading=5;else{t=Ae({rel:"stylesheet",href:t,"data-precedence":e},n),(n=qt.get(a))&&dd(t,n);var o=r=i.createElement("link");Ye(o),nt(o,"link",t),o._p=new Promise(function(u,h){o.onload=u,o.onerror=h}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,$l(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(a,r)}}}function uT(t,e){Gn.X(t,e);var n=Ca;if(n&&t){var i=Hs(n).hoistableScripts,s=Ta(t),a=i.get(s);a||(a=n.querySelector(al(s)),a||(t=Ae({src:t,async:!0},e),(e=qt.get(s))&&md(t,e),a=n.createElement("script"),Ye(a),nt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function cT(t,e){Gn.M(t,e);var n=Ca;if(n&&t){var i=Hs(n).hoistableScripts,s=Ta(t),a=i.get(s);a||(a=n.querySelector(al(s)),a||(t=Ae({src:t,async:!0,type:"module"},e),(e=qt.get(s))&&md(t,e),a=n.createElement("script"),Ye(a),nt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function eg(t,e,n,i){var s=(s=fi.current)?Io(s):null;if(!s)throw Error(N(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=oa(n.href),n=Hs(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=oa(n.href);var a=Hs(s).hoistableStyles,r=a.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,r),(a=s.querySelector(sl(t)))&&!a._p&&(r.instance=a,r.state.loading=5),qt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qt.set(t,n),a||fT(s,t,n,r.state))),e&&i===null)throw Error(N(528,""));return r}if(e&&i!==null)throw Error(N(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ta(n),n=Hs(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(N(444,t))}}function oa(t){return'href="'+zt(t)+'"'}function sl(t){return'link[rel="stylesheet"]['+t+"]"}function E0(t){return Ae({},t,{"data-precedence":t.precedence,precedence:null})}function fT(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),nt(e,"link",n),Ye(e),t.head.appendChild(e))}function Ta(t){return'[src="'+zt(t)+'"]'}function al(t){return"script[async]"+t}function tg(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+zt(n.href)+'"]');if(i)return e.instance=i,Ye(i),i;var s=Ae({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ye(i),nt(i,"style",s),$l(i,n.precedence,t),e.instance=i;case"stylesheet":s=oa(n.href);var a=t.querySelector(sl(s));if(a)return e.state.loading|=4,e.instance=a,Ye(a),a;i=E0(n),(s=qt.get(s))&&dd(i,s),a=(t.ownerDocument||t).createElement("link"),Ye(a);var r=a;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),nt(a,"link",i),e.state.loading|=4,$l(a,n.precedence,t),e.instance=a;case"script":return a=Ta(n.src),(s=t.querySelector(al(a)))?(e.instance=s,Ye(s),s):(i=n,(s=qt.get(a))&&(i=Ae({},n),md(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),Ye(s),nt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(N(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,$l(i,n.precedence,t));return e.instance}function $l(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var l=i[r];if(l.dataset.precedence===e)a=l;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function dd(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function md(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Zl=null;function ng(t,e,n){if(Zl===null){var i=new Map,s=Zl=new Map;s.set(n,i)}else s=Zl,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[Zr]||a[Je]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=t+r;var l=i.get(r);l?l.push(a):i.set(r,[a])}}return i}function ig(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function hT(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function C0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function dT(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=oa(i.href),a=e.querySelector(sl(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=ko.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Ye(a);return}a=e.ownerDocument||e,i=E0(i),(s=qt.get(s))&&dd(i,s),a=a.createElement("link"),Ye(a);var r=a;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),nt(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=ko.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Oc=0;function mT(t,e){return t.stylesheets&&t.count===0&&Jl(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Jl(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Oc===0&&(Oc=62500*KC());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Jl(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Oc?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function ko(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lo=null;function Jl(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lo=new Map,e.forEach(pT,t),Lo=null,ko.call(t))}function pT(t,e){if(!(e.state.loading&4)){var n=Lo.get(t);if(n)var i=n.get(null);else{n=new Map,Lo.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),a=n.get(r)||i,a===i&&n.set(null,s),n.set(r,s),this.count++,i=ko.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Dr={$$typeof:Tn,Provider:null,Consumer:null,_currentValue:Ki,_currentValue2:Ki,_threadCount:0};function gT(t,e,n,i,s,a,r,l,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ec(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.hiddenUpdates=ec(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function T0(t,e,n,i,s,a,r,l,o,u,h,f){return t=new gT(t,e,n,r,o,u,h,f,l),e=1,a===!0&&(e|=24),a=Et(3,null,null,e),t.current=a,a.stateNode=t,e=Hh(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},qh(a),t}function w0(t){return t?(t=Ls,t):Ls}function A0(t,e,n,i,s,a){s=w0(s),i.context===null?i.context=s:i.pendingContext=s,i=di(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=mi(t,i,e),n!==null&&(gt(n,t,e),sr(n,t,e))}function sg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pd(t,e){sg(t,e),(t=t.alternate)&&sg(t,e)}function N0(t){if(t.tag===13||t.tag===31){var e=ps(t,67108864);e!==null&&gt(e,t,67108864),pd(t,67108864)}}function ag(t){if(t.tag===13||t.tag===31){var e=Nt();e=Ah(e);var n=ps(t,e);n!==null&&gt(n,t,e),pd(t,e)}}var Uo=!0;function yT(t,e,n,i){var s=q.T;q.T=null;var a=ue.p;try{ue.p=2,gd(t,e,n,i)}finally{ue.p=a,q.T=s}}function _T(t,e,n,i){var s=q.T;q.T=null;var a=ue.p;try{ue.p=8,gd(t,e,n,i)}finally{ue.p=a,q.T=s}}function gd(t,e,n,i){if(Uo){var s=qf(i);if(s===null)Rc(t,e,i,zo,n),rg(t,i);else if(bT(s,t,e,n,i))i.stopPropagation();else if(rg(t,i),e&4&&-1<vT.indexOf(t)){for(;s!==null;){var a=va(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=ji(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-At(r);l.entanglements[1]|=o,r&=~o}dn(a),!(oe&6)&&(Ao=Tt()+500,il(0))}}break;case 31:case 13:l=ps(a,2),l!==null&&gt(l,a,2),Au(),pd(a,2)}if(a=qf(i),a===null&&Rc(t,e,i,zo,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Rc(t,e,i,null,n)}}function qf(t){return t=Mh(t),yd(t)}var zo=null;function yd(t){if(zo=null,t=Rs(t),t!==null){var e=Kr(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Qy(e),t!==null)return t;t=null}else if(n===31){if(t=Ky(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return zo=t,null}function x0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(s1()){case Zy:return 2;case Jy:return 8;case fo:case a1:return 32;case e_:return 268435456;default:return 32}default:return 32}}var Gf=!1,yi=null,_i=null,vi=null,Ir=new Map,kr=new Map,ni=[],vT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rg(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Ir.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kr.delete(e.pointerId)}}function Ha(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=va(e),e!==null&&N0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bT(t,e,n,i,s){switch(e){case"focusin":return yi=Ha(yi,t,e,n,i,s),!0;case"dragenter":return _i=Ha(_i,t,e,n,i,s),!0;case"mouseover":return vi=Ha(vi,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return Ir.set(a,Ha(Ir.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,kr.set(a,Ha(kr.get(a)||null,t,e,n,i,s)),!0}return!1}function R0(t){var e=Rs(t.target);if(e!==null){var n=Kr(e);if(n!==null){if(e=n.tag,e===13){if(e=Qy(n),e!==null){t.blockedOn=e,Gm(t.priority,function(){ag(n)});return}}else if(e===31){if(e=Ky(n),e!==null){t.blockedOn=e,Gm(t.priority,function(){ag(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qf(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);of=i,n.target.dispatchEvent(i),of=null}else return e=va(n),e!==null&&N0(e),t.blockedOn=n,!1;e.shift()}return!0}function lg(t,e,n){eo(t)&&n.delete(e)}function ST(){Gf=!1,yi!==null&&eo(yi)&&(yi=null),_i!==null&&eo(_i)&&(_i=null),vi!==null&&eo(vi)&&(vi=null),Ir.forEach(lg),kr.forEach(lg)}function Dl(t,e){t.blockedOn===e&&(t.blockedOn=null,Gf||(Gf=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,ST)))}var Il=null;function og(t){Il!==t&&(Il=t,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,function(){Il===t&&(Il=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(yd(i||n)===null)continue;break}var a=va(n);a!==null&&(t.splice(e,3),e-=3,Tf(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function ua(t){function e(o){return Dl(o,t)}yi!==null&&Dl(yi,t),_i!==null&&Dl(_i,t),vi!==null&&Dl(vi,t),Ir.forEach(e),kr.forEach(e);for(var n=0;n<ni.length;n++){var i=ni[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<ni.length&&(n=ni[0],n.blockedOn===null);)R0(n),n.blockedOn===null&&ni.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],r=s[_t]||null;if(typeof a=="function")r||og(n);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[_t]||null)l=r.formAction;else if(yd(s)!==null)continue}else l=r.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),og(n)}}}function M0(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function _d(t){this._internalRoot=t}Ru.prototype.render=_d.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));var n=e.current,i=Nt();A0(n,i,t,e,null,null)};Ru.prototype.unmount=_d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;A0(t.current,2,null,t,null,null),Au(),e[_a]=null}};function Ru(t){this._internalRoot=t}Ru.prototype.unstable_scheduleHydration=function(t){if(t){var e=a_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ni.length&&e!==0&&e<ni[n].priority;n++);ni.splice(n,0,t),n===0&&R0(t)}};var ug=Fy.version;if(ug!=="19.2.1")throw Error(N(527,ug,"19.2.1"));ue.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=$E(e),t=t!==null?Xy(t):null,t=t===null?null:t.stateNode,t};var ET={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{Xr=kl.inject(ET),wt=kl}catch{}}hu.createRoot=function(t,e){if(!Yy(t))throw Error(N(299));var n=!1,i="",s=Sv,a=Ev,r=Cv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=T0(t,1,!1,null,null,n,i,null,s,a,r,M0),t[_a]=e.current,hd(t),new _d(e)};hu.hydrateRoot=function(t,e,n){if(!Yy(t))throw Error(N(299));var i=!1,s="",a=Sv,r=Ev,l=Cv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),e=T0(t,1,!0,e,n??null,i,s,o,a,r,l,M0),e.context=w0(null),n=e.current,i=Nt(),i=Ah(i),s=di(i),s.callback=null,mi(n,s,i),n=i,e.current.lanes=n,$r(e,n),dn(e),t[_a]=e.current,hd(t),new Ru(e)};hu.version="19.2.1";function O0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O0)}catch(t){console.error(t)}}O0(),jy.exports=hu;var CT=jy.exports;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cg="popstate";function TT(t={}){function e(s,a){let{pathname:r="/",search:l="",hash:o=""}=ys(s.location.hash.substring(1));return!r.startsWith("/")&&!r.startsWith(".")&&(r="/"+r),Ff("",{pathname:r,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let r=s.document.querySelector("base"),l="";if(r&&r.getAttribute("href")){let o=s.location.href,u=o.indexOf("#");l=u===-1?o:o.slice(0,u)}return l+"#"+(typeof a=="string"?a:Lr(a))}function i(s,a){Gt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return AT(e,n,i,t)}function xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substring(2,10)}function fg(t,e){return{usr:t.state,key:t.key,idx:e}}function Ff(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ys(e):e,state:n,key:e&&e.key||i||wT()}}function Lr({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function AT(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,r=s.history,l="POP",o=null,u=h();u==null&&(u=0,r.replaceState({...r.state,idx:u},""));function h(){return(r.state||{idx:null}).idx}function f(){l="POP";let S=h(),m=S==null?null:S-u;u=S,o&&o({action:l,location:T.location,delta:m})}function c(S,m){l="PUSH";let p=Ff(T.location,S,m);n&&n(p,S),u=h()+1;let y=fg(p,u),w=T.createHref(p);try{r.pushState(y,"",w)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(w)}a&&o&&o({action:l,location:T.location,delta:1})}function d(S,m){l="REPLACE";let p=Ff(T.location,S,m);n&&n(p,S),u=h();let y=fg(p,u),w=T.createHref(p);r.replaceState(y,"",w),a&&o&&o({action:l,location:T.location,delta:0})}function g(S){return NT(S)}let T={get action(){return l},get location(){return t(s,r)},listen(S){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(cg,f),o=S,()=>{s.removeEventListener(cg,f),o=null}},createHref(S){return e(s,S)},createURL:g,encodeLocation(S){let m=g(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:c,replace:d,go(S){return r.go(S)}};return T}function NT(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xe(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Lr(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function D0(t,e,n="/"){return xT(t,e,n,!1)}function xT(t,e,n,i){let s=typeof e=="string"?ys(e):e,a=Hn(s.pathname||"/",n);if(a==null)return null;let r=I0(t);RT(r);let l=null;for(let o=0;l==null&&o<r.length;++o){let u=HT(a);l=BT(r[o],u,i)}return l}function I0(t,e=[],n=[],i="",s=!1){let a=(r,l,o=s,u)=>{let h={relativePath:u===void 0?r.path||"":u,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&o)return;xe(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let f=In([i,h.relativePath]),c=n.concat(h);r.children&&r.children.length>0&&(xe(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),I0(r.children,e,c,f,o)),!(r.path==null&&!r.index)&&e.push({path:f,score:UT(f,r.index),routesMeta:c})};return t.forEach((r,l)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))a(r,l);else for(let u of k0(r.path))a(r,l,!0,u)}),e}function k0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let r=k0(i.join("/")),l=[];return l.push(...r.map(o=>o===""?a:[a,o].join("/"))),s&&l.push(...r),l.map(o=>t.startsWith("/")&&o===""?"/":o)}function RT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var MT=/^:[\w-]+$/,OT=3,DT=2,IT=1,kT=10,LT=-2,hg=t=>t==="*";function UT(t,e){let n=t.split("/"),i=n.length;return n.some(hg)&&(i+=LT),e&&(i+=DT),n.filter(s=>!hg(s)).reduce((s,a)=>s+(MT.test(a)?OT:a===""?IT:kT),i)}function zT(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function BT(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",r=[];for(let l=0;l<i.length;++l){let o=i[l],u=l===i.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=Bo({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},h),c=o.route;if(!f&&u&&n&&!i[i.length-1].route.index&&(f=Bo({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),r.push({params:s,pathname:In([a,f.pathname]),pathnameBase:FT(In([a,f.pathnameBase])),route:c}),f.pathnameBase!=="/"&&(a=In([a,f.pathnameBase]))}return r}function Bo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=jT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:f},c)=>{if(h==="*"){let g=l[c]||"";r=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const d=l[c];return f&&!d?u[h]=void 0:u[h]=(d||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:r,pattern:t}}function jT(t,e=!1,n=!0){Gt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,o)=>(i.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function HT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var PT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VT=t=>PT.test(t);function qT(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?ys(t):t,a;if(n)if(VT(n))a=n;else{if(n.includes("//")){let r=n;n=n.replace(/\/\/+/g,"/"),Gt(!1,`Pathnames cannot have embedded double slashes - normalizing ${r} -> ${n}`)}n.startsWith("/")?a=dg(n.substring(1),"/"):a=dg(n,e)}else a=e;return{pathname:a,search:YT(i),hash:QT(s)}}function dg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Dc(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function L0(t){let e=GT(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function U0(t,e,n,i=!1){let s;typeof t=="string"?s=ys(t):(s={...t},xe(!s.pathname||!s.pathname.includes("?"),Dc("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),Dc("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),Dc("#","search","hash",s)));let a=t===""||s.pathname==="",r=a?"/":s.pathname,l;if(r==null)l=n;else{let f=e.length-1;if(!i&&r.startsWith("..")){let c=r.split("/");for(;c[0]==="..";)c.shift(),f-=1;s.pathname=c.join("/")}l=f>=0?e[f]:"/"}let o=qT(s,l),u=r&&r!=="/"&&r.endsWith("/"),h=(a||r===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||h)&&(o.pathname+="/"),o}var In=t=>t.join("/").replace(/\/\/+/g,"/"),FT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function XT(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z0=["POST","PUT","PATCH","DELETE"];new Set(z0);var WT=["GET",...z0];new Set(WT);var wa=b.createContext(null);wa.displayName="DataRouter";var Mu=b.createContext(null);Mu.displayName="DataRouterState";b.createContext(!1);var B0=b.createContext({isTransitioning:!1});B0.displayName="ViewTransition";var $T=b.createContext(new Map);$T.displayName="Fetchers";var ZT=b.createContext(null);ZT.displayName="Await";var nn=b.createContext(null);nn.displayName="Navigation";var rl=b.createContext(null);rl.displayName="Location";var Fn=b.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var vd=b.createContext(null);vd.displayName="RouteError";function JT(t,{relative:e}={}){xe(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=b.useContext(nn),{hash:s,pathname:a,search:r}=ol(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:In([n,a])),i.createHref({pathname:l,search:r,hash:s})}function ll(){return b.useContext(rl)!=null}function ki(){return xe(ll(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(rl).location}var j0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H0(t){b.useContext(nn).static||b.useLayoutEffect(t)}function P0(){let{isDataRoute:t}=b.useContext(Fn);return t?hw():ew()}function ew(){xe(ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(wa),{basename:e,navigator:n}=b.useContext(nn),{matches:i}=b.useContext(Fn),{pathname:s}=ki(),a=JSON.stringify(L0(i)),r=b.useRef(!1);return H0(()=>{r.current=!0}),b.useCallback((o,u={})=>{if(Gt(r.current,j0),!r.current)return;if(typeof o=="number"){n.go(o);return}let h=U0(o,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:In([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,a,s,t])}b.createContext(null);function ol(t,{relative:e}={}){let{matches:n}=b.useContext(Fn),{pathname:i}=ki(),s=JSON.stringify(L0(n));return b.useMemo(()=>U0(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function tw(t,e){return V0(t,e)}function V0(t,e,n,i,s){var p;xe(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(nn),{matches:r}=b.useContext(Fn),l=r[r.length-1],o=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let y=f&&f.path||"";q0(u,!f||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let c=ki(),d;if(e){let y=typeof e=="string"?ys(e):e;xe(h==="/"||((p=y.pathname)==null?void 0:p.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${y.pathname}" was given in the \`location\` prop.`),d=y}else d=c;let g=d.pathname||"/",T=g;if(h!=="/"){let y=h.replace(/^\//,"").split("/");T="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let S=D0(t,{pathname:T});Gt(f||S!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Gt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=rw(S&&S.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:In([h,a.encodeLocation?a.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?h:In([h,a.encodeLocation?a.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),r,n,i,s);return e&&m?b.createElement(rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},m):m}function nw(){let t=fw(),e=KT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",t),r=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,r)}var iw=b.createElement(nw,null),sw=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(Fn.Provider,{value:this.props.routeContext},b.createElement(vd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aw({routeContext:t,match:e,children:n}){let i=b.useContext(wa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Fn.Provider,{value:t},n)}function rw(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,r=n==null?void 0:n.errors;if(r!=null){let h=a.findIndex(f=>f.route.id&&(r==null?void 0:r[f.route.id])!==void 0);xe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,o=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=h),f.route.id){let{loaderData:c,errors:d}=n,g=f.route.loader&&!c.hasOwnProperty(f.route.id)&&(!d||d[f.route.id]===void 0);if(f.route.lazy||g){l=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}let u=n&&i?(h,f)=>{var c,d;i(h,{location:n.location,params:((d=(c=n.matches)==null?void 0:c[0])==null?void 0:d.params)??{},unstable_pattern:XT(n.matches),errorInfo:f})}:void 0;return a.reduceRight((h,f,c)=>{let d,g=!1,T=null,S=null;n&&(d=r&&f.route.id?r[f.route.id]:void 0,T=f.route.errorElement||iw,l&&(o<0&&c===0?(q0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,S=null):o===c&&(g=!0,S=f.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,c+1)),p=()=>{let y;return d?y=T:g?y=S:f.route.Component?y=b.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=h,b.createElement(aw,{match:f,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||c===0)?b.createElement(sw,{location:n.location,revalidation:n.revalidation,component:T,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:u}):p()},null)}function bd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lw(t){let e=b.useContext(wa);return xe(e,bd(t)),e}function ow(t){let e=b.useContext(Mu);return xe(e,bd(t)),e}function uw(t){let e=b.useContext(Fn);return xe(e,bd(t)),e}function Sd(t){let e=uw(t),n=e.matches[e.matches.length-1];return xe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cw(){return Sd("useRouteId")}function fw(){var i;let t=b.useContext(vd),e=ow("useRouteError"),n=Sd("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function hw(){let{router:t}=lw("useNavigate"),e=Sd("useNavigate"),n=b.useRef(!1);return H0(()=>{n.current=!0}),b.useCallback(async(s,a={})=>{Gt(n.current,j0),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var mg={};function q0(t,e,n){!e&&!mg[t]&&(mg[t]=!0,Gt(!1,n))}b.memo(dw);function dw({routes:t,future:e,state:n,unstable_onError:i}){return V0(t,void 0,n,i,e)}function Yf(t){xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mw({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:r}){xe(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:l,navigator:s,static:a,unstable_useTransitions:r,future:{}}),[l,s,a,r]);typeof n=="string"&&(n=ys(n));let{pathname:u="/",search:h="",hash:f="",state:c=null,key:d="default"}=n,g=b.useMemo(()=>{let T=Hn(u,l);return T==null?null:{location:{pathname:T,search:h,hash:f,state:c,key:d},navigationType:i}},[l,u,h,f,c,d,i]);return Gt(g!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:b.createElement(nn.Provider,{value:o},b.createElement(rl.Provider,{children:e,value:g}))}function pw({children:t,location:e}){return tw(Qf(t),e)}function Qf(t,e=[]){let n=[];return b.Children.forEach(t,(i,s)=>{if(!b.isValidElement(i))return;let a=[...e,s];if(i.type===b.Fragment){n.push.apply(n,Qf(i.props.children,a));return}xe(i.type===Yf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let r={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(r.children=Qf(i.props.children,a)),n.push(r)}),n}var to="get",no="application/x-www-form-urlencoded";function Ou(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function gw(t){return Ou(t)&&t.tagName.toLowerCase()==="button"}function yw(t){return Ou(t)&&t.tagName.toLowerCase()==="form"}function _w(t){return Ou(t)&&t.tagName.toLowerCase()==="input"}function vw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bw(t,e){return t.button===0&&(!e||e==="_self")&&!vw(t)}var Ll=null;function Sw(){if(Ll===null)try{new FormData(document.createElement("form"),0),Ll=!1}catch{Ll=!0}return Ll}var Ew=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ic(t){return t!=null&&!Ew.has(t)?(Gt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${no}"`),null):t}function Cw(t,e){let n,i,s,a,r;if(yw(t)){let l=t.getAttribute("action");i=l?Hn(l,e):null,n=t.getAttribute("method")||to,s=Ic(t.getAttribute("enctype"))||no,a=new FormData(t)}else if(gw(t)||_w(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||l.getAttribute("action");if(i=o?Hn(o,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||to,s=Ic(t.getAttribute("formenctype"))||Ic(l.getAttribute("enctype"))||no,a=new FormData(l,t),!Sw()){let{name:u,type:h,value:f}=t;if(h==="image"){let c=u?`${u}.`:"";a.append(`${c}x`,"0"),a.append(`${c}y`,"0")}else u&&a.append(u,f)}}else{if(Ou(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=to,i=null,s=no,r=t}return a&&s==="text/plain"&&(r=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ed(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tw(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Hn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function ww(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Aw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Nw(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let r=await ww(a,n);return r.links?r.links():[]}return[]}));return Ow(i.flat(1).filter(Aw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function pg(t,e,n,i,s,a){let r=(o,u)=>n[u]?o.route.id!==n[u].route.id:!0,l=(o,u)=>{var h;return n[u].pathname!==o.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==o.params["*"]};return a==="assets"?e.filter((o,u)=>r(o,u)||l(o,u)):a==="data"?e.filter((o,u)=>{var f;let h=i.routes[o.route.id];if(!h||!h.hasLoader)return!1;if(r(o,u)||l(o,u))return!0;if(o.route.shouldRevalidate){let c=o.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof c=="boolean")return c}return!0}):[]}function xw(t,e,{includeHydrateFallback:n}={}){return Rw(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Rw(t){return[...new Set(t)]}function Mw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Ow(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(Mw(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function G0(){let t=b.useContext(wa);return Ed(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Dw(){let t=b.useContext(Mu);return Ed(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cd=b.createContext(void 0);Cd.displayName="FrameworkContext";function F0(){let t=b.useContext(Cd);return Ed(t,"You must render this element inside a <HydratedRouter> element"),t}function Iw(t,e){let n=b.useContext(Cd),[i,s]=b.useState(!1),[a,r]=b.useState(!1),{onFocus:l,onBlur:o,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,c=b.useRef(null);b.useEffect(()=>{if(t==="render"&&r(!0),t==="viewport"){let T=m=>{m.forEach(p=>{r(p.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return c.current&&S.observe(c.current),()=>{S.disconnect()}}},[t]),b.useEffect(()=>{if(i){let T=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(T)}}},[i]);let d=()=>{s(!0)},g=()=>{s(!1),r(!1)};return n?t!=="intent"?[a,c,{}]:[a,c,{onFocus:Pa(l,d),onBlur:Pa(o,g),onMouseEnter:Pa(u,d),onMouseLeave:Pa(h,g),onTouchStart:Pa(f,d)}]:[!1,c,{}]}function Pa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function kw({page:t,...e}){let{router:n}=G0(),i=b.useMemo(()=>D0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?b.createElement(Uw,{page:t,matches:i,...e}):null}function Lw(t){let{manifest:e,routeModules:n}=F0(),[i,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return Nw(t,e,n).then(r=>{a||s(r)}),()=>{a=!0}},[t,e,n]),i}function Uw({page:t,matches:e,...n}){let i=ki(),{manifest:s,routeModules:a}=F0(),{basename:r}=G0(),{loaderData:l,matches:o}=Dw(),u=b.useMemo(()=>pg(t,e,o,s,i,"data"),[t,e,o,s,i]),h=b.useMemo(()=>pg(t,e,o,s,i,"assets"),[t,e,o,s,i]),f=b.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let g=new Set,T=!1;if(e.forEach(m=>{var y;let p=s.routes[m.route.id];!p||!p.hasLoader||(!u.some(w=>w.route.id===m.route.id)&&m.route.id in l&&((y=a[m.route.id])!=null&&y.shouldRevalidate)||p.hasClientLoader?T=!0:g.add(m.route.id))}),g.size===0)return[];let S=Tw(t,r,"data");return T&&g.size>0&&S.searchParams.set("_routes",e.filter(m=>g.has(m.route.id)).map(m=>m.route.id).join(",")),[S.pathname+S.search]},[r,l,i,s,u,e,t,a]),c=b.useMemo(()=>xw(h,s),[h,s]),d=Lw(h);return b.createElement(b.Fragment,null,f.map(g=>b.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),c.map(g=>b.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),d.map(({key:g,link:T})=>b.createElement("link",{key:g,nonce:n.nonce,...T})))}function zw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y0&&(window.__reactRouterVersion="7.10.1")}catch{}function Bw({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=b.useRef();s.current==null&&(s.current=TT({window:i,v5Compat:!0}));let a=s.current,[r,l]=b.useState({action:a.action,location:a.location}),o=b.useCallback(u=>{n===!1?l(u):b.startTransition(()=>l(u))},[n]);return b.useLayoutEffect(()=>a.listen(o),[a,o]),b.createElement(mw,{basename:t,children:e,location:r.location,navigationType:r.action,navigator:a,unstable_useTransitions:n===!0})}var Q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jo=b.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:r,state:l,target:o,to:u,preventScrollReset:h,viewTransition:f,...c},d){let{basename:g,unstable_useTransitions:T}=b.useContext(nn),S=typeof u=="string"&&Q0.test(u),m,p=!1;if(typeof u=="string"&&S&&(m=u,Y0))try{let k=new URL(window.location.href),U=u.startsWith("//")?new URL(k.protocol+u):new URL(u),G=Hn(U.pathname,g);U.origin===k.origin&&G!=null?u=G+U.search+U.hash:p=!0}catch{Gt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=JT(u,{relative:s}),[w,I,M]=Iw(i,c),A=Vw(u,{replace:r,state:l,target:o,preventScrollReset:h,relative:s,viewTransition:f,unstable_useTransitions:T});function O(k){e&&e(k),k.defaultPrevented||A(k)}let R=b.createElement("a",{...c,...M,href:m||y,onClick:p||a?e:O,ref:zw(d,I),target:o,"data-discover":!S&&n==="render"?"true":void 0});return w&&!S?b.createElement(b.Fragment,null,R,b.createElement(kw,{page:y})):R});jo.displayName="Link";var jw=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:r,viewTransition:l,children:o,...u},h){let f=ol(r,{relative:u.relative}),c=ki(),d=b.useContext(Mu),{navigator:g,basename:T}=b.useContext(nn),S=d!=null&&Qw(f)&&l===!0,m=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,p=c.pathname,y=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;n||(p=p.toLowerCase(),y=y?y.toLowerCase():null,m=m.toLowerCase()),y&&T&&(y=Hn(y,T)||y);const w=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let I=p===m||!s&&p.startsWith(m)&&p.charAt(w)==="/",M=y!=null&&(y===m||!s&&y.startsWith(m)&&y.charAt(m.length)==="/"),A={isActive:I,isPending:M,isTransitioning:S},O=I?e:void 0,R;typeof i=="function"?R=i(A):R=[i,I?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(A):a;return b.createElement(jo,{...u,"aria-current":O,className:R,ref:h,style:k,to:r,viewTransition:l},typeof o=="function"?o(A):o)});jw.displayName="NavLink";var Hw=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:r=to,action:l,onSubmit:o,relative:u,preventScrollReset:h,viewTransition:f,...c},d)=>{let{unstable_useTransitions:g}=b.useContext(nn),T=Fw(),S=Yw(l,{relative:u}),m=r.toLowerCase()==="get"?"get":"post",p=typeof l=="string"&&Q0.test(l),y=w=>{if(o&&o(w),w.defaultPrevented)return;w.preventDefault();let I=w.nativeEvent.submitter,M=(I==null?void 0:I.getAttribute("formmethod"))||r,A=()=>T(I||w.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:s,state:a,relative:u,preventScrollReset:h,viewTransition:f});g&&n!==!1?b.startTransition(()=>A()):A()};return b.createElement("form",{ref:d,method:m,action:S,onSubmit:i?o:y,...c,"data-discover":!p&&t==="render"?"true":void 0})});Hw.displayName="Form";function Pw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K0(t){let e=b.useContext(wa);return xe(e,Pw(t)),e}function Vw(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_useTransitions:l}={}){let o=P0(),u=ki(),h=ol(t,{relative:a});return b.useCallback(f=>{if(bw(f,e)){f.preventDefault();let c=n!==void 0?n:Lr(u)===Lr(h),d=()=>o(t,{replace:c,state:i,preventScrollReset:s,relative:a,viewTransition:r});l?b.startTransition(()=>d()):d()}},[u,o,h,n,i,e,t,s,a,r,l])}var qw=0,Gw=()=>`__${String(++qw)}__`;function Fw(){let{router:t}=K0("useSubmit"),{basename:e}=b.useContext(nn),n=cw(),i=t.fetch,s=t.navigate;return b.useCallback(async(a,r={})=>{let{action:l,method:o,encType:u,formData:h,body:f}=Cw(a,e);if(r.navigate===!1){let c=r.fetcherKey||Gw();await i(c,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||u,flushSync:r.flushSync})}else await s(r.action||l,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,s,e,n])}function Yw(t,{relative:e}={}){let{basename:n}=b.useContext(nn),i=b.useContext(Fn);xe(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...ol(t||".",{relative:e})},r=ki();if(t==null){a.search=r.search;let l=new URLSearchParams(a.search),o=l.getAll("index");if(o.some(h=>h==="")){l.delete("index"),o.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:In([n,a.pathname])),Lr(a)}function Qw(t,{relative:e}={}){let n=b.useContext(B0);xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=K0("useViewTransitionState"),s=ol(t,{relative:e});if(!n.isTransitioning)return!1;let a=Hn(n.currentLocation.pathname,i)||n.currentLocation.pathname,r=Hn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Bo(s.pathname,r)!=null||Bo(s.pathname,a)!=null}const Kw="modulepreload",Xw=function(t){return"/shopping-spree/"+t},gg={},X0=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(o=>{if(o=Xw(o),o in gg)return;gg[o]=!0;const u=o.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Kw,u||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((c,d)=>{f.addEventListener("load",c),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return s.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Ww=()=>{};var yg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw Aa(e)},Aa=function(t){return new Error("Firebase Database ("+W0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$w=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],r=t[n++],l=t[n++],o=((s&7)<<18|(a&63)<<12|(r&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(o&1023))}else{const a=t[n++],r=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|r&63)}}return e.join("")},Td={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],r=s+1<t.length,l=r?t[s+1]:0,o=s+2<t.length,u=o?t[s+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let c=(l&15)<<2|u>>6,d=u&63;o||(d=64,r||(c=64)),i.push(n[h],n[f],n[c],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$w(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||l==null||u==null||f==null)throw new Zw;const c=a<<2|l>>4;if(i.push(c),u!==64){const d=l<<4&240|u>>2;if(i.push(d),f!==64){const g=u<<6&192|f;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z0=function(t){const e=$0(t);return Td.encodeByteArray(e,!0)},Ho=function(t){return Z0(t).replace(/\./g,"")},Po=function(t){try{return Td.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){return J0(void 0,t)}function J0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!eA(n)||(t[n]=J0(t[n],e[n]));return t}function eA(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=()=>tA().__FIREBASE_DEFAULTS__,iA=()=>{if(typeof process>"u"||typeof yg>"u")return;const t=yg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Po(t[1]);return e&&JSON.parse(e)},wd=()=>{try{return Ww()||nA()||iA()||sA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eb=t=>{var e,n;return(n=(e=wd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aA=t=>{const e=eb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},tb=()=>{var t;return(t=wd())==null?void 0:t.config},nb=t=>{var e;return(e=wd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ib(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ho(JSON.stringify(n)),Ho(JSON.stringify(r)),""].join(".")}const dr={};function lA(){const t={prod:[],emulator:[]};for(const e of Object.keys(dr))dr[e]?t.emulator.push(e):t.prod.push(e);return t}function oA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _g=!1;function sb(t,e){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||dr[t]===e||dr[t]||_g)return;dr[t]=e;function n(c){return`__firebase__banner__${c}`}const i="__firebase__banner",a=lA().prod.length>0;function r(){const c=document.getElementById(i);c&&c.remove()}function l(c){c.style.display="flex",c.style.background="#7faaf0",c.style.position="fixed",c.style.bottom="5px",c.style.left="5px",c.style.padding=".5em",c.style.borderRadius="5px",c.style.alignItems="center"}function o(c,d){c.setAttribute("width","24"),c.setAttribute("id",d),c.setAttribute("height","24"),c.setAttribute("viewBox","0 0 24 24"),c.setAttribute("fill","none"),c.style.marginLeft="-6px"}function u(){const c=document.createElement("span");return c.style.cursor="pointer",c.style.marginLeft="16px",c.style.fontSize="24px",c.innerHTML=" &times;",c.onclick=()=>{_g=!0,r()},c}function h(c,d){c.setAttribute("id",d),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline"}function f(){const c=oA(i),d=n("text"),g=document.getElementById(d)||document.createElement("span"),T=n("learnmore"),S=document.getElementById(T)||document.createElement("a"),m=n("preprendIcon"),p=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.created){const y=c.element;l(y),h(S,T);const w=u();o(p,m),y.append(p,g,S,w),document.body.appendChild(y)}a?(g.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ad(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function uA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ab(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fA(){const t=ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hA(){return W0.NODE_ADMIN===!0}function dA(){try{return typeof indexedDB=="object"}catch{return!1}}function mA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="FirebaseError";class Li extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pA,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ul.prototype.create)}}class ul{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],r=a?gA(a,i):"Error",l=`${this.serviceName}: ${r} (${s}).`;return new Li(s,l,i)}}function gA(t,e){return t.replace(yA,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const yA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t){return JSON.parse(t)}function Pe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=function(t){let e={},n={},i={},s="";try{const a=t.split(".");e=Ur(Po(a[0])||""),n=Ur(Po(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},_A=function(t){const e=rb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vA=function(t){const e=rb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ca(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Kf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function rs(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],r=e[s];if(vg(a)&&vg(r)){if(!rs(a,r))return!1}else if(a!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function vg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const c=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(c<<1|c>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],r=this.chain_[2],l=this.chain_[3],o=this.chain_[4],u,h;for(let f=0;f<80;f++){f<40?f<20?(u=l^a&(r^l),h=1518500249):(u=a^r^l,h=1859775393):f<60?(u=a&r|l&(a|r),h=2400959708):(u=a^r^l,h=3395469782);const c=(s<<5|s>>>27)+u+o+h+i[f]&4294967295;o=l,l=r,r=(a<<30|a>>>2)&4294967295,a=s,s=c}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const a=this.buf_;let r=this.inbuf_;for(;s<n;){if(r===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[r]=e.charCodeAt(s),++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}else for(;s<n;)if(a[r]=e[s],++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[s]>>a&255,++i;return e}}function SA(t,e){const n=new EA(t,e);return n.subscribe.bind(n)}class EA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");CA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=kc),s.error===void 0&&(s.error=kc),s.complete===void 0&&(s.complete=kc);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kc(){}function Nd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const a=s-55296;i++,D(i<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(i)-56320;s=65536+(a<<10)+r}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Iu=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class ls{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Du;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NA(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);i===l&&r.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(t){return t===Vi?void 0:t}function NA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const RA={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},MA=ge.INFO,OA={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},DA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=OA[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xd{constructor(e){this.name=e,this._logLevel=MA,this._logHandler=DA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const IA=(t,e)=>e.some(n=>t instanceof n);let bg,Sg;function kA(){return bg||(bg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LA(){return Sg||(Sg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lb=new WeakMap,Xf=new WeakMap,ob=new WeakMap,Lc=new WeakMap,Rd=new WeakMap;function UA(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",r)},a=()=>{n(bi(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&lb.set(n,t)}).catch(()=>{}),Rd.set(e,t),e}function zA(t){if(Xf.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",r),t.removeEventListener("abort",r)},a=()=>{n(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",r),t.addEventListener("abort",r)});Xf.set(t,e)}let Wf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ob.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BA(t){Wf=t(Wf)}function jA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Uc(this),e,...n);return ob.set(i,e.sort?e.sort():[e]),bi(i)}:LA().includes(t)?function(...e){return t.apply(Uc(this),e),bi(lb.get(this))}:function(...e){return bi(t.apply(Uc(this),e))}}function HA(t){return typeof t=="function"?jA(t):(t instanceof IDBTransaction&&zA(t),IA(t,kA())?new Proxy(t,Wf):t)}function bi(t){if(t instanceof IDBRequest)return UA(t);if(Lc.has(t))return Lc.get(t);const e=HA(t);return e!==t&&(Lc.set(t,e),Rd.set(e,t)),e}const Uc=t=>Rd.get(t);function PA(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const r=indexedDB.open(t,e),l=bi(r);return i&&r.addEventListener("upgradeneeded",o=>{i(bi(r.result),o.oldVersion,o.newVersion,bi(r.transaction),o)}),n&&r.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),l.then(o=>{a&&o.addEventListener("close",()=>a()),s&&o.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const VA=["get","getKey","getAll","getAllKeys","count"],qA=["put","add","delete","clear"],zc=new Map;function Eg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zc.get(e))return zc.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=qA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||VA.includes(n)))return;const a=async function(r,...l){const o=this.transaction(r,s?"readwrite":"readonly");let u=o.store;return i&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&o.done]))[0]};return zc.set(e,a),a}BA(t=>({...t,get:(e,n,i)=>Eg(e,n)||t.get(e,n,i),has:(e,n)=>!!Eg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function FA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $f="@firebase/app",Cg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new xd("@firebase/app"),YA="@firebase/app-compat",QA="@firebase/analytics-compat",KA="@firebase/analytics",XA="@firebase/app-check-compat",WA="@firebase/app-check",$A="@firebase/auth",ZA="@firebase/auth-compat",JA="@firebase/database",eN="@firebase/data-connect",tN="@firebase/database-compat",nN="@firebase/functions",iN="@firebase/functions-compat",sN="@firebase/installations",aN="@firebase/installations-compat",rN="@firebase/messaging",lN="@firebase/messaging-compat",oN="@firebase/performance",uN="@firebase/performance-compat",cN="@firebase/remote-config",fN="@firebase/remote-config-compat",hN="@firebase/storage",dN="@firebase/storage-compat",mN="@firebase/firestore",pN="@firebase/ai",gN="@firebase/firestore-compat",yN="firebase",_N="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",vN={[$f]:"fire-core",[YA]:"fire-core-compat",[KA]:"fire-analytics",[QA]:"fire-analytics-compat",[WA]:"fire-app-check",[XA]:"fire-app-check-compat",[$A]:"fire-auth",[ZA]:"fire-auth-compat",[JA]:"fire-rtdb",[eN]:"fire-data-connect",[tN]:"fire-rtdb-compat",[nN]:"fire-fn",[iN]:"fire-fn-compat",[sN]:"fire-iid",[aN]:"fire-iid-compat",[rN]:"fire-fcm",[lN]:"fire-fcm-compat",[oN]:"fire-perf",[uN]:"fire-perf-compat",[cN]:"fire-rc",[fN]:"fire-rc-compat",[hN]:"fire-gcs",[dN]:"fire-gcs-compat",[mN]:"fire-fst",[gN]:"fire-fst-compat",[pN]:"fire-vertex","fire-js":"fire-js",[yN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Map,bN=new Map,Jf=new Map;function Tg(t,e){try{t.container.addComponent(e)}catch(n){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(Jf.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;Jf.set(e,t);for(const n of qo.values())Tg(n,t);for(const n of bN.values())Tg(n,t);return!0}function Md(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new ul("app","Firebase",SN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=_N;function ub(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Zf,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw Si.create("bad-app-name",{appName:String(s)});if(n||(n=tb()),!n)throw Si.create("no-options");const a=qo.get(s);if(a){if(rs(n,a.options)&&rs(i,a.config))return a;throw Si.create("duplicate-app",{appName:s})}const r=new xA(s);for(const o of Jf.values())r.addComponent(o);const l=new EN(n,i,r);return qo.set(s,l),l}function cb(t=Zf){const e=qo.get(t);if(!e&&t===Zf&&tb())return ub();if(!e)throw Si.create("no-app",{appName:t});return e}function Ei(t,e,n){let i=vN[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const r=[`Unable to register library "${i}" with version "${e}":`];s&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&r.push("and"),a&&r.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(r.join(" "));return}fa(new ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="firebase-heartbeat-database",TN=1,zr="firebase-heartbeat-store";let Bc=null;function fb(){return Bc||(Bc=PA(CN,TN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zr)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),Bc}async function wN(t){try{const n=(await fb()).transaction(zr),i=await n.objectStore(zr).get(hb(t));return await n.done,i}catch(e){if(e instanceof Li)Pn.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pn.warn(n.message)}}}async function wg(t,e){try{const i=(await fb()).transaction(zr,"readwrite");await i.objectStore(zr).put(e,hb(t)),await i.done}catch(n){if(n instanceof Li)Pn.warn(n.message);else{const i=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pn.warn(i.message)}}}function hb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1024,NN=30;class xN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ag();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(r=>r.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>NN){const r=ON(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Pn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ag(),{heartbeatsToSend:i,unsentEntries:s}=RN(this._heartbeatsCache.heartbeats),a=Ho(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Pn.warn(n),""}}}function Ag(){return new Date().toISOString().substring(0,10)}function RN(t,e=AN){const n=[];let i=t.slice();for(const s of t){const a=n.find(r=>r.agent===s.agent);if(a){if(a.dates.push(s.date),Ng(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ng(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class MN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dA()?mA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ng(t){return Ho(JSON.stringify({version:2,heartbeats:t})).length}function ON(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){fa(new ls("platform-logger",e=>new GA(e),"PRIVATE")),fa(new ls("heartbeat",e=>new xN(e),"PRIVATE")),Ei($f,Cg,t),Ei($f,Cg,"esm2020"),Ei("fire-js","")}DN("");var IN="firebase",kN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(IN,kN,"app");function db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LN=db,mb=new ul("auth","Firebase",db());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new xd("@firebase/auth");function UN(t,...e){Go.logLevel<=ge.WARN&&Go.warn(`Auth (${Ra}): ${t}`,...e)}function io(t,...e){Go.logLevel<=ge.ERROR&&Go.error(`Auth (${Ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,...e){throw Dd(t,...e)}function Jt(t,...e){return Dd(t,...e)}function Od(t,e,n){const i={...LN(),[e]:n};return new ul("auth","Firebase",i).create(e,{appName:t.name})}function Ji(t){return Od(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zN(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&cn(t,"argument-error"),Od(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dd(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return mb.create(t,...e)}function F(t,e,...n){if(!t)throw Dd(e,...n)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw io(e),new Error(e)}function Vn(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function BN(){return xg()==="http:"||xg()==="https:"}function xg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BN()||cA()||"connection"in navigator)?navigator.onLine:!0}function HN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=Ad()||ab()}get(){return jN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qN=new cl(3e4,6e4);function kd(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ma(t,e,n,i,s={}){return gb(t,s,async()=>{let a={},r={};i&&(e==="GET"?r=i:a={body:JSON.stringify(i)});const l=xa({key:t.config.apiKey,...r}).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:o,...a};return uA()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Na(t.emulatorConfig.host)&&(u.credentials="include"),pb.fetch()(await yb(t,t.config.apiHost,n,l),u)})}async function gb(t,e,n){t._canInitEmulator=!1;const i={...PN,...e};try{const s=new FN(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const r=await a.json();if("needConfirmation"in r)throw Ul(t,"account-exists-with-different-credential",r);if(a.ok&&!("errorMessage"in r))return r;{const l=a.ok?r.errorMessage:r.error.message,[o,u]=l.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ul(t,"credential-already-in-use",r);if(o==="EMAIL_EXISTS")throw Ul(t,"email-already-in-use",r);if(o==="USER_DISABLED")throw Ul(t,"user-disabled",r);const h=i[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Od(t,h,u);cn(t,h)}}catch(s){if(s instanceof Li)throw s;cn(t,"network-request-failed",{message:String(s)})}}async function GN(t,e,n,i,s={}){const a=await Ma(t,e,n,i,s);return"mfaPendingCredential"in a&&cn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function yb(t,e,n,i){const s=`${e}${n}?${i}`,a=t,r=a.config.emulator?Id(t.config,s):`${t.config.apiScheme}://${s}`;return VN.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(r).toString():r}class FN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Jt(this.auth,"network-request-failed")),qN.get())})}}function Ul(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Jt(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e){return Ma(t,"POST","/v1/accounts:delete",e)}async function Fo(t,e){return Ma(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QN(t,e=!1){const n=Mt(t),i=await n.getIdToken(e),s=Ld(i);F(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,r=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:mr(jc(s.auth_time)),issuedAtTime:mr(jc(s.iat)),expirationTime:mr(jc(s.exp)),signInProvider:r||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function jc(t){return Number(t)*1e3}function Ld(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return io("JWT malformed, contained fewer than 3 sections"),null;try{const s=Po(n);return s?JSON.parse(s):(io("Failed to decode base64 JWT payload"),null)}catch(s){return io("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Rg(t){const e=Ld(t);return F(e,"internal-error"),F(typeof e.exp<"u","internal-error"),F(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Br(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Li&&KN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function KN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t){var f;const e=t.auth,n=await t.getIdToken(),i=await Br(t,Fo(e,{idToken:n}));F(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(f=s.providerUserInfo)!=null&&f.length?_b(s.providerUserInfo):[],r=$N(t.providerData,a),l=t.isAnonymous,o=!(t.email&&s.passwordHash)&&!(r!=null&&r.length),u=l?o:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new th(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function WN(t){const e=Mt(t);await Yo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $N(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function _b(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t,e){const n=await gb(t,{},async()=>{const i=xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,r=await yb(t,s,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:l,body:i};return t.emulatorConfig&&Na(t.emulatorConfig.host)&&(o.credentials="include"),pb.fetch()(r,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JN(t,e){return Ma(t,"POST","/v2/accounts:revokeToken",kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){F(e.idToken,"internal-error"),F(typeof e.idToken<"u","internal-error"),F(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){F(e.length!==0,"internal-error");const n=Rg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(F(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await ZN(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,r=new Qs;return i&&(F(typeof i=="string","internal-error",{appName:e}),r.refreshToken=i),s&&(F(typeof s=="string","internal-error",{appName:e}),r.accessToken=s),a&&(F(typeof a=="number","internal-error",{appName:e}),r.expirationTime=a),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,e){F(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $t{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new XN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new th(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Br(this,this.stsTokenManager.getToken(this.auth,e));return F(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QN(this,e)}reload(){return WN(this)}_assign(e){this!==e&&(F(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $t({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Yo(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await Br(this,YN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,r=n.photoURL??void 0,l=n.tenantId??void 0,o=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:c,isAnonymous:d,providerData:g,stsTokenManager:T}=n;F(f&&T,e,"internal-error");const S=Qs.fromJSON(this.name,T);F(typeof f=="string",e,"internal-error"),Kn(i,e.name),Kn(s,e.name),F(typeof c=="boolean",e,"internal-error"),F(typeof d=="boolean",e,"internal-error"),Kn(a,e.name),Kn(r,e.name),Kn(l,e.name),Kn(o,e.name),Kn(u,e.name),Kn(h,e.name);const m=new $t({uid:f,auth:e,email:s,emailVerified:c,displayName:i,isAnonymous:d,photoURL:r,phoneNumber:a,tenantId:l,stsTokenManager:S,createdAt:u,lastLoginAt:h});return g&&Array.isArray(g)&&(m.providerData=g.map(p=>({...p}))),o&&(m._redirectEventId=o),m}static async _fromIdTokenResponse(e,n,i=!1){const s=new Qs;s.updateFromServerResponse(n);const a=new $t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Yo(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];F(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?_b(s.providerUserInfo):[],r=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new Qs;l.updateFromIdToken(i);const o=new $t({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:r}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new th(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(o,u),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=new Map;function xn(t){Vn(t instanceof Function,"Expected a class definition");let e=Mg.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vb.type="NONE";const Og=vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e,n){return`firebase:${t}:${e}:${n}`}class Ks{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=so(this.userKey,s.apiKey,a),this.fullPersistenceKey=so("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fo(this.auth,{idToken:e}).catch(()=>{});return n?$t._fromGetAccountInfoResponse(this.auth,n,e):null}return $t._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ks(xn(Og),e,i);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=s[0]||xn(Og);const r=so(i,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(r);if(h){let f;if(typeof h=="string"){const c=await Fo(e,{idToken:h}).catch(()=>{});if(!c)break;f=await $t._fromGetAccountInfoResponse(e,c,h)}else f=$t._fromJSON(e,h);u!==a&&(l=f),a=u;break}}catch{}const o=s.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!o.length?new Ks(a,e,i):(a=o[0],l&&await a._set(r,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(r)}catch{}})),new Ks(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wb(e))return"Blackberry";if(Ab(e))return"Webos";if(Sb(e))return"Safari";if((e.includes("chrome/")||Eb(e))&&!e.includes("edge/"))return"Chrome";if(Tb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function bb(t=ot()){return/firefox\//i.test(t)}function Sb(t=ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Eb(t=ot()){return/crios\//i.test(t)}function Cb(t=ot()){return/iemobile/i.test(t)}function Tb(t=ot()){return/android/i.test(t)}function wb(t=ot()){return/blackberry/i.test(t)}function Ab(t=ot()){return/webos/i.test(t)}function Ud(t=ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ex(t=ot()){var e;return Ud(t)&&!!((e=window.navigator)!=null&&e.standalone)}function tx(){return fA()&&document.documentMode===10}function Nb(t=ot()){return Ud(t)||Tb(t)||Ab(t)||wb(t)||/windows phone/i.test(t)||Cb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e=[]){let n;switch(t){case"Browser":n=Dg(ot());break;case"Worker":n=`${Dg(ot())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((r,l)=>{try{const o=e(a);r(o)}catch(o){l(o)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t,e={}){return Ma(t,"GET","/v2/passwordPolicy",kd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=6;class ax{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ig(this),this.idTokenSubscription=new Ig(this),this.beforeStateQueue=new nx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xn(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fo(this,{idToken:e}),i=await $t._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Xt(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=i==null?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!r||r===l)&&(o!=null&&o.user)&&(i=o.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(r){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return F(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(Ji(this));const n=e?Mt(e):null;return n&&F(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&F(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ix(this),n=new ax(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ul("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await JN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xn(e)||this._popupRedirectResolver;F(n,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[xn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let r=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(F(l,this,"internal-error"),l.then(()=>{r||a(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,i,s);return()=>{r=!0,o()}}else{const o=e.addObserver(n);return()=>{r=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ku(t){return Mt(t)}class Ig{constructor(e){this.auth=e,this.observer=null,this.addObserver=SA(n=>this.observer=n)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lx(t){zd=t}function ox(t){return zd.loadJS(t)}function ux(){return zd.gapiScript}function cx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e){const n=Md(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(rs(a,e??{}))return s;cn(s,"already-initialized")}return n.initialize({options:e})}function hx(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(xn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function dx(t,e,n){const i=ku(t);F(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=Rb(e),{host:r,port:l}=mx(e),o=l===null?"":`:${l}`,u={url:`${a}//${r}${o}/`},h=Object.freeze({host:r,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){F(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),F(rs(u,i.config.emulator)&&rs(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Na(r)?(ib(`${a}//${r}${o}`),sb("Auth",!0)):px()}function Rb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mx(t){const e=Rb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:kg(i.substr(a.length+1))}}else{const[a,r]=i.split(":");return{host:a,port:kg(r)}}}function kg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function px(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e){return GN(t,"POST","/v1/accounts:signInWithIdp",kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="http://localhost";class os extends Mb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const r=new os(i,s);return r.idToken=a.idToken||void 0,r.accessToken=a.accessToken||void 0,r.secret=a.secret,r.nonce=a.nonce,r.pendingToken=a.pendingToken||null,r}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Xs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}buildRequest(){const e={requestUri:gx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Bd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends fl{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn extends fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return os._fromParams({providerId:Cn.PROVIDER_ID,signInMethod:Cn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cn.credentialFromTaggedObject(e)}static credentialFromError(e){return Cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Cn.credential(n,i)}catch{return null}}}Cn.GOOGLE_SIGN_IN_METHOD="google.com";Cn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends fl{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.GITHUB_SIGN_IN_METHOD="github.com";si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends fl{constructor(){super("twitter.com")}static credential(e,n){return os._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ai.credential(n,i)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await $t._fromIdTokenResponse(e,i,s),r=Lg(i);return new ha({user:a,providerId:r,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Lg(i);return new ha({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Lg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Li{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Qo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Qo(e,n,i,s)}}function Ob(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qo._fromErrorAndOperation(t,a,e,i):a})}async function yx(t,e,n=!1){const i=await Br(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ha._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(t,e,n=!1){const{auth:i}=t;if(Xt(i.app))return Promise.reject(Ji(i));const s="reauthenticate";try{const a=await Br(t,Ob(i,s,e,t),n);F(a.idToken,i,"internal-error");const r=Ld(a.idToken);F(r,i,"internal-error");const{sub:l}=r;return F(t.uid===l,i,"user-mismatch"),ha._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&cn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(t,e,n=!1){if(Xt(t.app))return Promise.reject(Ji(t));const i="signIn",s=await Ob(t,i,e),a=await ha._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}function bx(t,e,n,i){return Mt(t).onIdTokenChanged(e,n,i)}function Sx(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function Db(t,e,n,i){return Mt(t).onAuthStateChanged(e,n,i)}function Ib(t){return Mt(t).signOut()}const Ko="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ko,"1"),this.storage.removeItem(Ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=1e3,Cx=10;class Lb extends kb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((r,l,o)=>{this.notifyListeners(r,o)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const r=this.storage.getItem(i);!n&&this.localCache[i]===r||this.notifyListeners(i,r)},a=this.storage.getItem(i);tx()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Cx):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Ex)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lb.type="LOCAL";const Tx=Lb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends kb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ub.type="SESSION";const zb=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Lu(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,r=this.handlersMap[s];if(!(r!=null&&r.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(r).map(async u=>u(n.origin,a)),o=await wx(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,r;return new Promise((l,o)=>{const u=jd("",20);s.port1.start();const h=setTimeout(()=>{o(new Error("unsupported_event"))},i);r={messageChannel:s,onMessage(f){const c=f;if(c.data.eventId===u)switch(c.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(c.data.response);break;default:clearTimeout(h),clearTimeout(a),o(new Error("invalid_response"));break}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return window}function Nx(t){un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}async function xx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Mx(){return Bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firebaseLocalStorageDb",Ox=1,Xo="firebaseLocalStorage",Hb="fbase_key";class hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uu(t,e){return t.transaction([Xo],e?"readwrite":"readonly").objectStore(Xo)}function Dx(){const t=indexedDB.deleteDatabase(jb);return new hl(t).toPromise()}function nh(){const t=indexedDB.open(jb,Ox);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Xo,{keyPath:Hb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Xo)?e(i):(i.close(),await Dx(),e(await nh()))})})}async function Ug(t,e,n){const i=Uu(t,!0).put({[Hb]:e,value:n});return new hl(i).toPromise()}async function Ix(t,e){const n=Uu(t,!1).get(e),i=await new hl(n).toPromise();return i===void 0?null:i.value}function zg(t,e){const n=Uu(t,!0).delete(e);return new hl(n).toPromise()}const kx=800,Lx=3;class Pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Lx)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lu._getInstance(Mx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await xx(),!this.activeServiceWorker)return;this.sender=new Ax(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nh();return await Ug(e,Ko,"1"),await zg(e,Ko),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ug(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Ix(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Uu(s,!1).getAll();return new hl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pb.type="LOCAL";const Ux=Pb;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t,e){return e?xn(e):(F(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends Mb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zx(t){return vx(t.auth,new Hd(t),t.bypassAuthState)}function Bx(t){const{auth:e,user:n}=t;return F(n,e,"internal-error"),_x(n,new Hd(t),t.bypassAuthState)}async function jx(t){const{auth:e,user:n}=t;return F(n,e,"internal-error"),yx(n,new Hd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:r,type:l}=e;if(r){this.reject(r);return}const o={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(o))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zx;case"linkViaPopup":case"linkViaRedirect":return jx;case"reauthViaPopup":case"reauthViaRedirect":return Bx;default:cn(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new cl(2e3,1e4);async function Px(t,e,n){if(Xt(t.app))return Promise.reject(Jt(t,"operation-not-supported-in-this-environment"));const i=ku(t);zN(t,e,Bd);const s=Vb(i,n);return new Fi(i,"signInViaPopup",e,s).executeNotNull()}class Fi extends qb{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Fi.currentPopupAction&&Fi.currentPopupAction.cancel(),Fi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return F(e,this.auth,"internal-error"),e}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const e=jd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hx.get())};e()}}Fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="pendingRedirect",ao=new Map;class qx extends qb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ao.get(this.auth._key());if(!e){try{const i=await Gx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ao.set(this.auth._key(),e)}return this.bypassAuthState||ao.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gx(t,e){const n=Qx(e),i=Yx(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function Fx(t,e){ao.set(t._key(),e)}function Yx(t){return xn(t._redirectPersistence)}function Qx(t){return so(Vx,t.config.apiKey,t.name)}async function Kx(t,e,n=!1){if(Xt(t.app))return Promise.reject(Ji(t));const i=ku(t),s=Vb(i,e),r=await new qx(i,s,n).execute();return r&&!n&&(delete r.user._redirectEventId,await i._persistUserIfCurrent(r.user),await i._setRedirectUser(null,e)),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=10*60*1e3;class Wx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$x(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Gb(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Jt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bg(e))}saveEventToCache(e){this.cachedEventUids.add(Bg(e)),this.lastProcessedEventTime=Date.now()}}function Bg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $x(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t,e={}){return Ma(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eR=/^https?/;async function tR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Zx(t);for(const n of e)try{if(nR(n))return}catch{}cn(t,"unauthorized-domain")}function nR(t){const e=eh(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return r.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&r.hostname===i}if(!eR.test(n))return!1;if(Jx.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new cl(3e4,6e4);function jg(){const t=un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sR(t){return new Promise((e,n)=>{var s,a,r;function i(){jg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jg(),n(Jt(t,"network-request-failed"))},timeout:iR.get()})}if((a=(s=un().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((r=un().gapi)!=null&&r.load)i();else{const l=cx("iframefcb");return un()[l]=()=>{gapi.load?i():n(Jt(t,"network-request-failed"))},ox(`${ux()}?onload=${l}`).catch(o=>n(o))}}).catch(e=>{throw ro=null,e})}let ro=null;function aR(t){return ro=ro||sR(t),ro}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new cl(5e3,15e3),lR="__/auth/iframe",oR="emulator/auth/iframe",uR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fR(t){const e=t.config;F(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Id(e,oR):`https://${t.config.authDomain}/${lR}`,i={apiKey:e.apiKey,appName:t.name,v:Ra},s=cR.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${xa(i).slice(1)}`}async function hR(t){const e=await aR(t),n=un().gapi;return F(n,t,"internal-error"),e.open({where:document.body,url:fR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uR,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const r=Jt(t,"network-request-failed"),l=un().setTimeout(()=>{a(r)},rR.get());function o(){un().clearTimeout(l),s(i)}i.ping(o).then(o,()=>{a(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,pR=600,gR="_blank",yR="http://localhost";class Hg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(t,e,n,i=mR,s=pR){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),r=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const o={...dR,width:i.toString(),height:s.toString(),top:a,left:r},u=ot().toLowerCase();n&&(l=Eb(u)?gR:n),bb(u)&&(e=e||yR,o.scrollbars="yes");const h=Object.entries(o).reduce((c,[d,g])=>`${c}${d}=${g},`,"");if(ex(u)&&l!=="_self")return vR(e||"",l),new Hg(null);const f=window.open(e||"",l,h);F(f,t,"popup-blocked");try{f.focus()}catch{}return new Hg(f)}function vR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="__/auth/handler",SR="emulator/auth/handler",ER=encodeURIComponent("fac");async function Pg(t,e,n,i,s,a){F(t.config.authDomain,t,"auth-domain-config-required"),F(t.config.apiKey,t,"invalid-api-key");const r={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ra,eventId:s};if(e instanceof Bd){e.setDefaultLanguage(t.languageCode),r.providerId=e.providerId||"",Kf(e.getCustomParameters())||(r.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))r[h]=f}if(e instanceof fl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(r.scopes=h.join(","))}t.tenantId&&(r.tid=t.tenantId);const l=r;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const o=await t._getAppCheckToken(),u=o?`#${ER}=${encodeURIComponent(o)}`:"";return`${CR(t)}?${xa(l).slice(1)}${u}`}function CR({config:t}){return t.emulator?Id(t,SR):`https://${t.authDomain}/${bR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="webStorageSupport";class TR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zb,this._completeRedirectFn=Kx,this._overrideRedirectResult=Fx}async _openPopup(e,n,i,s){var r;Vn((r=this.eventManagers[e._key()])==null?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await Pg(e,n,i,eh(),s);return _R(e,a,jd())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await Pg(e,n,i,eh(),s);return Nx(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Vn(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await hR(e),i=new Wx(e);return n.register("authEvent",s=>(F(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hc,{type:Hc},s=>{var r;const a=(r=s==null?void 0:s[0])==null?void 0:r[Hc];a!==void 0&&n(!!a),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nb()||Sb()||Ud()}}const wR=TR;var Vg="@firebase/auth",qg="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xR(t){fa(new ls("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:r,authDomain:l}=i.options;F(r&&!r.includes(":"),"invalid-api-key",{appName:i.name});const o={apiKey:r,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xb(t)},u=new rx(i,s,a,o);return hx(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),fa(new ls("auth-internal",e=>{const n=ku(e.getProvider("auth").getImmediate());return(i=>new AR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(Vg,qg,NR(t)),Ei(Vg,qg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=5*60,MR=nb("authIdTokenMaxAge")||RR;let Gg=null;const OR=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>MR)return;const s=n==null?void 0:n.token;Gg!==s&&(Gg=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function DR(t=cb()){const e=Md(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fx(t,{popupRedirectResolver:wR,persistence:[Ux,Tx,zb]}),i=nb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const r=OR(a.toString());Sx(n,r,()=>r(n.currentUser)),bx(n,l=>r(l))}}const s=eb("auth");return s&&dx(n,`http://${s}`),n}function IR(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}lx({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=Jt("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",IR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xR("Browser");var Fg={};const Yg="@firebase/database",Qg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fb="";function kR(t){Fb=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ur(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new LR(e)}}catch{}return new UR},Yi=Yb("localStorage"),zR=Yb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new xd("@firebase/database"),BR=function(){let t=1;return function(){return t++}}(),Qb=function(t){const e=TA(t),n=new bA;n.update(e);const i=n.digest();return Td.encodeByteArray(i)},dl=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=dl.apply(null,i):typeof i=="object"?e+=Pe(i):e+=i,e+=" "}return e};let pr=null,Kg=!0;const jR=function(t,e){D(!0,"Can't turn on custom loggers persistently."),Ws.logLevel=ge.VERBOSE,pr=Ws.log.bind(Ws)},Ze=function(...t){if(Kg===!0&&(Kg=!1,pr===null&&zR.get("logging_enabled")===!0&&jR()),pr){const e=dl.apply(null,t);pr(e)}},ml=function(t){return function(...e){Ze(t,...e)}},ih=function(...t){const e="FIREBASE INTERNAL ERROR: "+dl(...t);Ws.error(e)},qn=function(...t){const e=`FIREBASE FATAL ERROR: ${dl(...t)}`;throw Ws.error(e),new Error(e)},yt=function(...t){const e="FIREBASE WARNING: "+dl(...t);Ws.warn(e)},HR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Pd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},PR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},da="[MIN_NAME]",us="[MAX_NAME]",_s=function(t,e){if(t===e)return 0;if(t===da||e===us)return-1;if(e===da||t===us)return 1;{const n=Xg(t),i=Xg(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},VR=function(t,e){return t===e?0:t<e?-1:1},Va=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pe(e))},Vd=function(t){if(typeof t!="object"||t===null)return Pe(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Pe(e[i]),n+=":",n+=Vd(t[e[i]]);return n+="}",n},Kb=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function it(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Xb=function(t){D(!Pd(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,a,r,l,o;t===0?(a=0,r=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=l+i,r=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,r=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(o=n;o;o-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(o=e;o;o-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(s?1:0),u.reverse();const h=u.join("");let f="";for(o=0;o<64;o+=8){let c=parseInt(h.substr(o,8),2).toString(16);c.length===1&&(c="0"+c),f=f+c}return f.toLowerCase()},qR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},GR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function FR(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const YR=new RegExp("^-?(0*)\\d{1,10}$"),QR=-2147483648,KR=2147483647,Xg=function(t){if(YR.test(t)){const e=Number(t);if(e>=QR&&e<=KR)return e}return null},Oa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw yt("Exception was thrown by user callback.",n),e},Math.floor(0))}},XR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(e)}}class lo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}lo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="5",Wb="v",$b="s",Zb="r",Jb="f",eS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tS="ls",nS="p",sh="ac",iS="websocket",sS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,i,s,a=!1,r="",l=!1,o=!1,u=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=r,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=o,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ZR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function rS(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let i;if(e===iS)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sS)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ZR(t)&&(n.ns=t.namespace);const s=[];return it(n,(a,r)=>{s.push(a+"="+r)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.counters_={}}incrementCounter(e,n=1){mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Jw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc={},Vc={};function Gd(t){const e=t.toString();return Pc[e]||(Pc[e]=new JR),Pc[e]}function eM(t,e){const n=t.toString();return Vc[n]||(Vc[n]=e()),Vc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Oa(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="start",nM="close",iM="pLPCommand",sM="pRTLPCB",lS="id",oS="pw",uS="ser",aM="cb",rM="seg",lM="ts",oM="d",uM="dframe",cS=1870,fS=30,cM=cS-fS,fM=25e3,hM=3e4;class js{constructor(e,n,i,s,a,r,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=r,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ml(e),this.stats_=Gd(n),this.urlFn=o=>(this.appCheckToken&&(o[sh]=this.appCheckToken),rS(n,sS,o))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new tM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(hM)),PR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fd((...a)=>{const[r,l,o,u,h]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===Wg)this.id=l,this.password=o;else if(r===nM)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...a)=>{const[r,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(r,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[Wg]="t",i[uS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[aM]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Wb]=qd,this.transportSessionId&&(i[$b]=this.transportSessionId),this.lastSessionId&&(i[tS]=this.lastSessionId),this.applicationId&&(i[nS]=this.applicationId),this.appCheckToken&&(i[sh]=this.appCheckToken),typeof location<"u"&&location.hostname&&eS.test(location.hostname)&&(i[Zb]=Jb);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){js.forceAllow_=!0}static forceDisallow(){js.forceDisallow_=!0}static isAvailable(){return js.forceAllow_?!0:!js.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!qR()&&!GR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Z0(n),s=Kb(i,cM);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[uM]="t",i[lS]=e,i[oS]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Fd{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BR(),window[iM+this.uniqueCallbackIdentifier]=e,window[sM+this.uniqueCallbackIdentifier]=n,this.myIFrame=Fd.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(l){Ze("frame writing exception"),l.stack&&Ze(l.stack),Ze(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ze("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lS]=this.myID,e[oS]=this.myPW,e[uS]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fS+i.length<=cS;){const r=this.pendingSegs.shift();i=i+"&"+rM+s+"="+r.seg+"&"+lM+s+"="+r.ts+"&"+oM+s+"="+r.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(fM)),a=()=>{clearTimeout(s),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=16384,mM=45e3;let Wo=null;typeof MozWebSocket<"u"?Wo=MozWebSocket:typeof WebSocket<"u"&&(Wo=WebSocket);class Wt{constructor(e,n,i,s,a,r,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ml(this.connId),this.stats_=Gd(n),this.connURL=Wt.connectionURL_(n,r,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,a){const r={};return r[Wb]=qd,typeof location<"u"&&location.hostname&&eS.test(location.hostname)&&(r[Zb]=Jb),n&&(r[$b]=n),i&&(r[tS]=i),s&&(r[sh]=s),a&&(r[nS]=a),rS(e,iS,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yi.set("previous_websocket_failure",!0);try{let i;hA(),this.mySock=new Wo(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Wo!==null&&!Wt.forceDisallow_}static previouslyFailed(){return Yi.isInMemoryStorage||Yi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ur(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Kb(n,dM);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(mM))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{static get ALL_TRANSPORTS(){return[js,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Wt&&Wt.isAvailable();let i=n&&!Wt.previouslyFailed();if(e.webSocketOnly&&(n||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Wt];else{const s=this.transports_=[];for(const a of jr.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);jr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=6e4,gM=5e3,yM=10*1024,_M=100*1024,qc="t",$g="d",vM="s",Zg="r",bM="e",Jg="o",ey="a",ty="n",ny="p",SM="h";class EM{constructor(e,n,i,s,a,r,l,o,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=r,this.onReady_=l,this.onDisconnect_=o,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ml("c:"+this.id+":"),this.transportManager_=new jr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=gr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_M?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(qc in e){const n=e[qc];n===ey?this.upgradeIfSecondaryHealthy_():n===Zg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Jg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Va("t",e),i=Va("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ny,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ey,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ty,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Va("t",e),i=Va("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Va(qc,e);if($g in e){const i=e[$g];if(n===SM){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===ty){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vM?this.onConnectionShutdown_(i):n===Zg?this.onReset_(i):n===bM?ih("Server Error: "+i):n===Jg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ih("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),qd!==i&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),gr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ny,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!i||i===s[a].context)){s.splice(a,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends dS{static getInstance(){return new $o}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ad()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=32,sy=768;class _e{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function le(){return new _e("")}function J(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ri(t){return t.pieces_.length-t.pieceNum_}function Se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _e(t.pieces_,e)}function Yd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function CM(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Hr(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _e(e,0)}function De(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof _e)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new _e(n,0)}function ee(t){return t.pieceNum_>=t.pieces_.length}function lt(t,e){const n=J(t),i=J(e);if(n===null)return e;if(n===i)return lt(Se(t),Se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function TM(t,e){const n=Hr(t,0),i=Hr(e,0);for(let s=0;s<n.length&&s<i.length;s++){const a=_s(n[s],i[s]);if(a!==0)return a}return n.length===i.length?0:n.length<i.length?-1:1}function Qd(t,e){if(Ri(t)!==Ri(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ht(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ri(t)>Ri(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class wM{constructor(e,n){this.errorPrefix_=n,this.parts_=Hr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Iu(this.parts_[i]);pS(this)}}function AM(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Iu(e),pS(t)}function NM(t){const e=t.parts_.pop();t.byteLength_-=Iu(e),t.parts_.length>0&&(t.byteLength_-=1)}function pS(t){if(t.byteLength_>sy)throw new Error(t.errorPrefix_+"has a key path longer than "+sy+" bytes ("+t.byteLength_+").");if(t.parts_.length>iy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+iy+") or object contains a cycle "+qi(t))}function qi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends dS{static getInstance(){return new Kd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=1e3,xM=60*5*1e3,ay=30*1e3,RM=1.3,MM=3e4,OM="server_kill",ry=3;class kn extends hS{constructor(e,n,i,s,a,r,l,o){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.authOverride_=o,this.id=kn.nextPersistentConnectionId_++,this.log_=ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qa,this.maxReconnectDelay_=xM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&$o.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(Pe(a)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Du,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const l=r.d;r.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,s){this.initConnection_();const a=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+a),this.listens.has(r)||this.listens.set(r,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(r).has(a),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(r).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i},r="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(r,a,l=>{const o=l.d,u=l.s;kn.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(u,o))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&mn(e,"w")){const i=ca(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||vA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ay)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_A(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const a=s.s,r=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},r="n";s&&(a.q=i,a.t=s),this.sendRequest(r,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,r=>{s&&setTimeout(()=>{s(r.s,r.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,a){this.initConnection_();const r={p:n,d:i};a!==void 0&&(r.h=a),this.outstandingPuts_.push({action:e,request:r,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pe(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ih("Unrecognized action received from server: "+Pe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>MM&&(this.reconnectDelay_=qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+kn.nextConnectionId_++,a=this.lastSessionId;let r=!1,l=null;const o=function(){l?l.close():(r=!0,i())},u=function(f){D(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:o,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,c]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);r?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=c&&c.token,l=new EM(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,d=>{yt(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(OM)},a))}catch(f){this.log_("Failed to get token: "+f),r||(this.repoInfo_.nodeAdmin&&yt(f),o())}}}interrupt(e){Ze("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ze("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Kf(this.interruptReasons_)&&(this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>Vd(a)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new _e(e).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Ze("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ry&&(this.reconnectDelay_=ay,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ze("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ry&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Fb.replace(/\./g,"-")]=1,Ad()?e["framework.cordova"]=1:ab()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$o.getInstance().currentlyOnline();return Kf(this.interruptReasons_)&&e}}kn.nextPersistentConnectionId_=0;kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new W(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new W(da,e),s=new W(da,n);return this.compare(i,s)!==0}minPost(){return W.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl;class gS extends zu{static get __EMPTY_NODE(){return zl}static set __EMPTY_NODE(e){zl=e}compare(e,n){return _s(e.name,n.name)}isDefinedOn(e){throw Aa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return W.MIN}maxPost(){return new W(us,zl)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new W(e,zl)}toString(){return".key"}}const $s=new gS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?i(e.key,n):1,s&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Fe{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??Fe.RED,this.left=s??pt.EMPTY_NODE,this.right=a??pt.EMPTY_NODE}copy(e,n,i,s,a){return new Fe(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Fe.RED=!0;Fe.BLACK=!1;class DM{copy(e,n,i,s,a){return this}insert(e,n,i){return new Fe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pt{constructor(e,n=pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Fe.BLACK,null,null))}remove(e){return new pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fe.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Bl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Bl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Bl(this.root_,null,this.comparator_,!0,e)}}pt.EMPTY_NODE=new DM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e){return _s(t.name,e.name)}function Xd(t,e){return _s(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;function kM(t){ah=t}const yS=function(t){return typeof t=="number"?"number:"+Xb(t):"string:"+t},_S=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mn(e,".sv"),"Priority must be a string or number.")}else D(t===ah||t.isEmpty(),"priority of unexpected type.");D(t===ah||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ly;class qe{static set __childrenNodeConstructor(e){ly=e}static get __childrenNodeConstructor(){return ly}constructor(e,n=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_S(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ee(e)?this:J(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=J(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(D(i!==".priority"||Ri(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Se(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Xb(this.value_):e+=this.value_,this.lazyHash_=Qb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=qe.VALUE_TYPE_ORDER.indexOf(n),a=qe.VALUE_TYPE_ORDER.indexOf(i);return D(s>=0,"Unknown leaf type: "+n),D(a>=0,"Unknown leaf type: "+i),s===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vS,bS;function LM(t){vS=t}function UM(t){bS=t}class zM extends zu{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),a=i.compareTo(s);return a===0?_s(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return W.MIN}maxPost(){return new W(us,new qe("[PRIORITY-POST]",bS))}makePost(e,n){const i=vS(e);return new W(n,new qe("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ie=new zM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=Math.log(2);class jM{constructor(e){const n=a=>parseInt(Math.log(a)/BM,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zo=function(t,e,n,i){t.sort(e);const s=function(o,u){const h=u-o;let f,c;if(h===0)return null;if(h===1)return f=t[o],c=n?n(f):f,new Fe(c,f.node,Fe.BLACK,null,null);{const d=parseInt(h/2,10)+o,g=s(o,d),T=s(d+1,u);return f=t[d],c=n?n(f):f,new Fe(c,f.node,Fe.BLACK,g,T)}},a=function(o){let u=null,h=null,f=t.length;const c=function(g,T){const S=f-g,m=f;f-=g;const p=s(S+1,m),y=t[S],w=n?n(y):y;d(new Fe(w,y.node,T,null,p))},d=function(g){u?(u.left=g,u=g):(h=g,u=g)};for(let g=0;g<o.count;++g){const T=o.nextBitIsOne(),S=Math.pow(2,o.count-(g+1));T?c(S,Fe.BLACK):(c(S,Fe.BLACK),c(S,Fe.RED))}return h},r=new jM(t.length),l=a(r);return new pt(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc;const Cs={};class Rn{static get Default(){return D(Cs&&Ie,"ChildrenNode.ts has not been loaded"),Gc=Gc||new Rn({".priority":Cs},{".priority":Ie}),Gc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ca(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof pt?n:null}hasIndex(e){return mn(this.indexSet_,e.toString())}addIndex(e,n){D(e!==$s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=n.getIterator(W.Wrap);let r=a.getNext();for(;r;)s=s||e.isDefinedOn(r.node),i.push(r),r=a.getNext();let l;s?l=Zo(i,e.getCompare()):l=Cs;const o=e.toString(),u={...this.indexSet_};u[o]=e;const h={...this.indexes_};return h[o]=l,new Rn(h,u)}addToIndexes(e,n){const i=Vo(this.indexes_,(s,a)=>{const r=ca(this.indexSet_,a);if(D(r,"Missing index implementation for "+a),s===Cs)if(r.isDefinedOn(e.node)){const l=[],o=n.getIterator(W.Wrap);let u=o.getNext();for(;u;)u.name!==e.name&&l.push(u),u=o.getNext();return l.push(e),Zo(l,r.getCompare())}else return Cs;else{const l=n.get(e.name);let o=s;return l&&(o=o.remove(new W(e.name,l))),o.insert(e,e.node)}});return new Rn(i,this.indexSet_)}removeFromIndexes(e,n){const i=Vo(this.indexes_,s=>{if(s===Cs)return s;{const a=n.get(e.name);return a?s.remove(new W(e.name,a)):s}});return new Rn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;class P{static get EMPTY_NODE(){return Ga||(Ga=new P(new pt(Xd),null,Rn.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&_S(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ga}updatePriority(e){return this.children_.isEmpty()?this:new P(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ga:n}}getChild(e){const n=J(e);return n===null?this:this.getImmediateChild(n).getChild(Se(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new W(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const r=s.isEmpty()?Ga:this.priorityNode_;return new P(s,r,a)}}updateChild(e,n){const i=J(e);if(i===null)return n;{D(J(e)!==".priority"||Ri(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Se(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,a=!0;if(this.forEachChild(Ie,(r,l)=>{n[r]=l.val(e),i++,a&&P.INTEGER_REGEXP_.test(r)?s=Math.max(s,Number(r)):a=!1}),!e&&a&&s<2*i){const r=[];for(const l in n)r[l]=n[l];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+yS(this.getPriority().val())+":"),this.forEachChild(Ie,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Qb(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new W(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new W(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new W(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,W.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,W.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pl?-1:0}withIndex(e){if(e===$s||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new P(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$s||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ie),s=n.getIterator(Ie);let a=i.getNext(),r=s.getNext();for(;a&&r;){if(a.name!==r.name||!a.node.equals(r.node))return!1;a=i.getNext(),r=s.getNext()}return a===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===$s?null:this.indexMap_.get(e.toString())}}P.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class HM extends P{constructor(){super(new pt(Xd),P.EMPTY_NODE,Rn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return P.EMPTY_NODE}isEmpty(){return!1}}const pl=new HM;Object.defineProperties(W,{MIN:{value:new W(da,P.EMPTY_NODE)},MAX:{value:new W(us,pl)}});gS.__EMPTY_NODE=P.EMPTY_NODE;qe.__childrenNodeConstructor=P;kM(pl);UM(pl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=!0;function Qe(t,e=null){if(t===null)return P.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qe(n,Qe(e))}if(!(t instanceof Array)&&PM){const n=[];let i=!1;if(it(t,(r,l)=>{if(r.substring(0,1)!=="."){const o=Qe(l);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new W(r,o)))}}),n.length===0)return P.EMPTY_NODE;const a=Zo(n,IM,r=>r.name,Xd);if(i){const r=Zo(n,Ie.getCompare());return new P(a,Qe(e),new Rn({".priority":r},{".priority":Ie}))}else return new P(a,Qe(e),Rn.Default)}else{let n=P.EMPTY_NODE;return it(t,(i,s)=>{if(mn(t,i)&&i.substring(0,1)!=="."){const a=Qe(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(Qe(e))}}LM(Qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM extends zu{constructor(e){super(),this.indexPath_=e,D(!ee(e)&&J(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),a=i.compareTo(s);return a===0?_s(e.name,n.name):a}makePost(e,n){const i=Qe(e),s=P.EMPTY_NODE.updateChild(this.indexPath_,i);return new W(n,s)}maxPost(){const e=P.EMPTY_NODE.updateChild(this.indexPath_,pl);return new W(us,e)}toString(){return Hr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM extends zu{compare(e,n){const i=e.node.compareTo(n.node);return i===0?_s(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(e,n){const i=Qe(e);return new W(n,i)}toString(){return".value"}}const GM=new qM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t){return{type:"value",snapshotNode:t}}function ma(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Pr(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Vr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function FM(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.index_=e}updateChild(e,n,i,s,a,r){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(r!=null&&(i.isEmpty()?e.hasChild(n)?r.trackChildChange(Pr(n,l)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?r.trackChildChange(ma(n,i)):r.trackChildChange(Vr(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ie,(s,a)=>{n.hasChild(s)||i.trackChildChange(Pr(s,a))}),n.isLeafNode()||n.forEachChild(Ie,(s,a)=>{if(e.hasChild(s)){const r=e.getImmediateChild(s);r.equals(a)||i.trackChildChange(Vr(s,a,r))}else i.trackChildChange(ma(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?P.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.indexedFilter_=new Wd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qr.getStartPost_(e),this.endPost_=qr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,a,r){return this.matches(new W(n,i))||(i=P.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,a,r)}updateFullNode(e,n,i){n.isLeafNode()&&(n=P.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(P.EMPTY_NODE);const a=this;return n.forEachChild(Ie,(r,l)=>{a.matches(new W(r,l))||(s=s.updateImmediateChild(r,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new qr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,a,r){return this.rangedFilter_.matches(new W(n,i))||(i=P.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,a,r):this.fullLimitUpdateChild_(e,n,i,a,r)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=P.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;a.hasNext()&&r<this.limit_;){const l=a.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),r++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(P.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let r=0;for(;a.hasNext();){const l=a.getNext();r<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?r++:s=s.updateImmediateChild(l.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,a){let r;if(this.reverse_){const f=this.index_.getCompare();r=(c,d)=>f(d,c)}else r=this.index_.getCompare();const l=e;D(l.numChildren()===this.limit_,"");const o=new W(n,i),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(l.hasChild(n)){const f=l.getImmediateChild(n);let c=s.getChildAfterChild(this.index_,u,this.reverse_);for(;c!=null&&(c.name===n||l.hasChild(c.name));)c=s.getChildAfterChild(this.index_,c,this.reverse_);const d=c==null?1:r(c,o);if(h&&!i.isEmpty()&&d>=0)return a!=null&&a.trackChildChange(Vr(n,i,f)),l.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(Pr(n,f));const T=l.updateImmediateChild(n,P.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(a!=null&&a.trackChildChange(ma(c.name,c.node)),T.updateImmediateChild(c.name,c.node)):T}}else return i.isEmpty()?e:h&&r(u,o)>=0?(a!=null&&(a.trackChildChange(Pr(u.name,u.node)),a.trackChildChange(ma(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(u.name,P.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:da}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const e=new $d;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QM(t){return t.loadsAllData()?new Wd(t.getIndex()):t.hasLimit()?new YM(t):new qr(t)}function oy(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ie?n="$priority":t.index_===GM?n="$value":t.index_===$s?n="$key":(D(t.index_ instanceof VM,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pe(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Pe(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Pe(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Pe(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function uy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ie&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends hS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=ml("p:rest:"),this.listens_={}}listen(e,n,i,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const r=Jo.getListenId_(e,i),l={};this.listens_[r]=l;const o=oy(e._queryParams);this.restRequest_(a+".json",o,(u,h)=>{let f=h;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(a,f,!1,i),ca(this.listens_,r)===l){let c;u?u===401?c="permission_denied":c="rest_error:"+u:c="ok",s(c,null)}})}unlisten(e,n){const i=Jo.getListenId_(e,n);delete this.listens_[i]}get(e){const n=oy(e._queryParams),i=e._path.toString(),s=new Du;return this.restRequest_(i+".json",n,(a,r)=>{let l=r;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+xa(n);this.log_("Sending REST request for "+r);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+r+" received. status:",l.status,"response:",l.responseText);let o=null;if(l.status>=200&&l.status<300){try{o=Ur(l.responseText)}catch{yt("Failed to parse JSON response for "+r+": "+l.responseText)}i(null,o)}else l.status!==401&&l.status!==404&&yt("Got unsuccessful REST response for "+r+" Status: "+l.status),i(l.status);i=null}},l.open("GET",r,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(){return{value:null,children:new Map}}function ES(t,e,n){if(ee(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=J(e);t.children.has(i)||t.children.set(i,eu());const s=t.children.get(i);e=Se(e),ES(s,e,n)}}function rh(t,e,n){t.value!==null?n(e,t.value):XM(t,(i,s)=>{const a=new _e(e.toString()+"/"+i);rh(s,a,n)})}function XM(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&it(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=10*1e3,$M=30*1e3,ZM=5*60*1e3;class JM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new WM(e);const i=cy+($M-cy)*Math.random();gr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;it(e,(s,a)=>{a>0&&mn(this.statsToReport_,s)&&(n[s]=a,i=!0)}),i&&this.server_.reportStats(n),gr(this.reportStats_.bind(this),Math.floor(Math.random()*2*ZM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function Zd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Jd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function em(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Zt.ACK_USER_WRITE,this.source=Zd()}operationForChild(e){if(ee(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _e(e));return new tu(le(),n,this.revert)}}else return D(J(this.path)===e,"operationForChild called for unrelated child."),new tu(Se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return ee(this.path)?new Gr(this.source,le()):new Gr(this.source,Se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Zt.OVERWRITE}operationForChild(e){return ee(this.path)?new cs(this.source,le(),this.snap.getImmediateChild(e)):new cs(this.source,Se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Zt.MERGE}operationForChild(e){if(ee(this.path)){const n=this.children.subtree(new _e(e));return n.isEmpty()?null:n.value?new cs(this.source,le(),n.value):new pa(this.source,le(),n)}else return D(J(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new pa(this.source,Se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ee(e))return this.isFullyInitialized()&&!this.filtered_;const n=J(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function t2(t,e,n,i){const s=[],a=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&a.push(FM(r.childName,r.snapshotNode))}),Fa(t,s,"child_removed",e,i,n),Fa(t,s,"child_added",e,i,n),Fa(t,s,"child_moved",a,i,n),Fa(t,s,"child_changed",e,i,n),Fa(t,s,"value",e,i,n),s}function Fa(t,e,n,i,s,a){const r=i.filter(l=>l.type===n);r.sort((l,o)=>i2(t,l,o)),r.forEach(l=>{const o=n2(t,l,a);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(o,t.query_))})})}function n2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function i2(t,e,n){if(e.childName==null||n.childName==null)throw Aa("Should only compare child_ events.");const i=new W(e.childName,e.snapshotNode),s=new W(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t,e){return{eventCache:t,serverCache:e}}function yr(t,e,n,i){return Bu(new Mi(e,n,i),t.serverCache)}function CS(t,e,n,i){return Bu(t.eventCache,new Mi(e,n,i))}function nu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;const s2=()=>(Fc||(Fc=new pt(VR)),Fc);class be{static fromObject(e){let n=new be(null);return it(e,(i,s)=>{n=n.set(new _e(i),s)}),n}constructor(e,n=s2()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:le(),value:this.value};if(ee(e))return null;{const i=J(e),s=this.children.get(i);if(s!==null){const a=s.findRootMostMatchingPathAndValue(Se(e),n);return a!=null?{path:De(new _e(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ee(e))return this;{const n=J(e),i=this.children.get(n);return i!==null?i.subtree(Se(e)):new be(null)}}set(e,n){if(ee(e))return new be(n,this.children);{const i=J(e),a=(this.children.get(i)||new be(null)).set(Se(e),n),r=this.children.insert(i,a);return new be(this.value,r)}}remove(e){if(ee(e))return this.children.isEmpty()?new be(null):new be(null,this.children);{const n=J(e),i=this.children.get(n);if(i){const s=i.remove(Se(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new be(null):new be(this.value,a)}else return this}}get(e){if(ee(e))return this.value;{const n=J(e),i=this.children.get(n);return i?i.get(Se(e)):null}}setTree(e,n){if(ee(e))return n;{const i=J(e),a=(this.children.get(i)||new be(null)).setTree(Se(e),n);let r;return a.isEmpty()?r=this.children.remove(i):r=this.children.insert(i,a),new be(this.value,r)}}fold(e){return this.fold_(le(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(De(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,le(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(ee(e))return null;{const a=J(e),r=this.children.get(a);return r?r.findOnPath_(Se(e),De(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,le(),n)}foreachOnPath_(e,n,i){if(ee(e))return this;{this.value&&i(n,this.value);const s=J(e),a=this.children.get(s);return a?a.foreachOnPath_(Se(e),De(n,s),i):new be(null)}}foreach(e){this.foreach_(le(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(De(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new be(null))}}function _r(t,e,n){if(ee(e))return new en(new be(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let a=i.value;const r=lt(s,e);return a=a.updateChild(r,n),new en(t.writeTree_.set(s,a))}else{const s=new be(n),a=t.writeTree_.setTree(e,s);return new en(a)}}}function lh(t,e,n){let i=t;return it(n,(s,a)=>{i=_r(i,De(e,s),a)}),i}function fy(t,e){if(ee(e))return en.empty();{const n=t.writeTree_.setTree(e,new be(null));return new en(n)}}function oh(t,e){return vs(t,e)!=null}function vs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(lt(n.path,e)):null}function hy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ie,(i,s)=>{e.push(new W(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new W(i,s.value))}),e}function Ci(t,e){if(ee(e))return t;{const n=vs(t,e);return n!=null?new en(new be(n)):new en(t.writeTree_.subtree(e))}}function uh(t){return t.writeTree_.isEmpty()}function ga(t,e){return TS(le(),t.writeTree_,e)}function TS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(D(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=TS(De(t,s),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(De(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e){return xS(e,t)}function a2(t,e,n,i,s){D(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=_r(t.visibleWrites,e,n)),t.lastWriteId=i}function r2(t,e,n,i){D(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=lh(t.visibleWrites,e,n),t.lastWriteId=i}function l2(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function o2(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,a=!1,r=t.allWrites.length-1;for(;s&&r>=0;){const l=t.allWrites[r];l.visible&&(r>=n&&u2(l,i.path)?s=!1:Ht(i.path,l.path)&&(a=!0)),r--}if(s){if(a)return c2(t),!0;if(i.snap)t.visibleWrites=fy(t.visibleWrites,i.path);else{const l=i.children;it(l,o=>{t.visibleWrites=fy(t.visibleWrites,De(i.path,o))})}return!0}else return!1}function u2(t,e){if(t.snap)return Ht(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ht(De(t.path,n),e))return!0;return!1}function c2(t){t.visibleWrites=wS(t.allWrites,f2,le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function f2(t){return t.visible}function wS(t,e,n){let i=en.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const r=a.path;let l;if(a.snap)Ht(n,r)?(l=lt(n,r),i=_r(i,l,a.snap)):Ht(r,n)&&(l=lt(r,n),i=_r(i,le(),a.snap.getChild(l)));else if(a.children){if(Ht(n,r))l=lt(n,r),i=lh(i,l,a.children);else if(Ht(r,n))if(l=lt(r,n),ee(l))i=lh(i,le(),a.children);else{const o=ca(a.children,J(l));if(o){const u=o.getChild(Se(l));i=_r(i,le(),u)}}}else throw Aa("WriteRecord should have .snap or .children")}}return i}function AS(t,e,n,i,s){if(!i&&!s){const a=vs(t.visibleWrites,e);if(a!=null)return a;{const r=Ci(t.visibleWrites,e);if(uh(r))return n;if(n==null&&!oh(r,le()))return null;{const l=n||P.EMPTY_NODE;return ga(r,l)}}}else{const a=Ci(t.visibleWrites,e);if(!s&&uh(a))return n;if(!s&&n==null&&!oh(a,le()))return null;{const r=function(u){return(u.visible||s)&&(!i||!~i.indexOf(u.writeId))&&(Ht(u.path,e)||Ht(e,u.path))},l=wS(t.allWrites,r,e),o=n||P.EMPTY_NODE;return ga(l,o)}}}function h2(t,e,n){let i=P.EMPTY_NODE;const s=vs(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ie,(a,r)=>{i=i.updateImmediateChild(a,r)}),i;if(n){const a=Ci(t.visibleWrites,e);return n.forEachChild(Ie,(r,l)=>{const o=ga(Ci(a,new _e(r)),l);i=i.updateImmediateChild(r,o)}),hy(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}else{const a=Ci(t.visibleWrites,e);return hy(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}}function d2(t,e,n,i,s){D(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=De(e,n);if(oh(t.visibleWrites,a))return null;{const r=Ci(t.visibleWrites,a);return uh(r)?s.getChild(n):ga(r,s.getChild(n))}}function m2(t,e,n,i){const s=De(e,n),a=vs(t.visibleWrites,s);if(a!=null)return a;if(i.isCompleteForChild(n)){const r=Ci(t.visibleWrites,s);return ga(r,i.getNode().getImmediateChild(n))}else return null}function p2(t,e){return vs(t.visibleWrites,e)}function g2(t,e,n,i,s,a,r){let l;const o=Ci(t.visibleWrites,e),u=vs(o,le());if(u!=null)l=u;else if(n!=null)l=ga(o,n);else return[];if(l=l.withIndex(r),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=r.getCompare(),c=a?l.getReverseIteratorFrom(i,r):l.getIteratorFrom(i,r);let d=c.getNext();for(;d&&h.length<s;)f(d,i)!==0&&h.push(d),d=c.getNext();return h}else return[]}function y2(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function iu(t,e,n,i){return AS(t.writeTree,t.treePath,e,n,i)}function tm(t,e){return h2(t.writeTree,t.treePath,e)}function dy(t,e,n,i){return d2(t.writeTree,t.treePath,e,n,i)}function su(t,e){return p2(t.writeTree,De(t.treePath,e))}function _2(t,e,n,i,s,a){return g2(t.writeTree,t.treePath,e,n,i,s,a)}function nm(t,e,n){return m2(t.writeTree,t.treePath,e,n)}function NS(t,e){return xS(De(t.treePath,e),t.writeTree)}function xS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,Vr(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,Pr(i,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,ma(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,Vr(i,e.snapshotNode,s.oldSnap));else throw Aa("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const RS=new b2;class im{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Mi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nm(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fs(this.viewCache_),a=_2(this.writes_,s,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){return{filter:t}}function E2(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function C2(t,e,n,i,s){const a=new v2;let r,l;if(n.type===Zt.OVERWRITE){const u=n;u.source.fromUser?r=ch(t,e,u.path,u.snap,i,s,a):(D(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!ee(u.path),r=au(t,e,u.path,u.snap,i,s,l,a))}else if(n.type===Zt.MERGE){const u=n;u.source.fromUser?r=w2(t,e,u.path,u.children,i,s,a):(D(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),r=fh(t,e,u.path,u.children,i,s,l,a))}else if(n.type===Zt.ACK_USER_WRITE){const u=n;u.revert?r=x2(t,e,u.path,i,s,a):r=A2(t,e,u.path,u.affectedTree,i,s,a)}else if(n.type===Zt.LISTEN_COMPLETE)r=N2(t,e,n.path,i,a);else throw Aa("Unknown operation type: "+n.type);const o=a.getChanges();return T2(e,r,o),{viewCache:r,changes:o}}function T2(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=nu(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(SS(nu(e)))}}function MS(t,e,n,i,s,a){const r=e.eventCache;if(su(i,n)!=null)return e;{let l,o;if(ee(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=fs(e),h=u instanceof P?u:P.EMPTY_NODE,f=tm(i,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const u=iu(i,fs(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,a)}else{const u=J(n);if(u===".priority"){D(Ri(n)===1,"Can't have a priority with additional path components");const h=r.getNode();o=e.serverCache.getNode();const f=dy(i,n,h,o);f!=null?l=t.filter.updatePriority(h,f):l=r.getNode()}else{const h=Se(n);let f;if(r.isCompleteForChild(u)){o=e.serverCache.getNode();const c=dy(i,n,r.getNode(),o);c!=null?f=r.getNode().getImmediateChild(u).updateChild(h,c):f=r.getNode().getImmediateChild(u)}else f=nm(i,u,e.serverCache);f!=null?l=t.filter.updateChild(r.getNode(),u,f,h,s,a):l=r.getNode()}}return yr(e,l,r.isFullyInitialized()||ee(n),t.filter.filtersNodes())}}function au(t,e,n,i,s,a,r,l){const o=e.serverCache;let u;const h=r?t.filter:t.filter.getIndexedFilter();if(ee(n))u=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const d=o.getNode().updateChild(n,i);u=h.updateFullNode(o.getNode(),d,null)}else{const d=J(n);if(!o.isCompleteForPath(n)&&Ri(n)>1)return e;const g=Se(n),S=o.getNode().getImmediateChild(d).updateChild(g,i);d===".priority"?u=h.updatePriority(o.getNode(),S):u=h.updateChild(o.getNode(),d,S,g,RS,null)}const f=CS(e,u,o.isFullyInitialized()||ee(n),h.filtersNodes()),c=new im(s,f,a);return MS(t,f,n,s,c,l)}function ch(t,e,n,i,s,a,r){const l=e.eventCache;let o,u;const h=new im(s,e,a);if(ee(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,r),o=yr(e,u,!0,t.filter.filtersNodes());else{const f=J(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),o=yr(e,u,l.isFullyInitialized(),l.isFiltered());else{const c=Se(n),d=l.getNode().getImmediateChild(f);let g;if(ee(c))g=i;else{const T=h.getCompleteChild(f);T!=null?Yd(c)===".priority"&&T.getChild(mS(c)).isEmpty()?g=T:g=T.updateChild(c,i):g=P.EMPTY_NODE}if(d.equals(g))o=e;else{const T=t.filter.updateChild(l.getNode(),f,g,c,h,r);o=yr(e,T,l.isFullyInitialized(),t.filter.filtersNodes())}}}return o}function my(t,e){return t.eventCache.isCompleteForChild(e)}function w2(t,e,n,i,s,a,r){let l=e;return i.foreach((o,u)=>{const h=De(n,o);my(e,J(h))&&(l=ch(t,l,h,u,s,a,r))}),i.foreach((o,u)=>{const h=De(n,o);my(e,J(h))||(l=ch(t,l,h,u,s,a,r))}),l}function py(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function fh(t,e,n,i,s,a,r,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let o=e,u;ee(n)?u=i:u=new be(null).setTree(n,i);const h=e.serverCache.getNode();return u.children.inorderTraversal((f,c)=>{if(h.hasChild(f)){const d=e.serverCache.getNode().getImmediateChild(f),g=py(t,d,c);o=au(t,o,new _e(f),g,s,a,r,l)}}),u.children.inorderTraversal((f,c)=>{const d=!e.serverCache.isCompleteForChild(f)&&c.value===null;if(!h.hasChild(f)&&!d){const g=e.serverCache.getNode().getImmediateChild(f),T=py(t,g,c);o=au(t,o,new _e(f),T,s,a,r,l)}}),o}function A2(t,e,n,i,s,a,r){if(su(s,n)!=null)return e;const l=e.serverCache.isFiltered(),o=e.serverCache;if(i.value!=null){if(ee(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return au(t,e,n,o.getNode().getChild(n),s,a,l,r);if(ee(n)){let u=new be(null);return o.getNode().forEachChild($s,(h,f)=>{u=u.set(new _e(h),f)}),fh(t,e,n,u,s,a,l,r)}else return e}else{let u=new be(null);return i.foreach((h,f)=>{const c=De(n,h);o.isCompleteForPath(c)&&(u=u.set(h,o.getNode().getChild(c)))}),fh(t,e,n,u,s,a,l,r)}}function N2(t,e,n,i,s){const a=e.serverCache,r=CS(e,a.getNode(),a.isFullyInitialized()||ee(n),a.isFiltered());return MS(t,r,n,i,RS,s)}function x2(t,e,n,i,s,a){let r;if(su(i,n)!=null)return e;{const l=new im(i,e,s),o=e.eventCache.getNode();let u;if(ee(n)||J(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=iu(i,fs(e));else{const f=e.serverCache.getNode();D(f instanceof P,"serverChildren would be complete if leaf node"),h=tm(i,f)}h=h,u=t.filter.updateFullNode(o,h,a)}else{const h=J(n);let f=nm(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=o.getImmediateChild(h)),f!=null?u=t.filter.updateChild(o,h,f,Se(n),l,a):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(o,h,P.EMPTY_NODE,Se(n),l,a):u=o,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=iu(i,fs(e)),r.isLeafNode()&&(u=t.filter.updateFullNode(u,r,a)))}return r=e.serverCache.isFullyInitialized()||su(i,le())!=null,yr(e,u,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Wd(i.getIndex()),a=QM(i);this.processor_=S2(a);const r=n.serverCache,l=n.eventCache,o=s.updateFullNode(P.EMPTY_NODE,r.getNode(),null),u=a.updateFullNode(P.EMPTY_NODE,l.getNode(),null),h=new Mi(o,r.isFullyInitialized(),s.filtersNodes()),f=new Mi(u,l.isFullyInitialized(),a.filtersNodes());this.viewCache_=Bu(f,h),this.eventGenerator_=new e2(this.query_)}get query(){return this.query_}}function M2(t){return t.viewCache_.serverCache.getNode()}function O2(t){return nu(t.viewCache_)}function D2(t,e){const n=fs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ee(e)&&!n.getImmediateChild(J(e)).isEmpty())?n.getChild(e):null}function gy(t){return t.eventRegistrations_.length===0}function I2(t,e){t.eventRegistrations_.push(e)}function yy(t,e,n){const i=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const r=a.createCancelEvent(n,s);r&&i.push(r)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const r=t.eventRegistrations_[a];if(!r.matches(e))s.push(r);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function _y(t,e,n,i){e.type===Zt.MERGE&&e.source.queryId!==null&&(D(fs(t.viewCache_),"We should always have a full cache before handling merges"),D(nu(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=C2(t.processor_,s,e,n,i);return E2(t.processor_,a.viewCache),D(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,OS(t,a.changes,a.viewCache.eventCache.getNode(),null)}function k2(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ie,(a,r)=>{i.push(ma(a,r))}),n.isFullyInitialized()&&i.push(SS(n.getNode())),OS(t,i,n.getNode(),e)}function OS(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return t2(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru;class DS{constructor(){this.views=new Map}}function L2(t){D(!ru,"__referenceConstructor has already been defined"),ru=t}function U2(){return D(ru,"Reference.ts has not been loaded"),ru}function z2(t){return t.views.size===0}function sm(t,e,n,i){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return D(a!=null,"SyncTree gave us an op for an invalid query."),_y(a,e,n,i)}else{let a=[];for(const r of t.views.values())a=a.concat(_y(r,e,n,i));return a}}function IS(t,e,n,i,s){const a=e._queryIdentifier,r=t.views.get(a);if(!r){let l=iu(n,s?i:null),o=!1;l?o=!0:i instanceof P?(l=tm(n,i),o=!1):(l=P.EMPTY_NODE,o=!1);const u=Bu(new Mi(l,o,!1),new Mi(i,s,!1));return new R2(e,u)}return r}function B2(t,e,n,i,s,a){const r=IS(t,e,i,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),I2(r,n),k2(r,n)}function j2(t,e,n,i){const s=e._queryIdentifier,a=[];let r=[];const l=Oi(t);if(s==="default")for(const[o,u]of t.views.entries())r=r.concat(yy(u,n,i)),gy(u)&&(t.views.delete(o),u.query._queryParams.loadsAllData()||a.push(u.query));else{const o=t.views.get(s);o&&(r=r.concat(yy(o,n,i)),gy(o)&&(t.views.delete(s),o.query._queryParams.loadsAllData()||a.push(o.query)))}return l&&!Oi(t)&&a.push(new(U2())(e._repo,e._path)),{removed:a,events:r}}function kS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ti(t,e){let n=null;for(const i of t.views.values())n=n||D2(i,e);return n}function LS(t,e){if(e._queryParams.loadsAllData())return Hu(t);{const i=e._queryIdentifier;return t.views.get(i)}}function US(t,e){return LS(t,e)!=null}function Oi(t){return Hu(t)!=null}function Hu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu;function H2(t){D(!lu,"__referenceConstructor has already been defined"),lu=t}function P2(){return D(lu,"Reference.ts has not been loaded"),lu}let V2=1;class vy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new be(null),this.pendingWriteTree_=y2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function q2(t,e,n,i,s){return a2(t.pendingWriteTree_,e,n,i,s),s?Da(t,new cs(Zd(),e,n)):[]}function G2(t,e,n,i){r2(t.pendingWriteTree_,e,n,i);const s=be.fromObject(n);return Da(t,new pa(Zd(),e,s))}function Qi(t,e,n=!1){const i=l2(t.pendingWriteTree_,e);if(o2(t.pendingWriteTree_,e)){let a=new be(null);return i.snap!=null?a=a.set(le(),!0):it(i.children,r=>{a=a.set(new _e(r),!0)}),Da(t,new tu(i.path,a,n))}else return[]}function gl(t,e,n){return Da(t,new cs(Jd(),e,n))}function F2(t,e,n){const i=be.fromObject(n);return Da(t,new pa(Jd(),e,i))}function Y2(t,e){return Da(t,new Gr(Jd(),e))}function Q2(t,e,n){const i=am(t,n);if(i){const s=rm(i),a=s.path,r=s.queryId,l=lt(a,e),o=new Gr(em(r),l);return lm(t,a,o)}else return[]}function ou(t,e,n,i,s=!1){const a=e._path,r=t.syncPointTree_.get(a);let l=[];if(r&&(e._queryIdentifier==="default"||US(r,e))){const o=j2(r,e,n,i);z2(r)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const u=o.removed;if(l=o.events,!s){const h=u.findIndex(c=>c._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(a,(c,d)=>Oi(d));if(h&&!f){const c=t.syncPointTree_.subtree(a);if(!c.isEmpty()){const d=W2(c);for(let g=0;g<d.length;++g){const T=d[g],S=T.query,m=PS(t,T);t.listenProvider_.startListening(vr(S),Fr(t,S),m.hashFn,m.onComplete)}}}!f&&u.length>0&&!i&&(h?t.listenProvider_.stopListening(vr(e),null):u.forEach(c=>{const d=t.queryToTagMap.get(Pu(c));t.listenProvider_.stopListening(vr(c),d)}))}$2(t,u)}return l}function zS(t,e,n,i){const s=am(t,i);if(s!=null){const a=rm(s),r=a.path,l=a.queryId,o=lt(r,e),u=new cs(em(l),o,n);return lm(t,r,u)}else return[]}function K2(t,e,n,i){const s=am(t,i);if(s){const a=rm(s),r=a.path,l=a.queryId,o=lt(r,e),u=be.fromObject(n),h=new pa(em(l),o,u);return lm(t,r,h)}else return[]}function hh(t,e,n,i=!1){const s=e._path;let a=null,r=!1;t.syncPointTree_.foreachOnPath(s,(c,d)=>{const g=lt(c,s);a=a||Ti(d,g),r=r||Oi(d)});let l=t.syncPointTree_.get(s);l?(r=r||Oi(l),a=a||Ti(l,le())):(l=new DS,t.syncPointTree_=t.syncPointTree_.set(s,l));let o;a!=null?o=!0:(o=!1,a=P.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((d,g)=>{const T=Ti(g,le());T&&(a=a.updateImmediateChild(d,T))}));const u=US(l,e);if(!u&&!e._queryParams.loadsAllData()){const c=Pu(e);D(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");const d=Z2();t.queryToTagMap.set(c,d),t.tagToQueryMap.set(d,c)}const h=ju(t.pendingWriteTree_,s);let f=B2(l,e,n,h,a,o);if(!u&&!r&&!i){const c=LS(l,e);f=f.concat(J2(t,e,c))}return f}function BS(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(r,l)=>{const o=lt(r,e),u=Ti(l,o);if(u)return u});return AS(s,e,a,n,!0)}function X2(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(u,h)=>{const f=lt(u,n);i=i||Ti(h,f)});let s=t.syncPointTree_.get(n);s?i=i||Ti(s,le()):(s=new DS,t.syncPointTree_=t.syncPointTree_.set(n,s));const a=i!=null,r=a?new Mi(i,!0,!1):null,l=ju(t.pendingWriteTree_,e._path),o=IS(s,e,l,a?r.getNode():P.EMPTY_NODE,a);return O2(o)}function Da(t,e){return jS(e,t.syncPointTree_,null,ju(t.pendingWriteTree_,le()))}function jS(t,e,n,i){if(ee(t.path))return HS(t,e,n,i);{const s=e.get(le());n==null&&s!=null&&(n=Ti(s,le()));let a=[];const r=J(t.path),l=t.operationForChild(r),o=e.children.get(r);if(o&&l){const u=n?n.getImmediateChild(r):null,h=NS(i,r);a=a.concat(jS(l,o,u,h))}return s&&(a=a.concat(sm(s,t,i,n))),a}}function HS(t,e,n,i){const s=e.get(le());n==null&&s!=null&&(n=Ti(s,le()));let a=[];return e.children.inorderTraversal((r,l)=>{const o=n?n.getImmediateChild(r):null,u=NS(i,r),h=t.operationForChild(r);h&&(a=a.concat(HS(h,l,o,u)))}),s&&(a=a.concat(sm(s,t,i,n))),a}function PS(t,e){const n=e.query,i=Fr(t,n);return{hashFn:()=>(M2(e)||P.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?Q2(t,n._path,i):Y2(t,n._path);{const a=FR(s,n);return ou(t,n,null,a)}}}}function Fr(t,e){const n=Pu(e);return t.queryToTagMap.get(n)}function Pu(t){return t._path.toString()+"$"+t._queryIdentifier}function am(t,e){return t.tagToQueryMap.get(e)}function rm(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _e(t.substr(0,e))}}function lm(t,e,n){const i=t.syncPointTree_.get(e);D(i,"Missing sync point for query tag that we're tracking");const s=ju(t.pendingWriteTree_,e);return sm(i,n,s,null)}function W2(t){return t.fold((e,n,i)=>{if(n&&Oi(n))return[Hu(n)];{let s=[];return n&&(s=kS(n)),it(i,(a,r)=>{s=s.concat(r)}),s}})}function vr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(P2())(t._repo,t._path):t}function $2(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Pu(i),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function Z2(){return V2++}function J2(t,e,n){const i=e._path,s=Fr(t,e),a=PS(t,n),r=t.listenProvider_.startListening(vr(e),s,a.hashFn,a.onComplete),l=t.syncPointTree_.subtree(i);if(s)D(!Oi(l.value),"If we're adding a query, it shouldn't be shadowed");else{const o=l.fold((u,h,f)=>{if(!ee(u)&&h&&Oi(h))return[Hu(h).query];{let c=[];return h&&(c=c.concat(kS(h).map(d=>d.query))),it(f,(d,g)=>{c=c.concat(g)}),c}});for(let u=0;u<o.length;++u){const h=o[u];t.listenProvider_.stopListening(vr(h),Fr(t,h))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new om(n)}node(){return this.node_}}class um{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=De(this.path_,e);return new um(this.syncTree_,n)}node(){return BS(this.syncTree_,this.path_)}}const eO=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},by=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return tO(t[".sv"],e,n);if(typeof t[".sv"]=="object")return nO(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},tO=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},nO=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&D(!1,"Unexpected increment value: "+i);const s=e.node();if(D(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return typeof r!="number"?i:r+i},VS=function(t,e,n,i){return cm(e,new um(n,t),i)},iO=function(t,e,n){return cm(t,new om(e),n)};function cm(t,e,n){const i=t.getPriority().val(),s=by(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const r=t,l=by(r.getValue(),e,n);return l!==r.getValue()||s!==r.getPriority().val()?new qe(l,Qe(s)):t}else{const r=t;return a=r,s!==r.getPriority().val()&&(a=a.updatePriority(new qe(s))),r.forEachChild(Ie,(l,o)=>{const u=cm(o,e.getImmediateChild(l),n);u!==o&&(a=a.updateImmediateChild(l,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function hm(t,e){let n=e instanceof _e?e:new _e(e),i=t,s=J(n);for(;s!==null;){const a=ca(i.node.children,s)||{children:{},childCount:0};i=new fm(s,i,a),n=Se(n),s=J(n)}return i}function Ia(t){return t.node.value}function qS(t,e){t.node.value=e,dh(t)}function GS(t){return t.node.childCount>0}function sO(t){return Ia(t)===void 0&&!GS(t)}function Vu(t,e){it(t.node.children,(n,i)=>{e(new fm(n,t,i))})}function FS(t,e,n,i){n&&e(t),Vu(t,s=>{FS(s,e,!0)})}function aO(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function yl(t){return new _e(t.parent===null?t.name:yl(t.parent)+"/"+t.name)}function dh(t){t.parent!==null&&rO(t.parent,t.name,t)}function rO(t,e,n){const i=sO(n),s=mn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,dh(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,dh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/[\[\].#$\/\u0000-\u001F\u007F]/,oO=/[\[\].#$\u0000-\u001F\u007F]/,Yc=10*1024*1024,dm=function(t){return typeof t=="string"&&t.length!==0&&!lO.test(t)},YS=function(t){return typeof t=="string"&&t.length!==0&&!oO.test(t)},uO=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),YS(t)},cO=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Pd(t)||t&&typeof t=="object"&&mn(t,".sv")},mm=function(t,e,n){const i=n instanceof _e?new wM(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+qi(i));if(typeof e=="function")throw new Error(t+"contains a function "+qi(i)+" with contents = "+e.toString());if(Pd(e))throw new Error(t+"contains "+e.toString()+" "+qi(i));if(typeof e=="string"&&e.length>Yc/3&&Iu(e)>Yc)throw new Error(t+"contains a string greater than "+Yc+" utf8 bytes "+qi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(it(e,(r,l)=>{if(r===".value")s=!0;else if(r!==".priority"&&r!==".sv"&&(a=!0,!dm(r)))throw new Error(t+" contains an invalid key ("+r+") "+qi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);AM(i,r),mm(t,l,i),NM(i)}),s&&a)throw new Error(t+' contains ".value" child '+qi(i)+" in addition to actual children.")}},fO=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const a=Hr(i);for(let r=0;r<a.length;r++)if(!(a[r]===".priority"&&r===a.length-1)){if(!dm(a[r]))throw new Error(t+"contains an invalid key ("+a[r]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(TM);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&Ht(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},hO=function(t,e,n,i){const s=Nd(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const a=[];it(e,(r,l)=>{const o=new _e(r);if(mm(s,l,De(n,o)),Yd(o)===".priority"&&!cO(l))throw new Error(s+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(o)}),fO(s,a)},QS=function(t,e,n,i){if(!YS(n))throw new Error(Nd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dO=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),QS(t,e,n)},mO=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!dm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uO(n))throw new Error(Nd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pm(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],a=s.getPath();n!==null&&!Qd(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function KS(t,e,n){pm(t,n),XS(t,i=>Qd(i,e))}function fn(t,e,n){pm(t,n),XS(t,i=>Ht(i,e)||Ht(e,i))}function XS(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const a=s.path;e(a)?(gO(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function gO(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();pr&&Ze("event: "+n.toString()),Oa(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="repo_interrupt",_O=25;class vO{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=eu(),this.transactionQueueTree_=new fm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bO(t,e,n){if(t.stats_=Gd(t.repoInfo_),t.forceRestClient_||XR())t.server_=new Jo(t.repoInfo_,(i,s,a,r)=>{Sy(t,i,s,a,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ey(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new kn(t.repoInfo_,e,(i,s,a,r)=>{Sy(t,i,s,a,r)},i=>{Ey(t,i)},i=>{EO(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=eM(t.repoInfo_,()=>new JM(t.stats_,t.server_)),t.infoData_=new KM,t.infoSyncTree_=new vy({startListening:(i,s,a,r)=>{let l=[];const o=t.infoData_.getNode(i._path);return o.isEmpty()||(l=gl(t.infoSyncTree_,i._path,o),setTimeout(()=>{r("ok")},0)),l},stopListening:()=>{}}),ym(t,"connected",!1),t.serverSyncTree_=new vy({startListening:(i,s,a,r)=>(t.server_.listen(i,a,s,(l,o)=>{const u=r(l,o);fn(t.eventQueue_,i._path,u)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function SO(t){const n=t.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function gm(t){return eO({timestamp:SO(t)})}function Sy(t,e,n,i,s){t.dataUpdateCount++;const a=new _e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(s)if(i){const o=Vo(n,u=>Qe(u));r=K2(t.serverSyncTree_,a,o,s)}else{const o=Qe(n);r=zS(t.serverSyncTree_,a,o,s)}else if(i){const o=Vo(n,u=>Qe(u));r=F2(t.serverSyncTree_,a,o)}else{const o=Qe(n);r=gl(t.serverSyncTree_,a,o)}let l=a;r.length>0&&(l=Yr(t,a)),fn(t.eventQueue_,l,r)}function Ey(t,e){ym(t,"connected",e),e===!1&&wO(t)}function EO(t,e){it(e,(n,i)=>{ym(t,n,i)})}function ym(t,e,n){const i=new _e("/.info/"+e),s=Qe(n);t.infoData_.updateSnapshot(i,s);const a=gl(t.infoSyncTree_,i,s);fn(t.eventQueue_,i,a)}function WS(t){return t.nextWriteId_++}function CO(t,e,n){const i=X2(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const a=Qe(s).withIndex(e._queryParams.getIndex());hh(t.serverSyncTree_,e,n,!0);let r;if(e._queryParams.loadsAllData())r=gl(t.serverSyncTree_,e._path,a);else{const l=Fr(t.serverSyncTree_,e);r=zS(t.serverSyncTree_,e._path,a,l)}return fn(t.eventQueue_,e._path,r),ou(t.serverSyncTree_,e,n,null,!0),a},s=>(qu(t,"get for query "+Pe(e)+" failed: "+s),Promise.reject(new Error(s))))}function TO(t,e,n,i){qu(t,"update",{path:e.toString(),value:n});let s=!0;const a=gm(t),r={};if(it(n,(l,o)=>{s=!1,r[l]=VS(De(e,l),Qe(o),t.serverSyncTree_,a)}),s)Ze("update() called with empty data.  Don't do anything."),Cy(t,i,"ok",void 0);else{const l=WS(t),o=G2(t.serverSyncTree_,e,r,l);pm(t.eventQueue_,o),t.server_.merge(e.toString(),n,(u,h)=>{const f=u==="ok";f||yt("update at "+e+" failed: "+u);const c=Qi(t.serverSyncTree_,l,!f),d=c.length>0?Yr(t,e):e;fn(t.eventQueue_,d,c),Cy(t,i,u,h)}),it(n,u=>{const h=nE(t,De(e,u));Yr(t,h)}),fn(t.eventQueue_,e,[])}}function wO(t){qu(t,"onDisconnectEvents");const e=gm(t),n=eu();rh(t.onDisconnect_,le(),(s,a)=>{const r=VS(s,a,t.serverSyncTree_,e);ES(n,s,r)});let i=[];rh(n,le(),(s,a)=>{i=i.concat(gl(t.serverSyncTree_,s,a));const r=nE(t,s);Yr(t,r)}),t.onDisconnect_=eu(),fn(t.eventQueue_,le(),i)}function AO(t,e,n){let i;J(e._path)===".info"?i=hh(t.infoSyncTree_,e,n):i=hh(t.serverSyncTree_,e,n),KS(t.eventQueue_,e._path,i)}function $S(t,e,n){let i;J(e._path)===".info"?i=ou(t.infoSyncTree_,e,n):i=ou(t.serverSyncTree_,e,n),KS(t.eventQueue_,e._path,i)}function NO(t){t.persistentConnection_&&t.persistentConnection_.interrupt(yO)}function qu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ze(n,...e)}function Cy(t,e,n,i){e&&Oa(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;i&&(a+=": "+i);const r=new Error(a);r.code=s,e(r)}})}function ZS(t,e,n){return BS(t.serverSyncTree_,e,n)||P.EMPTY_NODE}function _m(t,e=t.transactionQueueTree_){if(e||Gu(t,e),Ia(e)){const n=eE(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&xO(t,yl(e),n)}else GS(e)&&Vu(e,n=>{_m(t,n)})}function xO(t,e,n){const i=n.map(u=>u.currentWriteId),s=ZS(t,e,i);let a=s;const r=s.hash();for(let u=0;u<n.length;u++){const h=n[u];D(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=lt(e,h.path);a=a.updateChild(f,h.currentOutputSnapshotRaw)}const l=a.val(!0),o=e;t.server_.put(o.toString(),l,u=>{qu(t,"transaction put response",{path:o.toString(),status:u});let h=[];if(u==="ok"){const f=[];for(let c=0;c<n.length;c++)n[c].status=2,h=h.concat(Qi(t.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&f.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();Gu(t,hm(t.transactionQueueTree_,e)),_m(t,t.transactionQueueTree_),fn(t.eventQueue_,e,h);for(let c=0;c<f.length;c++)Oa(f[c])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{yt("transaction at "+o.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Yr(t,e)}},r)}function Yr(t,e){const n=JS(t,e),i=yl(n),s=eE(t,n);return RO(t,s,i),i}function RO(t,e,n){if(e.length===0)return;const i=[];let s=[];const r=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const o=e[l],u=lt(n,o.path);let h=!1,f;if(D(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,f=o.abortReason,s=s.concat(Qi(t.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=_O)h=!0,f="maxretry",s=s.concat(Qi(t.serverSyncTree_,o.currentWriteId,!0));else{const c=ZS(t,o.path,r);o.currentInputSnapshot=c;const d=e[l].update(c.val());if(d!==void 0){mm("transaction failed: Data returned ",d,o.path);let g=Qe(d);typeof d=="object"&&d!=null&&mn(d,".priority")||(g=g.updatePriority(c.getPriority()));const S=o.currentWriteId,m=gm(t),p=iO(g,c,m);o.currentOutputSnapshotRaw=g,o.currentOutputSnapshotResolved=p,o.currentWriteId=WS(t),r.splice(r.indexOf(S),1),s=s.concat(q2(t.serverSyncTree_,o.path,p,o.currentWriteId,o.applyLocally)),s=s.concat(Qi(t.serverSyncTree_,S,!0))}else h=!0,f="nodata",s=s.concat(Qi(t.serverSyncTree_,o.currentWriteId,!0))}fn(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(c){setTimeout(c,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(f),!1,null))))}Gu(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Oa(i[l]);_m(t,t.transactionQueueTree_)}function JS(t,e){let n,i=t.transactionQueueTree_;for(n=J(e);n!==null&&Ia(i)===void 0;)i=hm(i,n),e=Se(e),n=J(e);return i}function eE(t,e){const n=[];return tE(t,e,n),n.sort((i,s)=>i.order-s.order),n}function tE(t,e,n){const i=Ia(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Vu(e,s=>{tE(t,s,n)})}function Gu(t,e){const n=Ia(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,qS(e,n.length>0?n:void 0)}Vu(e,i=>{Gu(t,i)})}function nE(t,e){const n=yl(JS(t,e)),i=hm(t.transactionQueueTree_,e);return aO(i,s=>{Qc(t,s)}),Qc(t,i),FS(i,s=>{Qc(t,s)}),n}function Qc(t,e){const n=Ia(e);if(n){const i=[];let s=[],a=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(D(a===r-1,"All SENT items should be at beginning of queue."),a=r,n[r].status=3,n[r].abortReason="set"):(D(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),s=s.concat(Qi(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&i.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));a===-1?qS(e,void 0):n.length=a+1,fn(t.eventQueue_,yl(e),s);for(let r=0;r<i.length;r++)Oa(i[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function OO(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):yt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Ty=function(t,e){const n=DO(t),i=n.namespace;n.domain==="firebase.com"&&qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||HR();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new aS(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new _e(n.pathString)}},DO=function(t){let e="",n="",i="",s="",a="",r=!0,l="https",o=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=MO(t.substring(h,f)));const c=OO(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(r=l==="https"||l==="wss",o=parseInt(e.substring(u+1),10)):u=e.length;const d=e.slice(0,u);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),a=i}"ns"in c&&(a=c.ns)}return{host:e,port:o,domain:n,subdomain:i,secure:r,scheme:l,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pe(this.snapshot.exportVal())}}class kO{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return ee(this._path)?null:Yd(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=uy(this._queryParams),n=Vd(e);return n==="{}"?"default":n}get _queryObject(){return uy(this._queryParams)}isEqual(e){if(e=Mt(e),!(e instanceof bm))return!1;const n=this._repo===e._repo,i=Qd(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+CM(this._path)}}class Yn extends bm{constructor(e,n){super(e,n,new $d,!1)}get parent(){const e=mS(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Qr{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new _e(e),i=mh(this.ref,e);return new Qr(this._node.getChild(n),i,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Qr(s,mh(this.ref,i),Ie)))}hasChild(e){const n=new _e(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ot(t,e){return t=Mt(t),t._checkNotDeleted("ref"),e!==void 0?mh(t._root,e):t._root}function mh(t,e){return t=Mt(t),J(t._path)===null?dO("child","path",e):QS("child","path",e),new Yn(t._repo,De(t._path,e))}function bs(t,e){hO("update",e,t._path);const n=new Du;return TO(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Sm(t){t=Mt(t);const e=new vm(()=>{}),n=new _l(e);return CO(t._repo,t,n).then(i=>new Qr(i,new Yn(t._repo,t._path),t._queryParams.getIndex()))}class _l{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new IO("value",this,new Qr(e.snapshotNode,new Yn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kO(this,e,n):null}matches(e){return e instanceof _l?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function LO(t,e,n,i,s){const a=new vm(n,void 0),r=new _l(a);return AO(t._repo,t,r),()=>$S(t._repo,t,r)}function Em(t,e,n,i){return LO(t,"value",e)}function Fu(t,e,n){let i=null;const s=n?new vm(n):null;i=new _l(s),$S(t._repo,t,i)}L2(Yn);H2(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="FIREBASE_DATABASE_EMULATOR_HOST",ph={};let zO=!1;function BO(t,e,n,i){const s=e.lastIndexOf(":"),a=e.substring(0,s),r=Na(a);t.repoInfo_=new aS(e,r,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function jO(t,e,n,i,s){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=Ty(a,s),l=r.repoInfo,o;typeof process<"u"&&Fg&&(o=Fg[UO]),o?(a=`http://${o}?ns=${l.namespace}`,r=Ty(a,s),l=r.repoInfo):r.repoInfo.secure;const u=new $R(t.name,t.options,e);mO("Invalid Firebase Database URL",r),ee(r.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=PO(l,t,u,new WR(t,n));return new VO(h,t)}function HO(t,e){const n=ph[e];(!n||n[t.key]!==t)&&qn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),NO(t),delete n[t.key]}function PO(t,e,n,i){let s=ph[e.name];s||(s={},ph[e.name]=s);let a=s[t.toURLString()];return a&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new vO(t,zO,n,i),s[t.toURLString()]=a,a}class VO{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&qn("Cannot call "+e+" on a deleted database.")}}function qO(t=cb(),e){const n=Md(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=aA("database");i&&GO(n,...i)}return n}function GO(t,e,n,i={}){t=Mt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&rs(i,a.repoInfo_.emulatorOptions))return;qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let r;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new lo(lo.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:rA(i.mockUserToken,t.app.options.projectId);r=new lo(l)}Na(e)&&(ib(e),sb("Database",!0)),BO(a,s,i,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){kR(Ra),fa(new ls("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return jO(i,s,a,n)},"PUBLIC").setMultipleInstances(!0)),Ei(Yg,Qg,t),Ei(Yg,Qg,"esm2020")}kn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};kn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};FO();const YO={apiKey:"AIzaSyDks3_CoJfEpj2bqTCGeQZhGibXgY9n9l8",authDomain:"shopping-spree-94c4d.firebaseapp.com",projectId:"shopping-spree-94c4d",storageBucket:"shopping-spree-94c4d.firebasestorage.app",messagingSenderId:"289860492862",appId:"1:289860492862:web:63f3b31fe637472280fb6f",databaseURL:"https://shopping-spree-94c4d-default-rtdb.europe-west1.firebasedatabase.app"};let jl=null,es=null,wy=null;const Yu=[],Cm="buildInfo";function st(){return jl||(jl=ub(YO),es=DR(jl),wy=qO(jl)),{auth:es,database:wy}}function QO(){const{auth:t}=st();return new Promise(e=>{const n=Db(t,i=>{n(),e(i)},()=>{n(),e(null)})})}function Tm(t){const{auth:e}=st();return Db(e,t)}async function iE(){const{auth:t}=st(),e=new Cn,i=(await Px(t,e)).user;if(!await wm(i.uid)){await KO(i),await Ib(t);const a=new Error(`${i.email} is not whitelisted yet. You've been added to the waiting list.`);throw a.code="auth/waiting-list",a.waitingUid=i.uid,a}return i}async function wm(t){const{database:e}=st(),n=Ot(e,`whitelist/${t}`);return(await Sm(n)).exists()}async function KO(t){const{database:e}=st(),n=Ot(e,`waitingList/${t.uid}`);await bs(n,{email:t.email,displayName:t.displayName||"",requestedAt:new Date().toISOString(),status:"pending"})}async function sE(){es&&await Ib(es)}function Am(){return(es==null?void 0:es.currentUser)||null}async function gh(){const{database:t}=st(),e=Ot(t,"family/shared"),n=await Sm(e);if(!n.exists())return null;const i=n.val();return i.items&&typeof i.items=="object"&&!Array.isArray(i.items)&&(i.items=Object.values(i.items)),i}async function aE(){const{database:t}=st(),e=Ot(t,Cm),n=await Sm(e);return n.exists()?n.val():null}function rE(t){return{lastModified:new Date().toISOString(),lastModifiedBy:(t==null?void 0:t.email)??"Local user"}}async function lE(t,e,n){const{database:i,auth:s}=st(),a=s.currentUser;if(!a)throw new Error("User not authenticated");const r=rE(a);await bs(Ot(i,"family/shared"),{[`budget/${t}/${e}`]:n,"budget/metadata/lastModified":r.lastModified,"budget/metadata/lastModifiedBy":r.lastModifiedBy})}async function Gi(t){const{database:e,auth:n}=st(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await bs(Ot(e,"family/shared"),{[`items/${t.id}`]:t,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function oE(t){const{database:e,auth:n}=st(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await bs(Ot(e,"family/shared"),{[`items/${t}`]:null,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function uE(t){const{database:e,auth:n}=st(),i=n.currentUser;if(!i)throw new Error("User not authenticated");const s=rE(i),a=Ot(e,"family/shared");await bs(a,{budget:t,"budget/metadata/lastModified":s.lastModified,"budget/metadata/lastModifiedBy":s.lastModifiedBy})}async function cE(t){const{database:e,auth:n}=st(),i=n.currentUser;if(!i)throw new Error("User not authenticated");const s=t.reduce((r,l)=>(r[l.id]=l,r),{}),a=Ot(e,"family/shared");await bs(a,{items:s,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function fE(t){const{database:e,auth:n}=st(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await bs(Ot(e,Cm),{...t,lastUpdatedAt:new Date().toISOString(),lastUpdatedBy:i.email})}function XO(t){const{database:e}=st(),n=Ot(e,"family/shared/budget"),i=s=>{t(s.exists()?s.val():null)};return Em(n,i),Yu.push({ref:n,handler:i}),()=>Fu(n,"value",i)}function WO(t){const{database:e}=st(),n=Ot(e,"family/shared/items"),i=s=>{if(s.exists()){const a=s.val(),r=Object.values(a||{});t(r)}};return Em(n,i),Yu.push({ref:n,handler:i}),()=>Fu(n,"value",i)}function $O(t){const{database:e}=st(),n=Ot(e,Cm),i=s=>{t(s.exists()?s.val():null)};return Em(n,i),Yu.push({ref:n,handler:i}),()=>Fu(n,"value",i)}function ZO(){Yu.splice(0).forEach(({ref:t,handler:e})=>{Fu(t,"value",e)})}const hE=Object.freeze(Object.defineProperty({__proto__:null,deleteItem:oE,getCurrentUser:Am,isUserWhitelisted:wm,listenToBuildInfo:$O,listenToFamilyBudget:XO,listenToFamilyItems:WO,loadBuildInfoFromDatabase:aE,loadFamilyData:gh,onAuthChange:Tm,saveBuildInfo:fE,saveFamilyBudget:uE,saveFamilyItems:cE,signInWithGoogle:iE,signOut:sE,stopListening:ZO,updateBudgetField:lE,updateItem:Gi,waitForAuthReady:QO},Symbol.toStringTag,{value:"Module"})),Nm=100,uu=2;function Xn(t=0){const e=Number(t);return((Number.isFinite(e)?e:0)/Nm).toFixed(2)}function JO(t){const e=Math.round(parseFloat(t??"0")*Nm);return Number.isFinite(e)?e:0}function xm(){return{currencyVersion:uu,metadata:{lastModified:null,lastModifiedBy:null},weekly:{target:0,actual:0}}}function br(t){const e=(t==null?void 0:t.currencyVersion)!==uu,n=t&&typeof t=="object"?t:xm(),i=l=>{const o=Number(l);return Number.isFinite(o)?Math.round(e?o*Nm:o):0},s=n!=null&&n.metadata&&typeof n.metadata=="object"?n.metadata:{},a=(n==null?void 0:n.weekly)||(n==null?void 0:n.wants)||{};return{budget:{currencyVersion:uu,metadata:{lastModified:typeof s.lastModified=="string"?s.lastModified:typeof n.lastModified=="string"?n.lastModified:null,lastModifiedBy:typeof s.lastModifiedBy=="string"?s.lastModifiedBy:typeof n.lastModifiedBy=="string"?n.lastModifiedBy:null},weekly:{target:i(a.target??0),actual:i(a.actual??0)}},migrated:e}}const Wn={BUDGET:"shopping_spree_budget",ITEMS:"shopping_spree_items"},Ay=(t,e)=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error("Local Storage Error",n),e}},Ya=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Local Storage Save Error",n)}};function cu(){return!!Am()}async function Ny(t){if(cu())try{await uE(t)}catch(e){console.error("Firebase sync error:",e)}}async function eD(t){if(cu())try{await cE(t)}catch(e){console.error("Firebase sync error:",e)}}const Qa={getBudget:async()=>{const t=Ay(Wn.BUDGET,xm()),{budget:e,migrated:n}=br(t);if(n&&Ya(Wn.BUDGET,e),cu())try{const i=await gh();if(i&&i.budget){const{budget:s,migrated:a}=br(i.budget);return Ya(Wn.BUDGET,s),a&&await Ny(s),s}}catch(i){console.error("Firebase load error:",i)}return e},saveBudget:async t=>{const{budget:e}=br(t);Ya(Wn.BUDGET,e),await Ny(e)},getItems:async()=>{let t=Ay(Wn.ITEMS,[]);if(Array.isArray(t)||(t=t&&typeof t=="object"?Object.values(t):[]),cu())try{const e=await gh();if(e&&e.items){let n=e.items;return Array.isArray(n)||(n=n&&typeof n=="object"?Object.values(n):[]),Ya(Wn.ITEMS,n),n}}catch(e){console.error("Firebase load error:",e)}return t},saveItems:async t=>{Ya(Wn.ITEMS,t),await eD(t)},getKeys:()=>Wn};function tD(t,e){return t-e}const nD=48,iD="2026-01-03T08:56:16.749Z",yh={buildNumber:nD,builtAt:iD},dE=b.createContext(),sD=[{id:"demo-1",name:"Milk",isInStock:!1,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-2",name:"Eggs",isInStock:!0,isOnShoppingList:!1,activatedAt:Date.now()},{id:"demo-3",name:"Bread",isInStock:!1,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-4",name:"Coffee",isInStock:!0,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-5",name:"Ice Cream",isInStock:!1,isOnShoppingList:!1}],aD=br({weekly:{target:2e3,actual:150}}).budget;function rD({children:t}){const[e,n]=b.useState(xm()),[i,s]=b.useState([]),[a,r]=b.useState(!0),[l,o]=b.useState(null),[u,h]=b.useState(typeof navigator>"u"?!0:navigator.onLine),f=b.useRef(!1);b.useEffect(()=>{(async()=>{var k;const[A,O]=await Promise.all([Qa.getBudget(),Qa.getItems()]),R=Array.isArray(O)?O:[];R.length===0&&(!A||Number((k=A.weekly)==null?void 0:k.target)===0)?(n(aD),s(sD)):(n(A),s(R)),r(!1)})()},[]),b.useEffect(()=>{const M=Tm(A=>{o(A)});return()=>M==null?void 0:M()},[]),b.useEffect(()=>{if(typeof window>"u")return;const M=()=>h(navigator.onLine);return window.addEventListener("online",M),window.addEventListener("offline",M),()=>{window.removeEventListener("online",M),window.removeEventListener("offline",M)}},[]),b.useEffect(()=>{!a&&!f.current&&Qa.saveBudget(e),f.current=!1},[e,a]),b.useEffect(()=>{!a&&!f.current&&Qa.saveItems(i),f.current=!1},[i,a]),b.useEffect(()=>{if(a||!l)return;let M;return X0(()=>Promise.resolve().then(()=>hE),[]).then(async({listenToFamilyBudget:A,listenToFamilyItems:O,stopListening:R})=>{const k=A(G=>{if(!G)return;const{budget:ie,migrated:ce}=br(G);f.current=!0,n(ie),localStorage.setItem("shopping_spree_budget",JSON.stringify(ie)),ce&&Qa.saveBudget(ie).catch(console.error)}),U=O(G=>{if(!G)return;f.current=!0;const ie=Array.isArray(G)?G:[];s(ie),localStorage.setItem("shopping_spree_items",JSON.stringify(ie))});M=()=>{k==null||k(),U==null||U(),R()}}).catch(A=>{console.error("Firebase listener error:",A)}),()=>{M==null||M()}},[a,l]),b.useEffect(()=>{if(a||!l||!u)return;(async()=>{try{if(!await wm(l.uid))return;const O=await aE(),R=Number(O==null?void 0:O.buildNumber),k=Number(yh.buildNumber);Number.isFinite(k)&&(!Number.isFinite(R)||R<k)&&await fE({buildNumber:k,builtAt:yh.builtAt})}catch(A){console.error("Failed to sync build info to database",A)}})()},[a,l,u]);const c=(M,A,O)=>{if(M!=="weekly")return;const R=Math.round(Number(O)||0),k={lastModified:new Date().toISOString(),lastModifiedBy:(l==null?void 0:l.email)??"Local user"};n(U=>{const G={...U,currencyVersion:U.currencyVersion??uu,metadata:{...U.metadata,...k},weekly:{...U.weekly,[A]:R}};return l&&lE(M,A,R).catch(console.error),G})},d=M=>{const A=M.trim();if(!A)return;const O=i.find(k=>k.name.toLowerCase()===A.toLowerCase());if(O)return O;const R={id:crypto.randomUUID(),name:A,isInStock:!1,isOnShoppingList:!1,activatedAt:Date.now()};return l&&Gi(R).catch(console.error),s(k=>[...k,R]),R},g=(M,A)=>{s(O=>O.map(R=>{if(R.id!==M)return R;const k=typeof A=="boolean"?A:!R.isInStock,U={...R,isInStock:k,activatedAt:k?Date.now():R.activatedAt};return l&&Gi(U).catch(console.error),U}))},T=(M,A)=>{s(O=>O.map(R=>{if(R.id!==M)return R;const k=typeof A=="boolean"?A:!R.isOnShoppingList,U={...R,isOnShoppingList:k,activatedAt:k?Date.now():R.activatedAt};return l&&Gi(U).catch(console.error),U}))},S=M=>{s(A=>A.map(O=>{if(O.id!==M)return O;const R={...O,isOnShoppingList:!1};return l&&Gi(R).catch(console.error),R}))},m=(M,A)=>{const O=A.trim();O&&s(R=>R.map(k=>{if(k.id!==M)return k;const U={...k,name:O};return l&&Gi(U).catch(console.error),U}))},p=(M,A="both")=>{s(O=>O.map(R=>{if(R.id!==M)return R;const k={...R,isInStock:A==="shop"?R.isInStock:!1,isOnShoppingList:A==="stock"?R.isOnShoppingList:!1};return l&&Gi(k).catch(console.error),k}))},y=M=>{s(A=>A.filter(O=>O.id!==M)),l&&oE(M).catch(console.error)},w=b.useMemo(()=>{var O,R;const M=Number((O=e==null?void 0:e.weekly)==null?void 0:O.target)||0,A=Number((R=e==null?void 0:e.weekly)==null?void 0:R.actual)||0;return{remaining:tD(M,A)}},[e]),I={budget:e,items:i,loading:a,currentUser:l,actions:{updateBudget:c,addItem:d,toggleStock:g,toggleShop:T,markBought:S,renameItem:m,hideItem:p,deleteItem:y},computed:{weeklyRemaining:(w==null?void 0:w.remaining)||0}};return v.jsx(dE.Provider,{value:I,children:t})}const Qu=()=>b.useContext(dE);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),xy=t=>{const e=oD(t);return e.charAt(0).toUpperCase()+e.slice(1)},mE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),uD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:r,...l},o)=>b.createElement("svg",{ref:o,...cD,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:mE("lucide",s),...!a&&!uD(l)&&{"aria-hidden":"true"},...l},[...r.map(([u,h])=>b.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=(t,e)=>{const n=b.forwardRef(({className:i,...s},a)=>b.createElement(fD,{ref:a,iconNode:e,className:mE(`lucide-${lD(xy(t))}`,`lucide-${t}`,i),...s}));return n.displayName=xy(t),n};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],dD=Dt("box",hD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pD=Dt("check",mD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yD=Dt("chevron-down",gD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vD=Dt("chevron-up",_D);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],SD=Dt("circle-x",bD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],CD=Dt("clock",ED);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],wD=Dt("ghost",TD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],ND=Dt("log-in",AD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RD=Dt("log-out",xD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],OD=Dt("package-plus",MD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ID=Dt("pencil",DD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ry=Dt("search",kD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Rm=Dt("shopping-cart",LD);function UD({compact:t=!1}){const[e,n]=b.useState(null),[i,s]=b.useState(""),[a,r]=b.useState(""),[l,o]=b.useState("idle");b.useEffect(()=>{let T;return n(Am()),T=Tm(S=>{n(S),S?(s(`Syncing as ${S.email}`),r(""),o("approved")):o("idle")}),()=>T==null?void 0:T()},[]);const u=async()=>{r(""),s(""),o("idle");try{const T=await iE();n(T),s(`Syncing as ${T.email}`),o("approved")}catch(T){T.code==="auth/waiting-list"?(s("Waiting for admin approval"),o("pending")):r(T.message)}},h=async()=>{try{await sE(),n(null),s("Signed out"),o("idle")}catch{r("Failed to sign out")}},f=l==="pending"&&!e,c=()=>e?t?"bg-white/20 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200":f?t?"bg-amber-500/80 text-white":"bg-amber-500 text-white hover:bg-amber-600":t?"bg-white/10 text-white/90":"bg-blue-500 text-white hover:bg-blue-600",d=()=>e?v.jsx(RD,{size:18}):f?v.jsx(CD,{size:18}):v.jsx(ND,{size:18}),g=()=>a?"text-red-600":f?"text-amber-600":"text-green-600";return v.jsxs("div",{className:`flex items-center gap-2 ${t?"text-white":"bg-white rounded-xl shadow-sm p-4 border border-brand-100"}`,children:[v.jsxs("button",{onClick:e?h:u,className:`flex items-center justify-center h-9 px-3 rounded-full transition ${c()}`,"aria-label":e?"Sign out of Google":"Sign in with Google",title:e?"Sign out of Google":"Sign in with Google",children:[d(),!t&&v.jsx("span",{className:"ml-2 text-sm font-medium",children:e?"Sign Out":f?"Pending":"Sign In"})]}),!t&&v.jsxs("div",{className:"flex-1 text-sm text-gray-700 min-w-0",children:[v.jsx("p",{className:"font-medium truncate",children:e?e.email:"Sign in to sync across devices"}),(i||a)&&v.jsx("p",{className:g(),children:a||i})]}),t&&(i||a)&&v.jsx("span",{className:"sr-only","aria-live":"polite",children:a||i})]})}function zD(){var fe,E,_,B,H;const{computed:t,actions:e,budget:n,loading:i}=Qu(),[s,a]=b.useState(!1),[r,l]=b.useState(null),[o,u]=b.useState(""),[h,f]=b.useState(!1),[c,d]=b.useState(null),[g,T]=b.useState(""),S=b.useRef({}),m=b.useRef(null),[p,y]=b.useState({top:0,left:0,width:0}),w=C=>{if(!C)return"";try{const x=new Date(C),z=j=>j.toString().padStart(2,"0");return`${z(x.getDate())}/${z(x.getMonth()+1)}/${x.getFullYear()} ${z(x.getHours())}:${z(x.getMinutes())}:${z(x.getSeconds())}`}catch{return C}};b.useEffect(()=>{let C;return X0(async()=>{const{listenToBuildInfo:x}=await Promise.resolve().then(()=>hE);return{listenToBuildInfo:x}},void 0).then(({listenToBuildInfo:x})=>{C=x(z=>l(z))}).catch(x=>{console.error("Build info listener error:",x)}),()=>C==null?void 0:C()},[]);const I=async()=>{u(""),f(!0);try{if("caches"in window){const C=await caches.keys();await Promise.all(C.map(x=>caches.delete(x)))}if("serviceWorker"in navigator){const C=await navigator.serviceWorker.getRegistrations();await Promise.all(C.map(x=>x.unregister()))}u("Update applied. Reloading"),window.location.reload()}catch(C){console.error("Failed to clear local cache",C),u("Update failed. Please refresh manually."),f(!1)}},M=(C,x)=>`${C}-${x}`,A=(C,x)=>(c==null?void 0:c.category)===C&&(c==null?void 0:c.field)===x,O=(C,x)=>{const z=S.current[M(C,x)];if(!z)return;const j=z.getBoundingClientRect(),K=j.left+window.scrollX,se=j.bottom+window.scrollY,re=Math.max(j.width,220),he=Math.max(0,window.innerWidth+window.scrollX-re-12);y({left:Math.min(K,he),top:se+8,width:re})},R=(C,x)=>{d({category:C,field:x}),T(""),O(C,x)},k=(C,x,z)=>{d({category:C,field:x}),T(z),O(C,x)},U=()=>{setTimeout(()=>{var j;const C=document.activeElement,x=Object.values(S.current).includes(C),z=(j=m.current)==null?void 0:j.contains(C);!x&&!z&&(d(null),T(""))},0)},G=()=>JO(g),ie=C=>{var he;if(!c)return;const{category:x,field:z}=c,j=Number((he=n==null?void 0:n[x])==null?void 0:he[z])||0,K=G();let se=j;C==="set"&&(se=K),C==="add"&&(se=j+K),C==="sub"&&(se=j-K),e.updateBudget(x,z,se),T("");const re=S.current[M(x,z)];re==null||re.focus(),re==null||re.select(),O(x,z)};if(b.useEffect(()=>{const C=()=>{c&&O(c.category,c.field)};return window.addEventListener("resize",C),window.addEventListener("scroll",C,!0),()=>{window.removeEventListener("resize",C),window.removeEventListener("scroll",C,!0)}},[c]),i)return v.jsx("div",{className:"h-24 bg-brand-500 animate-pulse"});const ce=t.weeklyRemaining,Xe=ce<0,L=Xn(ce),Y=Xn(((fe=n==null?void 0:n.weekly)==null?void 0:fe.target)??0),V=Xn(((E=n==null?void 0:n.weekly)==null?void 0:E.actual)??0);return v.jsxs(v.Fragment,{children:[v.jsxs("header",{className:"bg-brand-500 text-white shadow-md z-10 transition-all duration-300 relative",children:[v.jsxs("div",{className:"px-4 pt-3 pb-2 grid grid-cols-[1fr_auto_1fr] items-center",children:[v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("div",{className:"opacity-80 text-xs font-medium uppercase tracking-wider",children:"Weekly Budget"}),v.jsxs("div",{className:"bg-brand-600 px-2 py-0.5 rounded text-xs font-medium opacity-90 w-fit",children:["Budget: ",Y]})]}),v.jsxs("button",{type:"button",onClick:()=>a(!s),className:"justify-self-center flex flex-col items-center justify-center gap-1 text-center cursor-pointer active:opacity-90 transition-opacity",children:[v.jsx("div",{className:`text-3xl font-bold tracking-tight transition-colors duration-300 ${Xe?"text-red-200":"text-white"}`,children:L}),v.jsx("div",{className:"text-xs opacity-70",children:"Remaining"}),v.jsx("div",{className:"flex justify-center -mt-1 opacity-50",children:s?v.jsx(vD,{size:16}):v.jsx(yD,{size:16})})]}),v.jsxs("div",{className:"flex flex-col items-end text-right gap-1",children:[v.jsxs("div",{className:"text-xs opacity-80",children:["Spent: ",V]}),v.jsx(UD,{compact:!0})]})]}),v.jsx("div",{className:`bg-brand-600 overflow-hidden transition-all duration-300 ease-in-out ${s?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsxs("div",{className:"flex items-start justify-between gap-4 text-xs uppercase tracking-wide text-brand-100",children:[v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("span",{className:"font-semibold",children:"Budget"}),v.jsx("span",{className:"text-[11px] opacity-80",children:"Configuration"})]}),v.jsxs("div",{className:"flex flex-col items-end gap-1 text-right",children:[v.jsx("span",{className:"text-[10px] font-semibold tracking-widest uppercase text-brand-200",children:"Last Modified"}),v.jsx("span",{className:"text-[11px] font-semibold text-white",children:(_=n==null?void 0:n.metadata)!=null&&_.lastModified?w(n.metadata.lastModified):""}),(B=n==null?void 0:n.metadata)!=null&&B.lastModifiedBy?v.jsxs("span",{className:"text-[10px] text-brand-200",children:["by ",n.metadata.lastModifiedBy]}):null]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex flex-col gap-0.5",children:[v.jsx("span",{className:"font-semibold",children:"Weekly Budget"}),v.jsx("span",{className:"text-[11px] opacity-80",children:"Set your limit for the week"})]}),v.jsx("input",{ref:C=>{S.current[M("weekly","target")]=C},type:"number",className:"w-28 bg-brand-700 text-white text-right rounded px-2 py-1 focus:ring-2 focus:ring-white outline-none",value:A("weekly","target")?g:Xn(n.weekly.target),onChange:C=>k("weekly","target",C.target.value),onFocus:()=>R("weekly","target"),onBlur:U,onClick:C=>C.stopPropagation(),placeholder:Xn(n.weekly.target)})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex flex-col gap-0.5",children:[v.jsx("span",{className:"font-semibold",children:"Spent This Week"}),v.jsx("span",{className:"text-[11px] opacity-80",children:"Track what you used"})]}),v.jsx("input",{ref:C=>{S.current[M("weekly","actual")]=C},type:"number",className:"w-28 bg-brand-700 text-white text-right rounded px-2 py-1 focus:ring-2 focus:ring-white outline-none",value:A("weekly","actual")?g:Xn(n.weekly.actual),onChange:C=>k("weekly","actual",C.target.value),onFocus:()=>R("weekly","actual"),onBlur:U,onClick:C=>C.stopPropagation(),placeholder:Xn(n.weekly.actual)})]}),v.jsx("div",{className:"flex justify-end text-sm font-semibold text-white",children:v.jsxs("span",{className:Xe?"text-red-200":"text-white",children:["Remaining: ",L]})})]}),v.jsx("div",{className:"mt-4 pt-4 border-t border-brand-500/60 flex justify-end",children:v.jsxs("div",{className:"text-sm font-semibold text-white flex flex-col items-end gap-2 text-right w-full",children:[v.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-end",children:[v.jsxs("span",{children:["Build #",yh.buildNumber]}),v.jsx("span",{className:"text-white/40",children:"/"}),v.jsxs("span",{children:["DB #",(r==null?void 0:r.buildNumber)??""]}),r!=null&&r.builtAt?v.jsxs("span",{className:"text-[11px] font-medium text-white/60",children:["(",w(r.builtAt),")"]}):v.jsx("span",{className:"text-[11px] font-medium text-white/60",children:"Waiting for database build metadata"}),v.jsx("button",{type:"button",onClick:I,disabled:h,className:"text-xs bg-white text-brand-700 font-semibold px-2.5 py-1 rounded-lg shadow-sm hover:bg-brand-50 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:h?"Updating":"Update"})]}),o&&v.jsx("div",{className:"text-[11px] font-medium text-white/70","aria-live":"polite",children:o})]})})]})})]}),c&&v.jsx("div",{className:"fixed inset-0 z-30 pointer-events-none",children:v.jsxs("div",{ref:m,className:"pointer-events-auto max-w-xs bg-white text-gray-800 rounded-xl shadow-lg border border-gray-100 p-2",style:{top:p.top,left:p.left,width:p.width||void 0,position:"absolute"},children:[v.jsxs("div",{className:"flex items-center justify-between text-[11px] font-semibold uppercase tracking-wide text-gray-500 mb-1",children:[v.jsxs("span",{children:[c.category,"  ",c.field]}),v.jsx("span",{className:"text-gray-700",children:Xn(((H=n==null?void 0:n[c.category])==null?void 0:H[c.field])??0)})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{type:"button",onMouseDown:C=>C.preventDefault(),onClick:()=>ie("set"),className:"flex-1 py-1.5 rounded-lg font-semibold text-[13px] uppercase bg-gray-100 text-gray-800 hover:bg-gray-200 active:scale-[0.99] transition",children:"= Set"}),v.jsx("button",{type:"button",onMouseDown:C=>C.preventDefault(),onClick:()=>ie("add"),className:"flex-1 py-1.5 rounded-lg font-semibold text-[13px] uppercase bg-green-100 text-green-800 hover:bg-green-200 active:scale-[0.99] transition",children:"+ Add"}),v.jsx("button",{type:"button",onMouseDown:C=>C.preventDefault(),onClick:()=>ie("sub"),className:"flex-1 py-1.5 rounded-lg font-semibold text-[13px] uppercase bg-red-100 text-red-800 hover:bg-red-200 active:scale-[0.99] transition",children:" Sub"})]})]})})]})}function BD({children:t}){const e=ki(),n=P0(),i=b.useRef(null),s=b.useRef(null),[a,r]=b.useState(null),l=S=>e.pathname===S,o=(S,m)=>{r(m),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{r(null)},200),n(S)},u=(S,m)=>{i.current={...S,source:m}},h=(S,m)=>{if(!i.current||i.current.source!==m)return;const p=S.x-i.current.x,y=S.y-i.current.y;Math.abs(p)>60&&Math.abs(p)>Math.abs(y)&&(p<0&&!l("/stock")?o("/stock","left"):p>0&&!l("/")&&o("/","right")),i.current=null},f=S=>{var m;S.pointerType!=="touch"||((m=i.current)==null?void 0:m.source)==="touch"||u({x:S.clientX,y:S.clientY},"pointer")},c=S=>{S.pointerType==="touch"&&h({x:S.clientX,y:S.clientY},"pointer")},d=S=>{var m;(m=S.touches)!=null&&m.length&&u({x:S.touches[0].clientX,y:S.touches[0].clientY},"touch")},g=S=>{var m;(m=S.changedTouches)!=null&&m.length&&h({x:S.changedTouches[0].clientX,y:S.changedTouches[0].clientY},"touch")};b.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]);const T=a==="left"?"swipe-slide-left":a==="right"?"swipe-slide-right":"";return v.jsxs("div",{className:"flex flex-col h-screen bg-brand-50 text-gray-800 font-sans overflow-hidden",children:[v.jsx(zD,{}),v.jsxs("main",{className:`flex-1 overflow-y-auto pb-24 relative p-4 space-y-4 ${T}`,onPointerDown:f,onPointerUp:c,onTouchStart:d,onTouchEnd:g,style:{touchAction:"pan-y"},"aria-label":"Swipe left or right on empty space to switch between tabs",children:[v.jsx("p",{className:"sr-only",children:"Swipe left or right on empty space to switch between Shop and Stock. Swipe an item left to open hide or delete options; use the visible buttons to buy or move items."}),t]}),v.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-brand-100 shadow-lg pb-safe",children:v.jsxs("div",{className:"flex justify-around items-center h-16",children:[v.jsxs(jo,{to:"/",className:`flex flex-col items-center justify-center w-full h-full transition-colors ${l("/")?"text-brand-600":"text-gray-400"}`,children:[v.jsx(Rm,{size:24}),v.jsx("span",{className:"text-xs font-medium mt-1",children:"Shop"})]}),v.jsxs(jo,{to:"/stock",className:`flex flex-col items-center justify-center w-full h-full transition-colors ${l("/stock")?"text-brand-600":"text-gray-400"}`,children:[v.jsx(dD,{size:24}),v.jsx("span",{className:"text-xs font-medium mt-1",children:"Stock"})]})]})})]})}var Mm={};(function t(e,n,i,s){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),r=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;try{var E=new OffscreenCanvas(1,1),_=E.getContext("2d");_.fillRect(0,0,1,1);var B=E.transferToImageBitmap();_.createPattern(B,"no-repeat")}catch{return!1}return!0}();function o(){}function u(E){var _=n.exports.Promise,B=_!==void 0?_:e.Promise;return typeof B=="function"?new B(E):(E(o,o),null)}var h=function(E,_){return{transform:function(B){if(E)return B;if(_.has(B))return _.get(B);var H=new OffscreenCanvas(B.width,B.height),C=H.getContext("2d");return C.drawImage(B,0,0),_.set(B,H),H},clear:function(){_.clear()}}}(l,new Map),f=function(){var E=Math.floor(16.666666666666668),_,B,H={},C=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(x){var z=Math.random();return H[z]=requestAnimationFrame(function j(K){C===K||C+E-1<K?(C=K,delete H[z],x()):H[z]=requestAnimationFrame(j)}),z},B=function(x){H[x]&&cancelAnimationFrame(H[x])}):(_=function(x){return setTimeout(x,E)},B=function(x){return clearTimeout(x)}),{frame:_,cancel:B}}(),c=function(){var E,_,B={};function H(C){function x(z,j){C.postMessage({options:z||{},callback:j})}C.init=function(j){var K=j.transferControlToOffscreen();C.postMessage({canvas:K},[K])},C.fire=function(j,K,se){if(_)return x(j,null),_;var re=Math.random().toString(36).slice(2);return _=u(function(he){function Re(We){We.data.callback===re&&(delete B[re],C.removeEventListener("message",Re),_=null,h.clear(),se(),he())}C.addEventListener("message",Re),x(j,re),B[re]=Re.bind(null,{data:{callback:re}})}),_},C.reset=function(){C.postMessage({reset:!0});for(var j in B)B[j](),delete B[j]}}return function(){if(E)return E;if(!i&&a){var C=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{E=new Worker(URL.createObjectURL(new Blob([C])))}catch(x){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",x),null}H(E)}return E}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(E,_){return _?_(E):E}function T(E){return E!=null}function S(E,_,B){return g(E&&T(E[_])?E[_]:d[_],B)}function m(E){return E<0?0:Math.floor(E)}function p(E,_){return Math.floor(Math.random()*(_-E))+E}function y(E){return parseInt(E,16)}function w(E){return E.map(I)}function I(E){var _=String(E).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:y(_.substring(0,2)),g:y(_.substring(2,4)),b:y(_.substring(4,6))}}function M(E){var _=S(E,"origin",Object);return _.x=S(_,"x",Number),_.y=S(_,"y",Number),_}function A(E){E.width=document.documentElement.clientWidth,E.height=document.documentElement.clientHeight}function O(E){var _=E.getBoundingClientRect();E.width=_.width,E.height=_.height}function R(E){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=E,_}function k(E,_,B,H,C,x,z,j,K){E.save(),E.translate(_,B),E.rotate(x),E.scale(H,C),E.arc(0,0,1,z,j,K),E.restore()}function U(E){var _=E.angle*(Math.PI/180),B=E.spread*(Math.PI/180);return{x:E.x,y:E.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:E.startVelocity*.5+Math.random()*E.startVelocity,angle2D:-_+(.5*B-Math.random()*B),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:E.color,shape:E.shape,tick:0,totalTicks:E.ticks,decay:E.decay,drift:E.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:E.gravity*3,ovalScalar:.6,scalar:E.scalar,flat:E.flat}}function G(E,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var B=_.tick++/_.totalTicks,H=_.x+_.random*_.tiltCos,C=_.y+_.random*_.tiltSin,x=_.wobbleX+_.random*_.tiltCos,z=_.wobbleY+_.random*_.tiltSin;if(E.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-B)+")",E.beginPath(),r&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))E.fill(Y(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(x-H)*.1,Math.abs(z-C)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var j=Math.PI/10*_.wobble,K=Math.abs(x-H)*.1,se=Math.abs(z-C)*.1,re=_.shape.bitmap.width*_.scalar,he=_.shape.bitmap.height*_.scalar,Re=new DOMMatrix([Math.cos(j)*K,Math.sin(j)*K,-Math.sin(j)*se,Math.cos(j)*se,_.x,_.y]);Re.multiplySelf(new DOMMatrix(_.shape.matrix));var We=E.createPattern(h.transform(_.shape.bitmap),"no-repeat");We.setTransform(Re),E.globalAlpha=1-B,E.fillStyle=We,E.fillRect(_.x-re/2,_.y-he/2,re,he),E.globalAlpha=1}else if(_.shape==="circle")E.ellipse?E.ellipse(_.x,_.y,Math.abs(x-H)*_.ovalScalar,Math.abs(z-C)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):k(E,_.x,_.y,Math.abs(x-H)*_.ovalScalar,Math.abs(z-C)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var ae=Math.PI/2*3,ct=4*_.scalar,Ft=8*_.scalar,Yt=_.x,pn=_.y,Ui=5,sn=Math.PI/Ui;Ui--;)Yt=_.x+Math.cos(ae)*Ft,pn=_.y+Math.sin(ae)*Ft,E.lineTo(Yt,pn),ae+=sn,Yt=_.x+Math.cos(ae)*ct,pn=_.y+Math.sin(ae)*ct,E.lineTo(Yt,pn),ae+=sn;else E.moveTo(Math.floor(_.x),Math.floor(_.y)),E.lineTo(Math.floor(_.wobbleX),Math.floor(C)),E.lineTo(Math.floor(x),Math.floor(z)),E.lineTo(Math.floor(H),Math.floor(_.wobbleY));return E.closePath(),E.fill(),_.tick<_.totalTicks}function ie(E,_,B,H,C){var x=_.slice(),z=E.getContext("2d"),j,K,se=u(function(re){function he(){j=K=null,z.clearRect(0,0,H.width,H.height),h.clear(),C(),re()}function Re(){i&&!(H.width===s.width&&H.height===s.height)&&(H.width=E.width=s.width,H.height=E.height=s.height),!H.width&&!H.height&&(B(E),H.width=E.width,H.height=E.height),z.clearRect(0,0,H.width,H.height),x=x.filter(function(We){return G(z,We)}),x.length?j=f.frame(Re):he()}j=f.frame(Re),K=he});return{addFettis:function(re){return x=x.concat(re),se},canvas:E,promise:se,reset:function(){j&&f.cancel(j),K&&K()}}}function ce(E,_){var B=!E,H=!!S(_||{},"resize"),C=!1,x=S(_,"disableForReducedMotion",Boolean),z=a&&!!S(_||{},"useWorker"),j=z?c():null,K=B?A:O,se=E&&j?!!E.__confetti_initialized:!1,re=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,he;function Re(ae,ct,Ft){for(var Yt=S(ae,"particleCount",m),pn=S(ae,"angle",Number),Ui=S(ae,"spread",Number),sn=S(ae,"startVelocity",Number),vE=S(ae,"decay",Number),bE=S(ae,"gravity",Number),SE=S(ae,"drift",Number),Dm=S(ae,"colors",w),EE=S(ae,"ticks",Number),Im=S(ae,"shapes"),CE=S(ae,"scalar"),TE=!!S(ae,"flat"),km=M(ae),Lm=Yt,Ku=[],wE=E.width*km.x,AE=E.height*km.y;Lm--;)Ku.push(U({x:wE,y:AE,angle:pn,spread:Ui,startVelocity:sn,color:Dm[Lm%Dm.length],shape:Im[p(0,Im.length)],ticks:EE,decay:vE,gravity:bE,drift:SE,scalar:CE,flat:TE}));return he?he.addFettis(Ku):(he=ie(E,Ku,K,ct,Ft),he.promise)}function We(ae){var ct=x||S(ae,"disableForReducedMotion",Boolean),Ft=S(ae,"zIndex",Number);if(ct&&re)return u(function(sn){sn()});B&&he?E=he.canvas:B&&!E&&(E=R(Ft),document.body.appendChild(E)),H&&!se&&K(E);var Yt={width:E.width,height:E.height};j&&!se&&j.init(E),se=!0,j&&(E.__confetti_initialized=!0);function pn(){if(j){var sn={getBoundingClientRect:function(){if(!B)return E.getBoundingClientRect()}};K(sn),j.postMessage({resize:{width:sn.width,height:sn.height}});return}Yt.width=Yt.height=null}function Ui(){he=null,H&&(C=!1,e.removeEventListener("resize",pn)),B&&E&&(document.body.contains(E)&&document.body.removeChild(E),E=null,se=!1)}return H&&!C&&(C=!0,e.addEventListener("resize",pn,!1)),j?j.fire(ae,Yt,Ui):Re(ae,Yt,Ui)}return We.reset=function(){j&&j.reset(),he&&he.reset()},We}var Xe;function L(){return Xe||(Xe=ce(null,{useWorker:!0,resize:!0})),Xe}function Y(E,_,B,H,C,x,z){var j=new Path2D(E),K=new Path2D;K.addPath(j,new DOMMatrix(_));var se=new Path2D;return se.addPath(K,new DOMMatrix([Math.cos(z)*C,Math.sin(z)*C,-Math.sin(z)*x,Math.cos(z)*x,B,H])),se}function V(E){if(!r)throw new Error("path confetti are not supported in this browser");var _,B;typeof E=="string"?_=E:(_=E.path,B=E.matrix);var H=new Path2D(_),C=document.createElement("canvas"),x=C.getContext("2d");if(!B){for(var z=1e3,j=z,K=z,se=0,re=0,he,Re,We=0;We<z;We+=2)for(var ae=0;ae<z;ae+=2)x.isPointInPath(H,We,ae,"nonzero")&&(j=Math.min(j,We),K=Math.min(K,ae),se=Math.max(se,We),re=Math.max(re,ae));he=se-j,Re=re-K;var ct=10,Ft=Math.min(ct/he,ct/Re);B=[Ft,0,0,Ft,-Math.round(he/2+j)*Ft,-Math.round(Re/2+K)*Ft]}return{type:"path",path:_,matrix:B}}function fe(E){var _,B=1,H="#000000",C='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof E=="string"?_=E:(_=E.text,B="scalar"in E?E.scalar:B,C="fontFamily"in E?E.fontFamily:C,H="color"in E?E.color:H);var x=10*B,z=""+x+"px "+C,j=new OffscreenCanvas(x,x),K=j.getContext("2d");K.font=z;var se=K.measureText(_),re=Math.ceil(se.actualBoundingBoxRight+se.actualBoundingBoxLeft),he=Math.ceil(se.actualBoundingBoxAscent+se.actualBoundingBoxDescent),Re=2,We=se.actualBoundingBoxLeft+Re,ae=se.actualBoundingBoxAscent+Re;re+=Re+Re,he+=Re+Re,j=new OffscreenCanvas(re,he),K=j.getContext("2d"),K.font=z,K.fillStyle=H,K.fillText(_,We,ae);var ct=1/B;return{type:"bitmap",bitmap:j.transferToImageBitmap(),matrix:[ct,0,0,ct,-re*ct/2,-he*ct/2]}}n.exports=function(){return L().apply(this,arguments)},n.exports.reset=function(){L().reset()},n.exports.create=ce,n.exports.shapeFromPath=V,n.exports.shapeFromText=fe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Mm,!1);const jD=Mm.exports;Mm.exports.create;function pE({item:t,mode:e}){const{actions:n}=Qu(),[i,s]=b.useState(!1),[a,r]=b.useState(t.name),l=b.useRef(null),o=b.useRef({x:0,y:0}),u=b.useRef(null),[h,f]=b.useState(0),[c,d]=b.useState(!1),[g,T]=b.useState(!1);b.useEffect(()=>{i&&l.current&&(l.current.focus(),l.current.select())},[i]);const S=C=>{const x={x:((C==null?void 0:C.x)??window.innerWidth/2)/window.innerWidth,y:((C==null?void 0:C.y)??window.innerHeight/2)/window.innerHeight};jD({origin:x,particleCount:50,spread:60,colors:["#f43f5e","#fb7185","#ffe4e6"]})},m=(C,x)=>{if(C!=null&&C.target){const z=C.target.getBoundingClientRect();S({x:z.left+z.width/2,y:z.top+z.height/2})}else S(x||o.current);n.markBought(t.id)},p=()=>{n.toggleShop(t.id)},y=()=>{r(t.name),s(!0)},w=()=>{a.trim()?n.renameItem(t.id,a):r(t.name),s(!1)},I=()=>{r(t.name),s(!1)},M=C=>{C.key==="Enter"?w():C.key==="Escape"&&I()},A=C=>Math.abs(C)<10?null:C<0?"hide":null,O=()=>{f(0),d(!1),u.current=null},R=(C,x)=>{u.current={...C,source:x},o.current=C,d(!0)},k=(C,x)=>{if(!c||!u.current||u.current.source!==x||g)return;o.current=C;const z=C.x-u.current.x;f(Math.min(z,0))},U=C=>{var z;if(!c||((z=u.current)==null?void 0:z.source)!==C||g)return;(Math.abs(h)>80?A(h):null)==="hide"&&T(!0),O()},G=C=>{var x;g||C.pointerType==="mouse"&&C.button!==0||((x=u.current)==null?void 0:x.source)!=="touch"&&(C.target.closest("button")||(C.stopPropagation(),R({x:C.clientX,y:C.clientY},"pointer")))},ie=C=>{k({x:C.clientX,y:C.clientY},"pointer")},ce=C=>{C.stopPropagation(),U("pointer")},Xe=C=>{var x;!((x=C.touches)!=null&&x.length)||g||C.target.closest("button")||(C.stopPropagation(),R({x:C.touches[0].clientX,y:C.touches[0].clientY},"touch"))},L=C=>{var x;(x=C.touches)!=null&&x.length&&k({x:C.touches[0].clientX,y:C.touches[0].clientY},"touch")},Y=C=>{var x;(x=C.changedTouches)!=null&&x.length&&(C.stopPropagation(),o.current={x:C.changedTouches[0].clientX,y:C.changedTouches[0].clientY},U("touch"))},V=()=>{n.hideItem(t.id,e),T(!1)},fe=()=>{n.deleteItem(t.id),T(!1)},E=()=>T(!1),_=A(h);return v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:`absolute inset-0 rounded-xl px-4 flex items-center justify-end select-none transition-colors duration-150 ${_==="hide"?"bg-red-50":"bg-gray-50"}`,style:{touchAction:"pan-y"},children:v.jsx("span",{className:`text-xs sm:text-sm font-semibold whitespace-nowrap text-red-500 text-right transition-opacity ${h<-10?"opacity-100":"opacity-40"}`,children:"Swipe left to hide or delete"})}),v.jsxs("div",{"data-item-id":t.id,className:`bg-white rounded-xl shadow-sm p-4 flex items-center justify-between group animate-pop transition-transform duration-150 ${c?"cursor-grabbing":"cursor-pointer"}`,style:{transform:`translateX(${h}px)`,touchAction:"pan-y"},onPointerDown:G,onPointerMove:ie,onPointerUp:ce,onPointerCancel:ce,onTouchStart:Xe,onTouchMove:L,onTouchEnd:Y,children:[v.jsx("div",{className:"flex-1 flex items-center gap-2",children:i?v.jsx("input",{ref:l,type:"text",value:a,onChange:C=>r(C.target.value),onBlur:w,onKeyDown:M,className:"flex-1 font-medium text-lg text-gray-800 border-b-2 border-brand-500 outline-none bg-transparent"}):v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"font-medium text-lg text-gray-800",children:t.name}),v.jsx("button",{onClick:y,className:"p-1 hover:bg-gray-100 rounded transition-opacity",title:"Rename",children:v.jsx(ID,{size:16,className:"text-gray-400"})})]})}),v.jsxs("div",{className:"flex items-center gap-2",children:[e==="shop"&&v.jsx("button",{onClick:m,className:"w-10 h-10 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center hover:bg-brand-500 hover:text-white transition-colors active:scale-90",title:"Mark Bought",children:v.jsx(pD,{size:20})}),e==="stock"&&v.jsx("button",{onClick:p,className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors active:scale-90 ${t.isOnShoppingList?"bg-brand-500 text-white hover:bg-brand-600":"bg-gray-100 text-gray-600 hover:bg-brand-500 hover:text-white"}`,title:t.isOnShoppingList?"Remove from Shopping List":"Add to Shopping List",children:v.jsx(Rm,{size:20})})]})]}),g&&v.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 backdrop-blur-sm flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-4 space-y-3",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Hide or delete this item?"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Choose whether to temporarily hide it from the list or delete it permanently."})]}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{type:"button",onClick:E,className:"px-3 py-2 rounded-lg text-sm font-semibold text-gray-600 hover:bg-gray-100",children:"Cancel"}),v.jsx("button",{type:"button",onClick:V,className:"px-3 py-2 rounded-lg text-sm font-semibold text-red-600 bg-red-50 hover:bg-red-100",children:"Hide"}),v.jsx("button",{type:"button",onClick:fe,className:"px-3 py-2 rounded-lg text-sm font-semibold text-white bg-red-500 hover:bg-red-600",children:"Delete"})]})]})})]})}function Zs(t){return t.trim().toLowerCase()}function HD(t,e){if(e&&/\s$/.test(e))return null;const n=Zs(e);if(!n)return null;const i=t.filter(a=>{var r;return(r=a.name)==null?void 0:r.toLowerCase().includes(n)});return i.length===0?null:[...i].sort((a,r)=>{const l=a.name.toLowerCase().startsWith(n),o=r.name.toLowerCase().startsWith(n);if(l!==o)return l?-1:1;const u=a.name.length-r.name.length;return u!==0?u:a.name.localeCompare(r.name,void 0,{sensitivity:"base"})})[0]}const Om=(t,e)=>t.name.localeCompare(e.name,void 0,{sensitivity:"base"});function PD({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,inputRef:r}){const[l,o]=b.useState(""),[u,h]=b.useState(""),[f,c]=b.useState(null),[d,g]=b.useState(!1),T=b.useRef(!1),S=b.useRef(!1),m=b.useRef(!1),p=b.useRef(!1);b.useEffect(()=>{a==null||a(u.trim())},[u,a]),b.useEffect(()=>{f&&(r!=null&&r.current)&&(r.current.setSelectionRange(f.start,f.end),c(null))},[f,l,r]);const y=()=>{o(""),h(""),g(!1)},w=(U,G=d)=>{if(S.current=!1,!U){o(""),c({start:0,end:0});return}if(G){o(U),c({start:U.length,end:U.length});return}const ie=HD(t,U);if(ie){const ce=ie.name,Xe=ce.toLowerCase(),L=Zs(U);if(Xe.startsWith(L)&&ce.length>U.length){S.current=!0,o(ce),c({start:U.length,end:ce.length});return}}o(U),c({start:U.length,end:U.length})},I=U=>{var C,x;const G=U.target.value,ie=U.inputType||((C=U.nativeEvent)==null?void 0:C.inputType);if(((x=U.nativeEvent)==null?void 0:x.isComposing)||U.isComposing||ie==="insertCompositionText"||p.current){p.current=!0,o(G),h(G),c({start:G.length,end:G.length});return}const Xe=U.target.selectionStart??G.length;U.target.selectionEnd;const L=G.slice(0,Xe),Y=ie==="deleteContentBackward"||T.current,V=(ie==null?void 0:ie.startsWith("insert"))??!Y,fe=S.current,E=T.current;V&&(fe||E)&&(m.current=!0,S.current=!1),T.current=!1;const B=Y?!0:V||G===""?!1:d,H=m.current&&V;H&&(m.current=!1),g(B),h(L),w(L,H?!0:B)},M=()=>{p.current=!0},A=()=>{p.current=!1,m.current=!0},O=U=>{if(!(r!=null&&r.current))return!1;const{selectionStart:G,selectionEnd:ie}=r.current;if(G!==ie){U.preventDefault();const ce=l.slice(0,G)+l.slice(ie);return m.current=!0,g(!0),h(ce),o(ce),c({start:ce.length,end:ce.length}),!0}if(l.length>u.length){U.preventDefault();const ce=l.slice(0,G);return m.current=!0,g(!0),h(ce),o(ce),c({start:ce.length,end:ce.length}),!0}return!1},R=()=>{const U=l.trim();if(!U)return{status:"noop"};const G=t.find(ce=>Zs(ce.name)===Zs(U));if(G)return e(G)?(s==null||s(G),y(),{status:"existing",item:G}):(n(G),y(),{status:"reactivated",item:G});const ie=i(U);return ie?(n(ie),y(),{status:"created",item:ie}):(y(),{status:"noop"})};return{value:l,handleChange:I,handleKeyDown:U=>{if(U.key==="Backspace"&&(T.current=!0,O(U))){T.current=!1;return}U.key==="Enter"&&(U.preventDefault(),R())},handleSubmit:R,handleCompositionStart:M,handleCompositionEnd:A,clearInput:y}}function gE({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,placeholder:r="Search or add item...",actionIcon:l,actionLabel:o}){const u=b.useRef(null),{value:h,handleChange:f,handleKeyDown:c,handleSubmit:d,handleCompositionStart:g,handleCompositionEnd:T,clearInput:S}=PD({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,inputRef:u});return v.jsx("form",{onSubmit:m=>{m.preventDefault(),d()},className:"sticky top-0 bg-brand-50 pt-2 pb-4 z-10",children:v.jsxs("div",{className:"relative",children:[v.jsx(Ry,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),v.jsx("input",{ref:u,type:"text",placeholder:r,className:"w-full bg-white rounded-xl py-3 pl-10 pr-28 shadow-sm focus:ring-2 focus:ring-brand-500 outline-none",value:h,onChange:f,onCompositionStart:g,onCompositionEnd:T,onKeyDown:c,"aria-label":r}),h.trim()&&v.jsx("button",{type:"button",onClick:()=>{var m;S(),(m=u.current)==null||m.focus()},className:"absolute right-12 top-1/2 -translate-y-1/2 inline-flex h-9 w-9 items-center justify-center rounded-full text-gray-500 transition-colors hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 focus:ring-offset-white","aria-label":"Clear filter",children:v.jsx(SD,{size:18,"aria-hidden":!0})}),v.jsxs("button",{type:"submit",disabled:!h.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-brand-500 text-white p-1.5 rounded-lg disabled:opacity-50",children:[l?v.jsx(l,{size:20,"aria-hidden":!0}):v.jsx(Ry,{size:20,"aria-hidden":!0}),v.jsx("span",{className:"sr-only",children:o||"Submit item"})]})]})})}function yE({items:t,isActive:e}){const[n,i]=b.useState(""),s=Zs(n),a=s.length>0,r=b.useMemo(()=>a?t.filter(c=>Zs(c.name).includes(s)):[],[a,t,s]),l=b.useMemo(()=>[...r].sort((c,d)=>{const g=Number(e(c))-Number(e(d));return g!==0?g:Om(c,d)}),[r,e]),o=b.useMemo(()=>l.filter(c=>!e(c)),[l,e]),u=b.useMemo(()=>o.filter(c=>!c.isInStock&&!c.isOnShoppingList),[o]),h=b.useMemo(()=>o.filter(c=>c.isInStock||c.isOnShoppingList),[o]),f=b.useMemo(()=>l.filter(e),[l,e]);return{query:n,setQuery:i,normalizedQuery:s,hasQuery:a,sortedMatches:l,visibleAddableMatches:h,hiddenMatches:u,activeMatches:f}}function _E(t){const e=document.querySelector(`[data-item-id="${t}"]`);e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.classList.add("omni-highlighted"),window.setTimeout(()=>{e.classList.remove("omni-highlighted")},1e3))}function VD(){const{items:t,actions:e}=Qu(),n=b.useCallback(g=>g.isOnShoppingList,[]),{query:i,setQuery:s,hasQuery:a,sortedMatches:r,visibleAddableMatches:l,hiddenMatches:o,activeMatches:u}=yE({items:t,isActive:n}),h=b.useMemo(()=>t.filter(n).sort(Om),[t,n]),f=g=>{e.toggleShop(g.id,!0)},c=g=>e.addItem(g),d=g=>{_E(g.id)};return v.jsxs("div",{className:"space-y-4",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Shopping List"}),v.jsx(gE,{items:t,isActive:n,activateItem:f,createItem:c,onExistingActive:d,onQueryChange:s,placeholder:"Search or Add item...",actionIcon:Rm,actionLabel:"Add to shopping list"}),h.length===0&&!a?v.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50 text-center",children:[v.jsx(wD,{size:48,className:"mb-4 text-brand-300"}),v.jsx("p",{children:"Your list is empty!"}),v.jsx("p",{className:"text-sm",children:"Check Stock to add items."})]}):a?v.jsx("div",{className:"space-y-2",children:r.length===0?v.jsxs("p",{className:"text-sm text-gray-500",children:['No matches found. Press Enter to add "',i.trim(),'".']}):v.jsxs("div",{className:"space-y-3",children:[l.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Available to add"}),l.map(g=>v.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex flex-col gap-0.5",children:[v.jsx("span",{className:"font-medium text-gray-800",children:g.name}),v.jsxs("div",{className:"flex gap-2 text-xs text-gray-500",children:[v.jsx("span",{children:"Not in current list"}),!g.isInStock&&v.jsx("span",{"aria-hidden":!0,children:""}),!g.isInStock&&v.jsx("span",{children:"Not in stock"})]})]}),v.jsx("button",{onClick:()=>e.toggleShop(g.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to list"})]},g.id))]}),o.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Hidden items"}),o.map(g=>v.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex flex-col gap-0.5",children:[v.jsx("span",{className:"font-medium text-gray-800",children:g.name}),v.jsxs("div",{className:"flex gap-2 text-xs text-gray-500",children:[v.jsx("span",{children:"Previously hidden"}),v.jsx("span",{"aria-hidden":!0,children:""}),v.jsx("span",{children:"Not in stock"})]})]}),v.jsx("button",{onClick:()=>e.toggleShop(g.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to list"})]},g.id))]}),u.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Already on your list"}),u.map(g=>v.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[v.jsx("span",{className:"font-medium text-gray-800",children:g.name}),v.jsx("button",{disabled:!0,className:"px-3 py-2 rounded-lg text-sm font-semibold bg-gray-100 text-gray-500 cursor-not-allowed",children:"On list"})]},g.id))]})]})}):h.map(g=>v.jsx(pE,{item:g,mode:"shop"},g.id))]})}function qD(){const{items:t,actions:e}=Qu(),n=b.useCallback(g=>g.isInStock,[]),{query:i,setQuery:s,hasQuery:a,sortedMatches:r,visibleAddableMatches:l,hiddenMatches:o,activeMatches:u}=yE({items:t,isActive:n}),h=b.useMemo(()=>t.filter(n).sort(Om),[t,n]),f=g=>{e.toggleStock(g.id,!0)},c=g=>e.addItem(g),d=g=>{_E(g.id)};return v.jsxs("div",{className:"space-y-4",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Stock Checklist"}),v.jsx(gE,{items:t,isActive:n,activateItem:f,createItem:c,onExistingActive:d,onQueryChange:s,placeholder:"Search or Add item...",actionIcon:OD,actionLabel:"Add to checklist"}),!a&&h.length===0&&v.jsx("div",{className:"text-center py-10 opacity-50",children:v.jsx("p",{children:"Your pantry is empty."})}),a?v.jsx("div",{className:"space-y-2",children:r.length===0?v.jsxs("p",{className:"text-sm text-gray-500",children:['No matches found. Press Enter to add "',i.trim(),'".']}):v.jsxs("div",{className:"space-y-3",children:[l.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Available to add"}),l.map(g=>v.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[v.jsx("span",{className:"font-medium text-gray-800",children:g.name}),v.jsx("button",{onClick:()=>e.toggleStock(g.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to checklist"})]},g.id))]}),o.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Hidden items"}),o.map(g=>v.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[v.jsx("span",{className:"font-medium text-gray-800",children:g.name}),v.jsx("button",{onClick:()=>e.toggleStock(g.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to checklist"})]},g.id))]}),u.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Already on checklist"}),u.map(g=>v.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[v.jsx("span",{className:"font-medium text-gray-800",children:g.name}),v.jsx("button",{disabled:!0,className:"px-3 py-2 rounded-lg text-sm font-semibold bg-gray-100 text-gray-500 cursor-not-allowed",children:"On checklist"})]},g.id))]})]})}):v.jsx("div",{className:"space-y-3",children:h.map(g=>v.jsx(pE,{item:g,mode:"stock"},g.id))})]})}function GD(){return v.jsx(rD,{children:v.jsx(Bw,{children:v.jsx(BD,{children:v.jsxs(pw,{children:[v.jsx(Yf,{path:"/",element:v.jsx(VD,{})}),v.jsx(Yf,{path:"/stock",element:v.jsx(qD,{})})]})})})})}function FD(){if("serviceWorker"in navigator){const n=`/shopping-spree/service-worker.js${Number.isFinite(48)?"?build=48":""}`;navigator.serviceWorker.register(n).then(i=>{const s=a=>{a&&a.addEventListener("statechange",()=>{a.state==="installed"&&navigator.serviceWorker.controller&&a.postMessage({type:"SKIP_WAITING"})})};s(i.installing),i.addEventListener("updatefound",()=>{s(i.installing)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()}),i.update()}).catch(i=>{console.error("Service worker registration failed:",i)})}}CT.createRoot(document.getElementById("root")).render(v.jsx(b.StrictMode,{children:v.jsx(GD,{})}));FD();

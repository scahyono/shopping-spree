(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var T_={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE=Symbol.for("react.transitional.element"),gE=Symbol.for("react.fragment");function C_(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:pE,type:t,key:i,ref:e!==void 0?e:null,props:n}}uu.Fragment=gE;uu.jsx=C_;uu.jsxs=C_;T_.exports=uu;var C=T_.exports,w_={exports:{}},F={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph=Symbol.for("react.transitional.element"),_E=Symbol.for("react.portal"),yE=Symbol.for("react.fragment"),vE=Symbol.for("react.strict_mode"),bE=Symbol.for("react.profiler"),SE=Symbol.for("react.consumer"),EE=Symbol.for("react.context"),TE=Symbol.for("react.forward_ref"),CE=Symbol.for("react.suspense"),wE=Symbol.for("react.memo"),A_=Symbol.for("react.lazy"),AE=Symbol.for("react.activity"),Om=Symbol.iterator;function NE(t){return t===null||typeof t!="object"?null:(t=Om&&t[Om]||t["@@iterator"],typeof t=="function"?t:null)}var N_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R_=Object.assign,x_={};function ga(t,e,n){this.props=t,this.context=e,this.refs=x_,this.updater=n||N_}ga.prototype.isReactComponent={};ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function O_(){}O_.prototype=ga.prototype;function gh(t,e,n){this.props=t,this.context=e,this.refs=x_,this.updater=n||N_}var _h=gh.prototype=new O_;_h.constructor=gh;R_(_h,ga.prototype);_h.isPureReactComponent=!0;var Mm=Array.isArray;function Yc(){}var Ee={H:null,A:null,T:null,S:null},M_=Object.prototype.hasOwnProperty;function yh(t,e,n){var i=n.ref;return{$$typeof:ph,type:t,key:e,ref:i!==void 0?i:null,props:n}}function RE(t,e){return yh(t.type,e,t.props)}function vh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ph}function xE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dm=/\/+/g;function Qu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xE(""+t.key):e.toString(36)}function OE(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Yc,Yc):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ts(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case ph:case _E:r=!0;break;case A_:return r=t._init,Ts(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+Qu(t,0):i,Mm(s)?(n="",r!=null&&(n=r.replace(Dm,"$&/")+"/"),Ts(s,e,n,"",function(u){return u})):s!=null&&(vh(s)&&(s=RE(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Dm,"$&/")+"/")+r)),e.push(s)),1;r=0;var l=i===""?".":i+":";if(Mm(t))for(var o=0;o<t.length;o++)i=t[o],a=l+Qu(i,o),r+=Ts(i,e,n,a,s);else if(o=NE(t),typeof o=="function")for(t=o.call(t),o=0;!(i=t.next()).done;)i=i.value,a=l+Qu(i,o++),r+=Ts(i,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return Ts(OE(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function pl(t,e,n){if(t==null)return t;var i=[],s=0;return Ts(t,i,"","",function(a){return e.call(n,a,s++)}),i}function ME(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Im=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},DE={map:pl,forEach:function(t,e,n){pl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pl(t,function(){e++}),e},toArray:function(t){return pl(t,function(e){return e})||[]},only:function(t){if(!vh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Activity=AE;F.Children=DE;F.Component=ga;F.Fragment=yE;F.Profiler=bE;F.PureComponent=gh;F.StrictMode=vE;F.Suspense=CE;F.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ee;F.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ee.H.useMemoCache(t)}};F.cache=function(t){return function(){return t.apply(null,arguments)}};F.cacheSignal=function(){return null};F.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=R_({},t.props),s=t.key;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)!M_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var r=Array(a),l=0;l<a;l++)r[l]=arguments[l+2];i.children=r}return yh(t.type,s,i)};F.createContext=function(t){return t={$$typeof:EE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:SE,_context:t},t};F.createElement=function(t,e,n){var i,s={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)M_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return yh(t,a,s)};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:TE,render:t}};F.isValidElement=vh;F.lazy=function(t){return{$$typeof:A_,_payload:{_status:-1,_result:t},_init:ME}};F.memo=function(t,e){return{$$typeof:wE,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=Ee.T,n={};Ee.T=n;try{var i=t(),s=Ee.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Yc,Im)}catch(a){Im(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ee.T=e}};F.unstable_useCacheRefresh=function(){return Ee.H.useCacheRefresh()};F.use=function(t){return Ee.H.use(t)};F.useActionState=function(t,e,n){return Ee.H.useActionState(t,e,n)};F.useCallback=function(t,e){return Ee.H.useCallback(t,e)};F.useContext=function(t){return Ee.H.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t,e){return Ee.H.useDeferredValue(t,e)};F.useEffect=function(t,e){return Ee.H.useEffect(t,e)};F.useEffectEvent=function(t){return Ee.H.useEffectEvent(t)};F.useId=function(){return Ee.H.useId()};F.useImperativeHandle=function(t,e,n){return Ee.H.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return Ee.H.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return Ee.H.useLayoutEffect(t,e)};F.useMemo=function(t,e){return Ee.H.useMemo(t,e)};F.useOptimistic=function(t,e){return Ee.H.useOptimistic(t,e)};F.useReducer=function(t,e,n){return Ee.H.useReducer(t,e,n)};F.useRef=function(t){return Ee.H.useRef(t)};F.useState=function(t){return Ee.H.useState(t)};F.useSyncExternalStore=function(t,e,n){return Ee.H.useSyncExternalStore(t,e,n)};F.useTransition=function(){return Ee.H.useTransition()};F.version="19.2.1";w_.exports=F;var S=w_.exports,D_={exports:{}},cu={},I_={exports:{}},k_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,Q){var V=I.length;I.push(Q);e:for(;0<V;){var D=V-1>>>1,b=I[D];if(0<s(b,Q))I[D]=Q,I[V]=b,V=D;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var Q=I[0],V=I.pop();if(V!==Q){I[0]=V;e:for(var D=0,b=I.length,y=b>>>1;D<y;){var L=2*(D+1)-1,U=I[L],H=L+1,G=I[H];if(0>s(U,V))H<b&&0>s(G,U)?(I[D]=G,I[H]=V,D=H):(I[D]=U,I[L]=V,D=L);else if(H<b&&0>s(G,V))I[D]=G,I[H]=V,D=H;else break e}}return Q}function s(I,Q){var V=I.sortIndex-Q.sortIndex;return V!==0?V:I.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();t.unstable_now=function(){return r.now()-l}}var o=[],u=[],f=1,h=null,c=3,d=!1,_=!1,E=!1,T=!1,m=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function v(I){for(var Q=n(u);Q!==null;){if(Q.callback===null)i(u);else if(Q.startTime<=I)i(u),Q.sortIndex=Q.expirationTime,e(o,Q);else break;Q=n(u)}}function N(I){if(E=!1,v(I),!_)if(n(o)!==null)_=!0,x||(x=!0,ye());else{var Q=n(u);Q!==null&&qt(N,Q.startTime-I)}}var x=!1,w=-1,R=5,M=-1;function k(){return T?!0:!(t.unstable_now()-M<R)}function q(){if(T=!1,x){var I=t.unstable_now();M=I;var Q=!0;try{e:{_=!1,E&&(E=!1,g(w),w=-1),d=!0;var V=c;try{t:{for(v(I),h=n(o);h!==null&&!(h.expirationTime>I&&k());){var D=h.callback;if(typeof D=="function"){h.callback=null,c=h.priorityLevel;var b=D(h.expirationTime<=I);if(I=t.unstable_now(),typeof b=="function"){h.callback=b,v(I),Q=!0;break t}h===n(o)&&i(o),v(I)}else i(o);h=n(o)}if(h!==null)Q=!0;else{var y=n(u);y!==null&&qt(N,y.startTime-I),Q=!1}}break e}finally{h=null,c=V,d=!1}Q=void 0}}finally{Q?ye():x=!1}}}var ye;if(typeof p=="function")ye=function(){p(q)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,nn=yt.port2;yt.port1.onmessage=q,ye=function(){nn.postMessage(null)}}else ye=function(){m(q,0)};function qt(I,Q){w=m(function(){I(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_next=function(I){switch(c){case 1:case 2:case 3:var Q=3;break;default:Q=c}var V=c;c=Q;try{return I()}finally{c=V}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(I,Q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=c;c=I;try{return Q()}finally{c=V}},t.unstable_scheduleCallback=function(I,Q,V){var D=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?D+V:D):V=D,I){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=V+b,I={id:f++,callback:Q,priorityLevel:I,startTime:V,expirationTime:b,sortIndex:-1},V>D?(I.sortIndex=V,e(u,I),n(o)===null&&I===n(u)&&(E?(g(w),w=-1):E=!0,qt(N,V-D))):(I.sortIndex=b,e(o,I),_||d||(_=!0,x||(x=!0,ye()))),I},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(I){var Q=c;return function(){var V=c;c=Q;try{return I.apply(this,arguments)}finally{c=V}}}})(k_);I_.exports=k_;var IE=I_.exports,L_={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE=S;function U_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qn(){}var it={d:{f:Qn,r:function(){throw Error(U_(522))},D:Qn,C:Qn,L:Qn,m:Qn,X:Qn,S:Qn,M:Qn},p:0,findDOMNode:null},LE=Symbol.for("react.portal");function UE(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:LE,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Wa=kE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function fu(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it;rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(U_(299));return UE(t,e,null,n)};rt.flushSync=function(t){var e=Wa.T,n=it.p;try{if(Wa.T=null,it.p=2,t)return t()}finally{Wa.T=e,it.p=n,it.d.f()}};rt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,it.d.C(t,e))};rt.prefetchDNS=function(t){typeof t=="string"&&it.d.D(t)};rt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=fu(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?it.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&it.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};rt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=fu(e.as,e.crossOrigin);it.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&it.d.M(t)};rt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=fu(n,e.crossOrigin);it.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};rt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=fu(e.as,e.crossOrigin);it.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else it.d.m(t)};rt.requestFormReset=function(t){it.d.r(t)};rt.unstable_batchedUpdates=function(t,e){return t(e)};rt.useFormState=function(t,e,n){return Wa.H.useFormState(t,e,n)};rt.useFormStatus=function(){return Wa.H.useHostTransitionStatus()};rt.version="19.2.1";function z_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z_)}catch(t){console.error(t)}}z_(),L_.exports=rt;var zE=L_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var je=IE,B_=S,BE=zE;function A(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function H_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function j_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P_(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function km(t){if(Gr(t)!==t)throw Error(A(188))}function HE(t){var e=t.alternate;if(!e){if(e=Gr(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return km(s),t;if(a===i)return km(s),e;a=a.sibling}throw Error(A(188))}if(n.return!==i.return)n=s,i=a;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,i=a;break}if(l===i){r=!0,i=s,n=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===n){r=!0,n=a,i=s;break}if(l===i){r=!0,i=a,n=s;break}l=l.sibling}if(!r)throw Error(A(189))}}if(n.alternate!==i)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function V_(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=V_(t),e!==null)return e;t=t.sibling}return null}var Te=Object.assign,jE=Symbol.for("react.element"),gl=Symbol.for("react.transitional.element"),Fa=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),q_=Symbol.for("react.strict_mode"),Qc=Symbol.for("react.profiler"),G_=Symbol.for("react.consumer"),Cn=Symbol.for("react.context"),bh=Symbol.for("react.forward_ref"),Kc=Symbol.for("react.suspense"),Xc=Symbol.for("react.suspense_list"),Sh=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),Wc=Symbol.for("react.activity"),PE=Symbol.for("react.memo_cache_sentinel"),Lm=Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=Lm&&t[Lm]||t["@@iterator"],typeof t=="function"?t:null)}var VE=Symbol.for("react.client.reference");function Zc(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===VE?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case As:return"Fragment";case Qc:return"Profiler";case q_:return"StrictMode";case Kc:return"Suspense";case Xc:return"SuspenseList";case Wc:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Fa:return"Portal";case Cn:return t.displayName||"Context";case G_:return(t._context.displayName||"Context")+".Consumer";case bh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sh:return e=t.displayName||null,e!==null?e:Zc(t.type)||"Memo";case Xn:e=t._payload,t=t._init;try{return Zc(t(e))}catch{}}return null}var Ya=Array.isArray,B=B_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=BE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qi={pending:!1,data:null,method:null,action:null},$c=[],Ns=-1;function hn(t){return{current:t}}function Ye(t){0>Ns||(t.current=$c[Ns],$c[Ns]=null,Ns--)}function _e(t,e){Ns++,$c[Ns]=t.current,t.current=e}var on=hn(null),_r=hn(null),ui=hn(null),lo=hn(null);function oo(t,e){switch(_e(ui,e),_e(_r,t),_e(on,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Pp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Pp(e),t=c0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ye(on),_e(on,t)}function $s(){Ye(on),Ye(_r),Ye(ui)}function Jc(t){t.memoizedState!==null&&_e(lo,t);var e=on.current,n=c0(e,t.type);e!==n&&(_e(_r,t),_e(on,n))}function uo(t){_r.current===t&&(Ye(on),Ye(_r)),lo.current===t&&(Ye(lo),Rr._currentValue=Qi)}var Ku,Um;function zi(t){if(Ku===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ku=e&&e[1]||"",Um=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ku+t+Um}var Xu=!1;function Wu(t,e){if(!t||Xu)return"";Xu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(d){var c=d}Reflect.construct(t,[],h)}else{try{h.call()}catch(d){c=d}t.call(h.prototype)}}else{try{throw Error()}catch(d){c=d}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(d){if(d&&c&&typeof d.stack=="string")return[d.stack,c.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var o=r.split(`
`),u=l.split(`
`);for(s=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(i===o.length||s===u.length)for(i=o.length-1,s=u.length-1;1<=i&&0<=s&&o[i]!==u[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==u[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==u[s]){var f=`
`+o[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=s);break}}}finally{Xu=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?zi(n):""}function qE(t,e){switch(t.tag){case 26:case 27:case 5:return zi(t.type);case 16:return zi("Lazy");case 13:return t.child!==e&&e!==null?zi("Suspense Fallback"):zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Wu(t.type,!1);case 11:return Wu(t.type.render,!1);case 1:return Wu(t.type,!0);case 31:return zi("Activity");default:return""}}function zm(t){try{var e="",n=null;do e+=qE(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ef=Object.prototype.hasOwnProperty,Eh=je.unstable_scheduleCallback,Zu=je.unstable_cancelCallback,GE=je.unstable_shouldYield,FE=je.unstable_requestPaint,Tt=je.unstable_now,YE=je.unstable_getCurrentPriorityLevel,F_=je.unstable_ImmediatePriority,Y_=je.unstable_UserBlockingPriority,co=je.unstable_NormalPriority,QE=je.unstable_LowPriority,Q_=je.unstable_IdlePriority,KE=je.log,XE=je.unstable_setDisableYieldValue,Fr=null,Ct=null;function si(t){if(typeof KE=="function"&&XE(t),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Fr,t)}catch{}}var wt=Math.clz32?Math.clz32:$E,WE=Math.log,ZE=Math.LN2;function $E(t){return t>>>=0,t===0?32:31-(WE(t)/ZE|0)|0}var _l=256,yl=262144,vl=4194304;function Bi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hu(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,a=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~a,i!==0?s=Bi(i):(r&=l,r!==0?s=Bi(r):n||(n=l&~t,n!==0&&(s=Bi(n))))):(l=i&~a,l!==0?s=Bi(l):r!==0?s=Bi(r):n||(n=i&~t,n!==0&&(s=Bi(n)))),s===0?0:e!==0&&e!==s&&!(e&a)&&(a=s&-s,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:s}function Yr(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function JE(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K_(){var t=vl;return vl<<=1,!(vl&62914560)&&(vl=4194304),t}function $u(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qr(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function e1(t,e,n,i,s,a){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,o=t.expirationTimes,u=t.hiddenUpdates;for(n=r&~n;0<n;){var f=31-wt(n),h=1<<f;l[f]=0,o[f]=-1;var c=u[f];if(c!==null)for(u[f]=null,f=0;f<c.length;f++){var d=c[f];d!==null&&(d.lane&=-536870913)}n&=~h}i!==0&&X_(t,i,0),a!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=a&~(r&~e))}function X_(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-wt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function W_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-wt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function Z_(t,e){var n=e&-e;return n=n&42?1:Th(n),n&(t.suspendedLanes|e)?0:n}function Th(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ch(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function $_(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:S0(t.type))}function Bm(t,e){var n=re.p;try{return re.p=t,e()}finally{re.p=n}}var Oi=Math.random().toString(36).slice(2),We="__reactFiber$"+Oi,pt="__reactProps$"+Oi,_a="__reactContainer$"+Oi,tf="__reactEvents$"+Oi,t1="__reactListeners$"+Oi,n1="__reactHandles$"+Oi,Hm="__reactResources$"+Oi,Kr="__reactMarker$"+Oi;function wh(t){delete t[We],delete t[pt],delete t[tf],delete t[t1],delete t[n1]}function Rs(t){var e=t[We];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_a]||n[We]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yp(t);t!==null;){if(n=t[We])return n;t=Yp(t)}return e}t=n,n=t.parentNode}return null}function ya(t){if(t=t[We]||t[_a]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Qa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(A(33))}function Hs(t){var e=t[Hm];return e||(e=t[Hm]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ge(t){t[Kr]=!0}var J_=new Set,ey={};function fs(t,e){Js(t,e),Js(t+"Capture",e)}function Js(t,e){for(ey[t]=e,t=0;t<e.length;t++)J_.add(e[t])}var i1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jm={},Pm={};function s1(t){return ef.call(Pm,t)?!0:ef.call(jm,t)?!1:i1.test(t)?Pm[t]=!0:(jm[t]=!0,!1)}function Bl(t,e,n){if(s1(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function bl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function gn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Dt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ty(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function a1(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nf(t){if(!t._valueTracker){var e=ty(t)?"checked":"value";t._valueTracker=a1(t,e,""+t[e])}}function ny(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ty(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function fo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var r1=/[\n"\\]/g;function Lt(t){return t.replace(r1,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function sf(t,e,n,i,s,a,r,l){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Dt(e)):t.value!==""+Dt(e)&&(t.value=""+Dt(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?af(t,r,Dt(e)):n!=null?af(t,r,Dt(n)):i!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Dt(l):t.removeAttribute("name")}function iy(t,e,n,i,s,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){nf(t);return}n=n!=null?""+Dt(n):"",e=e!=null?""+Dt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),nf(t)}function af(t,e,n){e==="number"&&fo(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function js(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Dt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sy(t,e,n){if(e!=null&&(e=""+Dt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Dt(n):""}function ay(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(A(92));if(Ya(i)){if(1<i.length)throw Error(A(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Dt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),nf(t)}function ea(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var l1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vm(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||l1.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function ry(t,e,n){if(e!=null&&typeof e!="object")throw Error(A(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Vm(t,s,i)}else for(var a in e)e.hasOwnProperty(a)&&Vm(t,a,e[a])}function Ah(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),u1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(t){return u1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function wn(){}var rf=null;function Nh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xs=null,Ps=null;function qm(t){var e=ya(t);if(e&&(t=e.stateNode)){var n=t[pt]||null;e:switch(t=e.stateNode,e.type){case"input":if(sf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[pt]||null;if(!s)throw Error(A(90));sf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&ny(i)}break e;case"textarea":sy(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&js(t,!!n.multiple,e,!1)}}}var Ju=!1;function ly(t,e,n){if(Ju)return t(e,n);Ju=!0;try{var i=t(e);return i}finally{if(Ju=!1,(xs!==null||Ps!==null)&&(Cu(),xs&&(e=xs,t=Ps,Ps=xs=null,qm(e),t)))for(e=0;e<t.length;e++)qm(t[e])}}function yr(t,e){var n=t.stateNode;if(n===null)return null;var i=n[pt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lf=!1;if(Ln)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){lf=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{lf=!1}var ai=null,Rh=null,jl=null;function oy(){if(jl)return jl;var t,e=Rh,n=e.length,i,s="value"in ai?ai.value:ai.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[a-i];i++);return jl=s.slice(t,1<i?1-i:void 0)}function Pl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sl(){return!0}function Gm(){return!1}function _t(t){function e(n,i,s,a,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sl:Gm,this.isPropagationStopped=Gm,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),e}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=_t(hs),Xr=Te({},hs,{view:0,detail:0}),c1=_t(Xr),ec,tc,La,mu=Te({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==La&&(La&&t.type==="mousemove"?(ec=t.screenX-La.screenX,tc=t.screenY-La.screenY):tc=ec=0,La=t),ec)},movementY:function(t){return"movementY"in t?t.movementY:tc}}),Fm=_t(mu),f1=Te({},mu,{dataTransfer:0}),h1=_t(f1),d1=Te({},Xr,{relatedTarget:0}),nc=_t(d1),m1=Te({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),p1=_t(m1),g1=Te({},hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_1=_t(g1),y1=Te({},hs,{data:0}),Ym=_t(y1),v1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=S1[t])?!!e[t]:!1}function xh(){return E1}var T1=Te({},Xr,{key:function(t){if(t.key){var e=v1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(t){return t.type==="keypress"?Pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C1=_t(T1),w1=Te({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qm=_t(w1),A1=Te({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),N1=_t(A1),R1=Te({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),x1=_t(R1),O1=Te({},mu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M1=_t(O1),D1=Te({},hs,{newState:0,oldState:0}),I1=_t(D1),k1=[9,13,27,32],Oh=Ln&&"CompositionEvent"in window,Za=null;Ln&&"documentMode"in document&&(Za=document.documentMode);var L1=Ln&&"TextEvent"in window&&!Za,uy=Ln&&(!Oh||Za&&8<Za&&11>=Za),Km=" ",Xm=!1;function cy(t,e){switch(t){case"keyup":return k1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function U1(t,e){switch(t){case"compositionend":return fy(e);case"keypress":return e.which!==32?null:(Xm=!0,Km);case"textInput":return t=e.data,t===Km&&Xm?null:t;default:return null}}function z1(t,e){if(Os)return t==="compositionend"||!Oh&&cy(t,e)?(t=oy(),jl=Rh=ai=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uy&&e.locale!=="ko"?null:e.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!B1[t.type]:e==="textarea"}function hy(t,e,n,i){xs?Ps?Ps.push(i):Ps=[i]:xs=i,e=Oo(e,"onChange"),0<e.length&&(n=new du("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var $a=null,vr=null;function H1(t){l0(t,0)}function pu(t){var e=Qa(t);if(ny(e))return t}function Zm(t,e){if(t==="change")return e}var dy=!1;if(Ln){var ic;if(Ln){var sc="oninput"in document;if(!sc){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),sc=typeof $m.oninput=="function"}ic=sc}else ic=!1;dy=ic&&(!document.documentMode||9<document.documentMode)}function Jm(){$a&&($a.detachEvent("onpropertychange",my),vr=$a=null)}function my(t){if(t.propertyName==="value"&&pu(vr)){var e=[];hy(e,vr,t,Nh(t)),ly(H1,e)}}function j1(t,e,n){t==="focusin"?(Jm(),$a=e,vr=n,$a.attachEvent("onpropertychange",my)):t==="focusout"&&Jm()}function P1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pu(vr)}function V1(t,e){if(t==="click")return pu(e)}function q1(t,e){if(t==="input"||t==="change")return pu(e)}function G1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nt=typeof Object.is=="function"?Object.is:G1;function br(t,e){if(Nt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!ef.call(e,s)||!Nt(t[s],e[s]))return!1}return!0}function ep(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tp(t,e){var n=ep(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ep(n)}}function py(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?py(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=fo(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fo(t.document)}return e}function Mh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var F1=Ln&&"documentMode"in document&&11>=document.documentMode,Ms=null,of=null,Ja=null,uf=!1;function np(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uf||Ms==null||Ms!==fo(i)||(i=Ms,"selectionStart"in i&&Mh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ja&&br(Ja,i)||(Ja=i,i=Oo(of,"onSelect"),0<i.length&&(e=new du("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ms)))}function Li(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ds={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},ac={},_y={};Ln&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function ds(t){if(ac[t])return ac[t];if(!Ds[t])return t;var e=Ds[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _y)return ac[t]=e[n];return t}var yy=ds("animationend"),vy=ds("animationiteration"),by=ds("animationstart"),Y1=ds("transitionrun"),Q1=ds("transitionstart"),K1=ds("transitioncancel"),Sy=ds("transitionend"),Ey=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function en(t,e){Ey.set(t,e),fs(e,[t])}var ho=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mt=[],Is=0,Dh=0;function gu(){for(var t=Is,e=Dh=Is=0;e<t;){var n=Mt[e];Mt[e++]=null;var i=Mt[e];Mt[e++]=null;var s=Mt[e];Mt[e++]=null;var a=Mt[e];if(Mt[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&Ty(n,s,a)}}function _u(t,e,n,i){Mt[Is++]=t,Mt[Is++]=e,Mt[Is++]=n,Mt[Is++]=i,Dh|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Ih(t,e,n,i){return _u(t,e,n,i),mo(t)}function ms(t,e){return _u(t,null,null,e),mo(t)}function Ty(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,s&&e!==null&&(s=31-wt(n),t=a.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),a):null}function mo(t){if(50<or)throw or=0,Mf=null,Error(A(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ks={};function X1(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,i){return new X1(t,e,n,i)}function kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function On(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Cy(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Vl(t,e,n,i,s,a){var r=0;if(i=t,typeof t=="function")kh(t)&&(r=1);else if(typeof t=="string")r=eC(t,n,on.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Wc:return t=St(31,n,e,s),t.elementType=Wc,t.lanes=a,t;case As:return Ki(n.children,s,a,e);case q_:r=8,s|=24;break;case Qc:return t=St(12,n,e,s|2),t.elementType=Qc,t.lanes=a,t;case Kc:return t=St(13,n,e,s),t.elementType=Kc,t.lanes=a,t;case Xc:return t=St(19,n,e,s),t.elementType=Xc,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cn:r=10;break e;case G_:r=9;break e;case bh:r=11;break e;case Sh:r=14;break e;case Xn:r=16,i=null;break e}r=29,n=Error(A(130,t===null?"null":typeof t,"")),i=null}return e=St(r,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function Ki(t,e,n,i){return t=St(7,t,i,e),t.lanes=n,t}function rc(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function wy(t){var e=St(18,null,null,0);return e.stateNode=t,e}function lc(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ip=new WeakMap;function Ut(t,e){if(typeof t=="object"&&t!==null){var n=ip.get(t);return n!==void 0?n:(e={value:t,source:e,stack:zm(e)},ip.set(t,e),e)}return{value:t,source:e,stack:zm(e)}}var Ls=[],Us=0,po=null,Sr=0,It=[],kt=0,Ti=null,an=1,rn="";function Sn(t,e){Ls[Us++]=Sr,Ls[Us++]=po,po=t,Sr=e}function Ay(t,e,n){It[kt++]=an,It[kt++]=rn,It[kt++]=Ti,Ti=t;var i=an;t=rn;var s=32-wt(i)-1;i&=~(1<<s),n+=1;var a=32-wt(e)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,an=1<<32-wt(e)+s|n<<s|i,rn=a+t}else an=1<<a|n<<s|i,rn=t}function Lh(t){t.return!==null&&(Sn(t,1),Ay(t,1,0))}function Uh(t){for(;t===po;)po=Ls[--Us],Ls[Us]=null,Sr=Ls[--Us],Ls[Us]=null;for(;t===Ti;)Ti=It[--kt],It[kt]=null,rn=It[--kt],It[kt]=null,an=It[--kt],It[kt]=null}function Ny(t,e){It[kt++]=an,It[kt++]=rn,It[kt++]=Ti,an=e.id,rn=e.overflow,Ti=t}var Ze=null,Se=null,ne=!1,ci=null,zt=!1,ff=Error(A(519));function Ci(t){var e=Error(A(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Er(Ut(e,t)),ff}function sp(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[We]=t,e[pt]=i,n){case"dialog":X("cancel",e),X("close",e);break;case"iframe":case"object":case"embed":X("load",e);break;case"video":case"audio":for(n=0;n<Ar.length;n++)X(Ar[n],e);break;case"source":X("error",e);break;case"img":case"image":case"link":X("error",e),X("load",e);break;case"details":X("toggle",e);break;case"input":X("invalid",e),iy(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":X("invalid",e);break;case"textarea":X("invalid",e),ay(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||u0(e.textContent,n)?(i.popover!=null&&(X("beforetoggle",e),X("toggle",e)),i.onScroll!=null&&X("scroll",e),i.onScrollEnd!=null&&X("scrollend",e),i.onClick!=null&&(e.onclick=wn),e=!0):e=!1,e||Ci(t,!0)}function ap(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:Ze=Ze.return}}function bs(t){if(t!==Ze)return!1;if(!ne)return ap(t),ne=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Uf(t.type,t.memoizedProps)),n=!n),n&&Se&&Ci(t),ap(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));Se=Fp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));Se=Fp(t)}else e===27?(e=Se,Mi(t.type)?(t=jf,jf=null,Se=t):Se=e):Se=Ze?jt(t.stateNode.nextSibling):null;return!0}function es(){Se=Ze=null,ne=!1}function oc(){var t=ci;return t!==null&&(ft===null?ft=t:ft.push.apply(ft,t),ci=null),t}function Er(t){ci===null?ci=[t]:ci.push(t)}var hf=hn(null),ps=null,An=null;function Zn(t,e,n){_e(hf,e._currentValue),e._currentValue=n}function Mn(t){t._currentValue=hf.current,Ye(hf)}function df(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function mf(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=s;for(var o=0;o<e.length;o++)if(l.context===e[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),df(a.return,n,t),i||(r=null);break e}a=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(A(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),df(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function va(t,e,n,i){t=null;for(var s=e,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(A(387));if(r=r.memoizedProps,r!==null){var l=s.type;Nt(s.pendingProps.value,r.value)||(t!==null?t.push(l):t=[l])}}else if(s===lo.current){if(r=s.alternate,r===null)throw Error(A(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Rr):t=[Rr])}s=s.return}t!==null&&mf(e,t,n,i),e.flags|=262144}function go(t){for(t=t.firstContext;t!==null;){if(!Nt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ts(t){ps=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $e(t){return Ry(ps,t)}function El(t,e){return ps===null&&ts(t),Ry(t,e)}function Ry(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},An===null){if(t===null)throw Error(A(308));An=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else An=An.next=e;return n}var W1=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Z1=je.unstable_scheduleCallback,$1=je.unstable_NormalPriority,Ue={$$typeof:Cn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new W1,data:new Map,refCount:0}}function Wr(t){t.refCount--,t.refCount===0&&Z1($1,function(){t.controller.abort()})}var er=null,pf=0,ta=0,Vs=null;function J1(t,e){if(er===null){var n=er=[];pf=0,ta=od(),Vs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return pf++,e.then(rp,rp),e}function rp(){if(--pf===0&&er!==null){Vs!==null&&(Vs.status="fulfilled");var t=er;er=null,ta=0,Vs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function eT(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var lp=B.S;B.S=function(t,e){Vv=Tt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&J1(t,e),lp!==null&&lp(t,e)};var Xi=hn(null);function Bh(){var t=Xi.current;return t!==null?t:de.pooledCache}function ql(t,e){e===null?_e(Xi,Xi.current):_e(Xi,e.pool)}function xy(){var t=Bh();return t===null?null:{parent:Ue._currentValue,pool:t}}var ba=Error(A(460)),Hh=Error(A(474)),yu=Error(A(542)),_o={then:function(){}};function op(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Oy(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(wn,wn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,cp(t),t;default:if(typeof e.status=="string")e.then(wn,wn);else{if(t=de,t!==null&&100<t.shellSuspendCounter)throw Error(A(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,cp(t),t}throw Wi=e,ba}}function Hi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Wi=n,ba):n}}var Wi=null;function up(){if(Wi===null)throw Error(A(459));var t=Wi;return Wi=null,t}function cp(t){if(t===ba||t===yu)throw Error(A(483))}var qs=null,Tr=0;function Tl(t){var e=Tr;return Tr+=1,qs===null&&(qs=[]),Oy(qs,t,e)}function Ua(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Cl(t,e){throw e.$$typeof===jE?Error(A(525)):(t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function My(t){function e(m,g){if(t){var p=m.deletions;p===null?(m.deletions=[g],m.flags|=16):p.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function i(m){for(var g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(m,g){return m=On(m,g),m.index=0,m.sibling=null,m}function a(m,g,p){return m.index=p,t?(p=m.alternate,p!==null?(p=p.index,p<g?(m.flags|=67108866,g):p):(m.flags|=67108866,g)):(m.flags|=1048576,g)}function r(m){return t&&m.alternate===null&&(m.flags|=67108866),m}function l(m,g,p,v){return g===null||g.tag!==6?(g=rc(p,m.mode,v),g.return=m,g):(g=s(g,p),g.return=m,g)}function o(m,g,p,v){var N=p.type;return N===As?f(m,g,p.props.children,v,p.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xn&&Hi(N)===g.type)?(g=s(g,p.props),Ua(g,p),g.return=m,g):(g=Vl(p.type,p.key,p.props,null,m.mode,v),Ua(g,p),g.return=m,g)}function u(m,g,p,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=lc(p,m.mode,v),g.return=m,g):(g=s(g,p.children||[]),g.return=m,g)}function f(m,g,p,v,N){return g===null||g.tag!==7?(g=Ki(p,m.mode,v,N),g.return=m,g):(g=s(g,p),g.return=m,g)}function h(m,g,p){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=rc(""+g,m.mode,p),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case gl:return p=Vl(g.type,g.key,g.props,null,m.mode,p),Ua(p,g),p.return=m,p;case Fa:return g=lc(g,m.mode,p),g.return=m,g;case Xn:return g=Hi(g),h(m,g,p)}if(Ya(g)||Ia(g))return g=Ki(g,m.mode,p,null),g.return=m,g;if(typeof g.then=="function")return h(m,Tl(g),p);if(g.$$typeof===Cn)return h(m,El(m,g),p);Cl(m,g)}return null}function c(m,g,p,v){var N=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return N!==null?null:l(m,g,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case gl:return p.key===N?o(m,g,p,v):null;case Fa:return p.key===N?u(m,g,p,v):null;case Xn:return p=Hi(p),c(m,g,p,v)}if(Ya(p)||Ia(p))return N!==null?null:f(m,g,p,v,null);if(typeof p.then=="function")return c(m,g,Tl(p),v);if(p.$$typeof===Cn)return c(m,g,El(m,p),v);Cl(m,p)}return null}function d(m,g,p,v,N){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return m=m.get(p)||null,l(g,m,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gl:return m=m.get(v.key===null?p:v.key)||null,o(g,m,v,N);case Fa:return m=m.get(v.key===null?p:v.key)||null,u(g,m,v,N);case Xn:return v=Hi(v),d(m,g,p,v,N)}if(Ya(v)||Ia(v))return m=m.get(p)||null,f(g,m,v,N,null);if(typeof v.then=="function")return d(m,g,p,Tl(v),N);if(v.$$typeof===Cn)return d(m,g,p,El(g,v),N);Cl(g,v)}return null}function _(m,g,p,v){for(var N=null,x=null,w=g,R=g=0,M=null;w!==null&&R<p.length;R++){w.index>R?(M=w,w=null):M=w.sibling;var k=c(m,w,p[R],v);if(k===null){w===null&&(w=M);break}t&&w&&k.alternate===null&&e(m,w),g=a(k,g,R),x===null?N=k:x.sibling=k,x=k,w=M}if(R===p.length)return n(m,w),ne&&Sn(m,R),N;if(w===null){for(;R<p.length;R++)w=h(m,p[R],v),w!==null&&(g=a(w,g,R),x===null?N=w:x.sibling=w,x=w);return ne&&Sn(m,R),N}for(w=i(w);R<p.length;R++)M=d(w,m,R,p[R],v),M!==null&&(t&&M.alternate!==null&&w.delete(M.key===null?R:M.key),g=a(M,g,R),x===null?N=M:x.sibling=M,x=M);return t&&w.forEach(function(q){return e(m,q)}),ne&&Sn(m,R),N}function E(m,g,p,v){if(p==null)throw Error(A(151));for(var N=null,x=null,w=g,R=g=0,M=null,k=p.next();w!==null&&!k.done;R++,k=p.next()){w.index>R?(M=w,w=null):M=w.sibling;var q=c(m,w,k.value,v);if(q===null){w===null&&(w=M);break}t&&w&&q.alternate===null&&e(m,w),g=a(q,g,R),x===null?N=q:x.sibling=q,x=q,w=M}if(k.done)return n(m,w),ne&&Sn(m,R),N;if(w===null){for(;!k.done;R++,k=p.next())k=h(m,k.value,v),k!==null&&(g=a(k,g,R),x===null?N=k:x.sibling=k,x=k);return ne&&Sn(m,R),N}for(w=i(w);!k.done;R++,k=p.next())k=d(w,m,R,k.value,v),k!==null&&(t&&k.alternate!==null&&w.delete(k.key===null?R:k.key),g=a(k,g,R),x===null?N=k:x.sibling=k,x=k);return t&&w.forEach(function(ye){return e(m,ye)}),ne&&Sn(m,R),N}function T(m,g,p,v){if(typeof p=="object"&&p!==null&&p.type===As&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case gl:e:{for(var N=p.key;g!==null;){if(g.key===N){if(N=p.type,N===As){if(g.tag===7){n(m,g.sibling),v=s(g,p.props.children),v.return=m,m=v;break e}}else if(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xn&&Hi(N)===g.type){n(m,g.sibling),v=s(g,p.props),Ua(v,p),v.return=m,m=v;break e}n(m,g);break}else e(m,g);g=g.sibling}p.type===As?(v=Ki(p.props.children,m.mode,v,p.key),v.return=m,m=v):(v=Vl(p.type,p.key,p.props,null,m.mode,v),Ua(v,p),v.return=m,m=v)}return r(m);case Fa:e:{for(N=p.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(m,g.sibling),v=s(g,p.children||[]),v.return=m,m=v;break e}else{n(m,g);break}else e(m,g);g=g.sibling}v=lc(p,m.mode,v),v.return=m,m=v}return r(m);case Xn:return p=Hi(p),T(m,g,p,v)}if(Ya(p))return _(m,g,p,v);if(Ia(p)){if(N=Ia(p),typeof N!="function")throw Error(A(150));return p=N.call(p),E(m,g,p,v)}if(typeof p.then=="function")return T(m,g,Tl(p),v);if(p.$$typeof===Cn)return T(m,g,El(m,p),v);Cl(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,g!==null&&g.tag===6?(n(m,g.sibling),v=s(g,p),v.return=m,m=v):(n(m,g),v=rc(p,m.mode,v),v.return=m,m=v),r(m)):n(m,g)}return function(m,g,p,v){try{Tr=0;var N=T(m,g,p,v);return qs=null,N}catch(w){if(w===ba||w===yu)throw w;var x=St(29,w,null,m.mode);return x.lanes=v,x.return=m,x}finally{}}}var ns=My(!0),Dy=My(!1),Wn=!1;function jh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ae&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=mo(t),Ty(t,null,n),e}return _u(t,i,e,n),mo(t)}function tr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,W_(t,n)}}function uc(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var _f=!1;function nr(){if(_f){var t=Vs;if(t!==null)throw t}}function ir(t,e,n,i){_f=!1;var s=t.updateQueue;Wn=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,u=o.next;o.next=null,r===null?a=u:r.next=u,r=o;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==r&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=o))}if(a!==null){var h=s.baseState;r=0,f=u=o=null,l=a;do{var c=l.lane&-536870913,d=c!==l.lane;if(d?(te&c)===c:(i&c)===c){c!==0&&c===ta&&(_f=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var _=t,E=l;c=e;var T=n;switch(E.tag){case 1:if(_=E.payload,typeof _=="function"){h=_.call(T,h,c);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,c=typeof _=="function"?_.call(T,h,c):_,c==null)break e;h=Te({},h,c);break e;case 2:Wn=!0}}c=l.callback,c!==null&&(t.flags|=64,d&&(t.flags|=8192),d=s.callbacks,d===null?s.callbacks=[c]:d.push(c))}else d={lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=d,o=h):f=f.next=d,r|=c;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);f===null&&(o=h),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=f,a===null&&(s.shared.lanes=0),Ai|=r,t.lanes=r,t.memoizedState=h}}function Iy(t,e){if(typeof t!="function")throw Error(A(191,t));t.call(e)}function ky(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Iy(n[t],e)}var na=hn(null),yo=hn(0);function fp(t,e){t=Hn,_e(yo,t),_e(na,e),Hn=t|e.baseLanes}function yf(){_e(yo,Hn),_e(na,na.current)}function Ph(){Hn=yo.current,Ye(na),Ye(yo)}var Rt=hn(null),Ht=null;function $n(t){var e=t.alternate;_e(De,De.current&1),_e(Rt,t),Ht===null&&(e===null||na.current!==null||e.memoizedState!==null)&&(Ht=t)}function vf(t){_e(De,De.current),_e(Rt,t),Ht===null&&(Ht=t)}function Ly(t){t.tag===22?(_e(De,De.current),_e(Rt,t),Ht===null&&(Ht=t)):Jn()}function Jn(){_e(De,De.current),_e(Rt,Rt.current)}function bt(t){Ye(Rt),Ht===t&&(Ht=null),Ye(De)}var De=hn(0);function vo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Bf(n)||Hf(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Un=0,Y=null,fe=null,ke=null,bo=!1,Gs=!1,is=!1,So=0,Cr=0,Fs=null,tT=0;function Re(){throw Error(A(321))}function Vh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nt(t[n],e[n]))return!1;return!0}function qh(t,e,n,i,s,a){return Un=a,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,B.H=t===null||t.memoizedState===null?hv:ed,is=!1,a=n(i,s),is=!1,Gs&&(a=zy(e,n,i,s)),Uy(t),a}function Uy(t){B.H=wr;var e=fe!==null&&fe.next!==null;if(Un=0,ke=fe=Y=null,bo=!1,Cr=0,Fs=null,e)throw Error(A(300));t===null||ze||(t=t.dependencies,t!==null&&go(t)&&(ze=!0))}function zy(t,e,n,i){Y=t;var s=0;do{if(Gs&&(Fs=null),Cr=0,Gs=!1,25<=s)throw Error(A(301));if(s+=1,ke=fe=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}B.H=dv,a=e(n,i)}while(Gs);return a}function nT(){var t=B.H,e=t.useState()[0];return e=typeof e.then=="function"?Zr(e):e,t=t.useState()[0],(fe!==null?fe.memoizedState:null)!==t&&(Y.flags|=1024),e}function Gh(){var t=So!==0;return So=0,t}function Fh(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Yh(t){if(bo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}bo=!1}Un=0,ke=fe=Y=null,Gs=!1,Cr=So=0,Fs=null}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Y.memoizedState=ke=t:ke=ke.next=t,ke}function Ie(){if(fe===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=fe.next;var e=ke===null?Y.memoizedState:ke.next;if(e!==null)ke=e,fe=t;else{if(t===null)throw Y.alternate===null?Error(A(467)):Error(A(310));fe=t,t={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ke===null?Y.memoizedState=ke=t:ke=ke.next=t}return ke}function vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zr(t){var e=Cr;return Cr+=1,Fs===null&&(Fs=[]),t=Oy(Fs,t,e),e=Y,(ke===null?e.memoizedState:ke.next)===null&&(e=e.alternate,B.H=e===null||e.memoizedState===null?hv:ed),t}function bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zr(t);if(t.$$typeof===Cn)return $e(t)}throw Error(A(438,String(t)))}function Qh(t){var e=null,n=Y.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Y.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=vu(),Y.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=PE;return e.index++,n}function zn(t,e){return typeof e=="function"?e(t):e}function Gl(t){var e=Ie();return Kh(e,fe,t)}function Kh(t,e,n){var i=t.queue;if(i===null)throw Error(A(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}e.baseQueue=s=a,i.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var l=r=null,o=null,u=e,f=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(te&h)===h:(Un&h)===h){var c=u.revertLane;if(c===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===ta&&(f=!0);else if((Un&c)===c){u=u.next,c===ta&&(f=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=h,r=a):o=o.next=h,Y.lanes|=c,Ai|=c;h=u.action,is&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else c={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=c,r=a):o=o.next=c,Y.lanes|=h,Ai|=h;u=u.next}while(u!==null&&u!==e);if(o===null?r=a:o.next=l,!Nt(a,t.memoizedState)&&(ze=!0,f&&(n=Vs,n!==null)))throw n;t.memoizedState=a,t.baseState=r,t.baseQueue=o,i.lastRenderedState=a}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function cc(t){var e=Ie(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do a=t(a,r.action),r=r.next;while(r!==s);Nt(a,e.memoizedState)||(ze=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function By(t,e,n){var i=Y,s=Ie(),a=ne;if(a){if(n===void 0)throw Error(A(407));n=n()}else n=e();var r=!Nt((fe||s).memoizedState,n);if(r&&(s.memoizedState=n,ze=!0),s=s.queue,Xh(Py.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||ke!==null&&ke.memoizedState.tag&1){if(i.flags|=2048,ia(9,{destroy:void 0},jy.bind(null,i,s,n,e),null),de===null)throw Error(A(349));a||Un&127||Hy(i,e,n)}return n}function Hy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Y.updateQueue,e===null?(e=vu(),Y.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jy(t,e,n,i){e.value=n,e.getSnapshot=i,Vy(e)&&qy(t)}function Py(t,e,n){return n(function(){Vy(e)&&qy(t)})}function Vy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nt(t,n)}catch{return!0}}function qy(t){var e=ms(t,2);e!==null&&dt(e,t,2)}function bf(t){var e=nt();if(typeof t=="function"){var n=t;if(t=n(),is){si(!0);try{n()}finally{si(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},e}function Gy(t,e,n,i){return t.baseState=n,Kh(t,fe,typeof i=="function"?i:zn)}function iT(t,e,n,i,s){if(Eu(t))throw Error(A(485));if(t=e.action,t!==null){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};B.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,Fy(e,a)):(a.next=n.next,e.pending=n.next=a)}}function Fy(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var a=B.T,r={};B.T=r;try{var l=n(s,i),o=B.S;o!==null&&o(r,l),hp(t,e,l)}catch(u){Sf(t,e,u)}finally{a!==null&&r.types!==null&&(a.types=r.types),B.T=a}}else try{a=n(s,i),hp(t,e,a)}catch(u){Sf(t,e,u)}}function hp(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){dp(t,e,i)},function(i){return Sf(t,e,i)}):dp(t,e,n)}function dp(t,e,n){e.status="fulfilled",e.value=n,Yy(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Fy(t,n)))}function Sf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,Yy(e),e=e.next;while(e!==i)}t.action=null}function Yy(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Qy(t,e){return e}function mp(t,e){if(ne){var n=de.formState;if(n!==null){e:{var i=Y;if(ne){if(Se){t:{for(var s=Se,a=zt;s.nodeType!==8;){if(!a){s=null;break t}if(s=jt(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){Se=jt(s.nextSibling),i=s.data==="F!";break e}}Ci(i)}i=!1}i&&(e=n[0])}}return n=nt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:e},n.queue=i,n=uv.bind(null,Y,i),i.dispatch=n,i=bf(!1),a=Jh.bind(null,Y,!1,i.queue),i=nt(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=iT.bind(null,Y,s,a,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function pp(t){var e=Ie();return Ky(e,fe,t)}function Ky(t,e,n){if(e=Kh(t,e,Qy)[0],t=Gl(zn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Zr(e)}catch(r){throw r===ba?yu:r}else i=e;e=Ie();var s=e.queue,a=s.dispatch;return n!==e.memoizedState&&(Y.flags|=2048,ia(9,{destroy:void 0},sT.bind(null,s,n),null)),[i,a,t]}function sT(t,e){t.action=e}function gp(t){var e=Ie(),n=fe;if(n!==null)return Ky(e,n,t);Ie(),e=e.memoizedState,n=Ie();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function ia(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Y.updateQueue,e===null&&(e=vu(),Y.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Xy(){return Ie().memoizedState}function Fl(t,e,n,i){var s=nt();Y.flags|=t,s.memoizedState=ia(1|e,{destroy:void 0},n,i===void 0?null:i)}function Su(t,e,n,i){var s=Ie();i=i===void 0?null:i;var a=s.memoizedState.inst;fe!==null&&i!==null&&Vh(i,fe.memoizedState.deps)?s.memoizedState=ia(e,a,n,i):(Y.flags|=t,s.memoizedState=ia(1|e,a,n,i))}function _p(t,e){Fl(8390656,8,t,e)}function Xh(t,e){Su(2048,8,t,e)}function aT(t){Y.flags|=4;var e=Y.updateQueue;if(e===null)e=vu(),Y.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Wy(t){var e=Ie().memoizedState;return aT({ref:e,nextImpl:t}),function(){if(ae&2)throw Error(A(440));return e.impl.apply(void 0,arguments)}}function Zy(t,e){return Su(4,2,t,e)}function $y(t,e){return Su(4,4,t,e)}function Jy(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ev(t,e,n){n=n!=null?n.concat([t]):null,Su(4,4,Jy.bind(null,e,t),n)}function Wh(){}function tv(t,e){var n=Ie();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Vh(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function nv(t,e){var n=Ie();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Vh(e,i[1]))return i[0];if(i=t(),is){si(!0);try{t()}finally{si(!1)}}return n.memoizedState=[i,e],i}function Zh(t,e,n){return n===void 0||Un&1073741824&&!(te&261930)?t.memoizedState=e:(t.memoizedState=n,t=Gv(),Y.lanes|=t,Ai|=t,n)}function iv(t,e,n,i){return Nt(n,e)?n:na.current!==null?(t=Zh(t,n,i),Nt(t,e)||(ze=!0),t):!(Un&42)||Un&1073741824&&!(te&261930)?(ze=!0,t.memoizedState=n):(t=Gv(),Y.lanes|=t,Ai|=t,e)}function sv(t,e,n,i,s){var a=re.p;re.p=a!==0&&8>a?a:8;var r=B.T,l={};B.T=l,Jh(t,!1,e,n);try{var o=s(),u=B.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var f=eT(o,i);sr(t,e,f,At(t))}else sr(t,e,i,At(t))}catch(h){sr(t,e,{then:function(){},status:"rejected",reason:h},At())}finally{re.p=a,r!==null&&l.types!==null&&(r.types=l.types),B.T=r}}function rT(){}function Ef(t,e,n,i){if(t.tag!==5)throw Error(A(476));var s=av(t).queue;sv(t,s,e,Qi,n===null?rT:function(){return rv(t),n(i)})}function av(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Qi,baseState:Qi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:Qi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function rv(t){var e=av(t);e.next===null&&(e=t.alternate.memoizedState),sr(t,e.next.queue,{},At())}function $h(){return $e(Rr)}function lv(){return Ie().memoizedState}function ov(){return Ie().memoizedState}function lT(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=At();t=fi(n);var i=hi(e,t,n);i!==null&&(dt(i,e,n),tr(i,e,n)),e={cache:zh()},t.payload=e;return}e=e.return}}function oT(t,e,n){var i=At();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Eu(t)?cv(e,n):(n=Ih(t,e,n,i),n!==null&&(dt(n,t,i),fv(n,e,i)))}function uv(t,e,n){var i=At();sr(t,e,n,i)}function sr(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Eu(t))cv(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,l=a(r,n);if(s.hasEagerState=!0,s.eagerState=l,Nt(l,r))return _u(t,e,s,0),de===null&&gu(),!1}catch{}finally{}if(n=Ih(t,e,s,i),n!==null)return dt(n,t,i),fv(n,e,i),!0}return!1}function Jh(t,e,n,i){if(i={lane:2,revertLane:od(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Eu(t)){if(e)throw Error(A(479))}else e=Ih(t,n,i,2),e!==null&&dt(e,t,2)}function Eu(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function cv(t,e){Gs=bo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fv(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,W_(t,n)}}var wr={readContext:$e,use:bu,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re};wr.useEffectEvent=Re;var hv={readContext:$e,use:bu,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:$e,useEffect:_p,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Fl(4194308,4,Jy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fl(4194308,4,t,e)},useInsertionEffect:function(t,e){Fl(4,2,t,e)},useMemo:function(t,e){var n=nt();e=e===void 0?null:e;var i=t();if(is){si(!0);try{t()}finally{si(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=nt();if(n!==void 0){var s=n(e);if(is){si(!0);try{n(e)}finally{si(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=oT.bind(null,Y,t),[i.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:function(t){t=bf(t);var e=t.queue,n=uv.bind(null,Y,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Wh,useDeferredValue:function(t,e){var n=nt();return Zh(n,t,e)},useTransition:function(){var t=bf(!1);return t=sv.bind(null,Y,t.queue,!0,!1),nt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Y,s=nt();if(ne){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),de===null)throw Error(A(349));te&127||Hy(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,_p(Py.bind(null,i,a,t),[t]),i.flags|=2048,ia(9,{destroy:void 0},jy.bind(null,i,a,n,e),null),n},useId:function(){var t=nt(),e=de.identifierPrefix;if(ne){var n=rn,i=an;n=(i&~(1<<32-wt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=So++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=tT++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:$h,useFormState:mp,useActionState:mp,useOptimistic:function(t){var e=nt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Jh.bind(null,Y,!0,n),n.dispatch=e,[t,e]},useMemoCache:Qh,useCacheRefresh:function(){return nt().memoizedState=lT.bind(null,Y)},useEffectEvent:function(t){var e=nt(),n={impl:t};return e.memoizedState=n,function(){if(ae&2)throw Error(A(440));return n.impl.apply(void 0,arguments)}}},ed={readContext:$e,use:bu,useCallback:tv,useContext:$e,useEffect:Xh,useImperativeHandle:ev,useInsertionEffect:Zy,useLayoutEffect:$y,useMemo:nv,useReducer:Gl,useRef:Xy,useState:function(){return Gl(zn)},useDebugValue:Wh,useDeferredValue:function(t,e){var n=Ie();return iv(n,fe.memoizedState,t,e)},useTransition:function(){var t=Gl(zn)[0],e=Ie().memoizedState;return[typeof t=="boolean"?t:Zr(t),e]},useSyncExternalStore:By,useId:lv,useHostTransitionStatus:$h,useFormState:pp,useActionState:pp,useOptimistic:function(t,e){var n=Ie();return Gy(n,fe,t,e)},useMemoCache:Qh,useCacheRefresh:ov};ed.useEffectEvent=Wy;var dv={readContext:$e,use:bu,useCallback:tv,useContext:$e,useEffect:Xh,useImperativeHandle:ev,useInsertionEffect:Zy,useLayoutEffect:$y,useMemo:nv,useReducer:cc,useRef:Xy,useState:function(){return cc(zn)},useDebugValue:Wh,useDeferredValue:function(t,e){var n=Ie();return fe===null?Zh(n,t,e):iv(n,fe.memoizedState,t,e)},useTransition:function(){var t=cc(zn)[0],e=Ie().memoizedState;return[typeof t=="boolean"?t:Zr(t),e]},useSyncExternalStore:By,useId:lv,useHostTransitionStatus:$h,useFormState:gp,useActionState:gp,useOptimistic:function(t,e){var n=Ie();return fe!==null?Gy(n,fe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Qh,useCacheRefresh:ov};dv.useEffectEvent=Wy;function fc(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tf={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=At(),s=fi(i);s.payload=e,n!=null&&(s.callback=n),e=hi(t,s,i),e!==null&&(dt(e,t,i),tr(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=At(),s=fi(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=hi(t,s,i),e!==null&&(dt(e,t,i),tr(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),i=fi(n);i.tag=2,e!=null&&(i.callback=e),e=hi(t,i,n),e!==null&&(dt(e,t,n),tr(e,t,n))}};function yp(t,e,n,i,s,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,r):e.prototype&&e.prototype.isPureReactComponent?!br(n,i)||!br(s,a):!0}function vp(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Tf.enqueueReplaceState(e,e.state,null)}function ss(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Te({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function mv(t){ho(t)}function pv(t){console.error(t)}function gv(t){ho(t)}function Eo(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function bp(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Cf(t,e,n){return n=fi(n),n.tag=3,n.payload={element:null},n.callback=function(){Eo(t,e)},n}function _v(t){return t=fi(t),t.tag=3,t}function yv(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){bp(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){bp(e,n,i),typeof s!="function"&&(di===null?di=new Set([this]):di.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function uT(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&va(e,n,s,!0),n=Rt.current,n!==null){switch(n.tag){case 31:case 13:return Ht===null?No():n.alternate===null&&xe===0&&(xe=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===_o?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Ec(t,i,s)),!1;case 22:return n.flags|=65536,i===_o?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Ec(t,i,s)),!1}throw Error(A(435,n.tag))}return Ec(t,i,s),No(),!1}if(ne)return e=Rt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==ff&&(t=Error(A(422),{cause:i}),Er(Ut(t,n)))):(i!==ff&&(e=Error(A(423),{cause:i}),Er(Ut(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=Ut(i,n),s=Cf(t.stateNode,i,s),uc(t,s),xe!==4&&(xe=2)),!1;var a=Error(A(520),{cause:i});if(a=Ut(a,n),lr===null?lr=[a]:lr.push(a),xe!==4&&(xe=2),e===null)return!0;i=Ut(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Cf(n.stateNode,i,t),uc(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(di===null||!di.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=_v(s),yv(s,t,n,i),uc(n,s),!1}n=n.return}while(n!==null);return!1}var td=Error(A(461)),ze=!1;function Ke(t,e,n,i){e.child=t===null?Dy(e,null,n,i):ns(e,t.child,n,i)}function Sp(t,e,n,i,s){n=n.render;var a=e.ref;if("ref"in i){var r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}else r=i;return ts(e),i=qh(t,e,n,r,a,s),l=Gh(),t!==null&&!ze?(Fh(t,e,s),Bn(t,e,s)):(ne&&l&&Lh(e),e.flags|=1,Ke(t,e,i,s),e.child)}function Ep(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!kh(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,vv(t,e,a,i,s)):(t=Vl(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!nd(t,s)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:br,n(r,i)&&t.ref===e.ref)return Bn(t,e,s)}return e.flags|=1,t=On(a,i),t.ref=e.ref,t.return=e,e.child=t}function vv(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(br(a,i)&&t.ref===e.ref)if(ze=!1,e.pendingProps=i=a,nd(t,s))t.flags&131072&&(ze=!0);else return e.lanes=t.lanes,Bn(t,e,s)}return wf(t,e,n,i,s)}function bv(t,e,n,i){var s=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,e.child=null;return Tp(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ql(e,a!==null?a.cachePool:null),a!==null?fp(e,a):yf(),Ly(e);else return i=e.lanes=536870912,Tp(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(ql(e,a.cachePool),fp(e,a),Jn(),e.memoizedState=null):(t!==null&&ql(e,null),yf(),Jn());return Ke(t,e,s,n),e.child}function Ka(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Tp(t,e,n,i,s){var a=Bh();return a=a===null?null:{parent:Ue._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&ql(e,null),yf(),Ly(e),t!==null&&va(t,e,i,!0),e.childLanes=s,null}function Yl(t,e){return e=To({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Cp(t,e,n){return ns(e,t.child,null,n),t=Yl(e,e.pendingProps),t.flags|=2,bt(e),e.memoizedState=null,t}function cT(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ne){if(i.mode==="hidden")return t=Yl(e,i),e.lanes=536870912,Ka(null,t);if(vf(e),(t=Se)?(t=h0(t,zt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ti!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=wy(t),n.return=e,e.child=n,Ze=e,Se=null)):t=null,t===null)throw Ci(e);return e.lanes=536870912,null}return Yl(e,i)}var a=t.memoizedState;if(a!==null){var r=a.dehydrated;if(vf(e),s)if(e.flags&256)e.flags&=-257,e=Cp(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(A(558));else if(ze||va(t,e,n,!1),s=(n&t.childLanes)!==0,ze||s){if(i=de,i!==null&&(r=Z_(i,n),r!==0&&r!==a.retryLane))throw a.retryLane=r,ms(t,r),dt(i,t,r),td;No(),e=Cp(t,e,n)}else t=a.treeContext,Se=jt(r.nextSibling),Ze=e,ne=!0,ci=null,zt=!1,t!==null&&Ny(e,t),e=Yl(e,i),e.flags|=4096;return e}return t=On(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Ql(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(A(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function wf(t,e,n,i,s){return ts(e),n=qh(t,e,n,i,void 0,s),i=Gh(),t!==null&&!ze?(Fh(t,e,s),Bn(t,e,s)):(ne&&i&&Lh(e),e.flags|=1,Ke(t,e,n,s),e.child)}function wp(t,e,n,i,s,a){return ts(e),e.updateQueue=null,n=zy(e,i,n,s),Uy(t),i=Gh(),t!==null&&!ze?(Fh(t,e,a),Bn(t,e,a)):(ne&&i&&Lh(e),e.flags|=1,Ke(t,e,n,a),e.child)}function Ap(t,e,n,i,s){if(ts(e),e.stateNode===null){var a=ks,r=n.contextType;typeof r=="object"&&r!==null&&(a=$e(r)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Tf,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},jh(e),r=n.contextType,a.context=typeof r=="object"&&r!==null?$e(r):ks,a.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(fc(e,n,r,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&Tf.enqueueReplaceState(a,a.state,null),ir(e,i,a,s),nr(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,o=ss(n,l);a.props=o;var u=a.context,f=n.contextType;r=ks,typeof f=="object"&&f!==null&&(r=$e(f));var h=n.getDerivedStateFromProps;f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==r)&&vp(e,a,i,r),Wn=!1;var c=e.memoizedState;a.state=c,ir(e,i,a,s),nr(),u=e.memoizedState,l||c!==u||Wn?(typeof h=="function"&&(fc(e,n,h,i),u=e.memoizedState),(o=Wn||yp(e,n,o,i,c,u,r))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=r,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,gf(t,e),r=e.memoizedProps,f=ss(n,r),a.props=f,h=e.pendingProps,c=a.context,u=n.contextType,o=ks,typeof u=="object"&&u!==null&&(o=$e(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==h||c!==o)&&vp(e,a,i,o),Wn=!1,c=e.memoizedState,a.state=c,ir(e,i,a,s),nr();var d=e.memoizedState;r!==h||c!==d||Wn||t!==null&&t.dependencies!==null&&go(t.dependencies)?(typeof l=="function"&&(fc(e,n,l,i),d=e.memoizedState),(f=Wn||yp(e,n,f,i,c,d,o)||t!==null&&t.dependencies!==null&&go(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,d,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,d,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=d),a.props=i,a.state=d,a.context=o,i=f):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,Ql(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=ns(e,t.child,null,s),e.child=ns(e,null,n,s)):Ke(t,e,n,s),e.memoizedState=a.state,t=e.child):t=Bn(t,e,s),t}function Np(t,e,n,i){return es(),e.flags|=256,Ke(t,e,n,i),e.child}var hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dc(t){return{baseLanes:t,cachePool:xy()}}function mc(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Et),t}function Sv(t,e,n){var i=e.pendingProps,s=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(ne){if(s?$n(e):Jn(),(t=Se)?(t=h0(t,zt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ti!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=wy(t),n.return=e,e.child=n,Ze=e,Se=null)):t=null,t===null)throw Ci(e);return Hf(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Jn(),s=e.mode,l=To({mode:"hidden",children:l},s),i=Ki(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=dc(n),i.childLanes=mc(t,r,n),e.memoizedState=hc,Ka(null,i)):($n(e),Af(e,l))}var o=t.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(a)e.flags&256?($n(e),e.flags&=-257,e=pc(t,e,n)):e.memoizedState!==null?(Jn(),e.child=t.child,e.flags|=128,e=null):(Jn(),l=i.fallback,s=e.mode,i=To({mode:"visible",children:i.children},s),l=Ki(l,s,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,ns(e,t.child,null,n),i=e.child,i.memoizedState=dc(n),i.childLanes=mc(t,r,n),e.memoizedState=hc,e=Ka(null,i));else if($n(e),Hf(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,i=Error(A(419)),i.stack="",i.digest=r,Er({value:i,source:null,stack:null}),e=pc(t,e,n)}else if(ze||va(t,e,n,!1),r=(n&t.childLanes)!==0,ze||r){if(r=de,r!==null&&(i=Z_(r,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,ms(t,i),dt(r,t,i),td;Bf(l)||No(),e=pc(t,e,n)}else Bf(l)?(e.flags|=192,e.child=t.child,e=null):(t=o.treeContext,Se=jt(l.nextSibling),Ze=e,ne=!0,ci=null,zt=!1,t!==null&&Ny(e,t),e=Af(e,i.children),e.flags|=4096);return e}return s?(Jn(),l=i.fallback,s=e.mode,o=t.child,u=o.sibling,i=On(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=On(u,l):(l=Ki(l,s,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Ka(null,i),i=e.child,l=t.child.memoizedState,l===null?l=dc(n):(s=l.cachePool,s!==null?(o=Ue._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=xy(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=mc(t,r,n),e.memoizedState=hc,Ka(t.child,i)):($n(e),n=t.child,t=n.sibling,n=On(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Af(t,e){return e=To({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function To(t,e){return t=St(22,t,null,e),t.lanes=0,t}function pc(t,e,n){return ns(e,t.child,null,n),t=Af(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rp(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),df(t.return,e,n)}function gc(t,e,n,i,s,a){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s,r.treeForkCount=a)}function Ev(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var r=De.current,l=(r&2)!==0;if(l?(r=r&1|2,e.flags|=128):r&=1,_e(De,r),Ke(t,e,i,n),i=ne?Sr:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rp(t,n,e);else if(t.tag===19)Rp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&vo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),gc(e,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}gc(e,!0,n,null,a,i);break;case"together":gc(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))if(t!==null){if(va(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=On(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=On(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nd(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&go(t)))}function fT(t,e,n){switch(e.tag){case 3:oo(e,e.stateNode.containerInfo),Zn(e,Ue,t.memoizedState.cache),es();break;case 27:case 5:Jc(e);break;case 4:oo(e,e.stateNode.containerInfo);break;case 10:Zn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,vf(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?($n(e),e.flags|=128,null):n&e.child.childLanes?Sv(t,e,n):($n(e),t=Bn(t,e,n),t!==null?t.sibling:null);$n(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(va(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return Ev(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(De,De.current),i)break;return null;case 22:return e.lanes=0,bv(t,e,n,e.pendingProps);case 24:Zn(e,Ue,t.memoizedState.cache)}return Bn(t,e,n)}function Tv(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ze=!0;else{if(!nd(t,n)&&!(e.flags&128))return ze=!1,fT(t,e,n);ze=!!(t.flags&131072)}else ze=!1,ne&&e.flags&1048576&&Ay(e,Sr,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Hi(e.elementType),e.type=t,typeof t=="function")kh(t)?(i=ss(t,i),e.tag=1,e=Ap(null,e,t,i,n)):(e.tag=0,e=wf(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===bh){e.tag=11,e=Sp(null,e,t,i,n);break e}else if(s===Sh){e.tag=14,e=Ep(null,e,t,i,n);break e}}throw e=Zc(t)||t,Error(A(306,e,""))}}return e;case 0:return wf(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=ss(i,e.pendingProps),Ap(t,e,i,s,n);case 3:e:{if(oo(e,e.stateNode.containerInfo),t===null)throw Error(A(387));i=e.pendingProps;var a=e.memoizedState;s=a.element,gf(t,e),ir(e,i,null,n);var r=e.memoizedState;if(i=r.cache,Zn(e,Ue,i),i!==a.cache&&mf(e,[Ue],n,!0),nr(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=Np(t,e,i,n);break e}else if(i!==s){s=Ut(Error(A(424)),e),Er(s),e=Np(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Se=jt(t.firstChild),Ze=e,ne=!0,ci=null,zt=!0,n=Dy(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(es(),i===s){e=Bn(t,e,n);break e}Ke(t,e,i,n)}e=e.child}return e;case 26:return Ql(t,e),t===null?(n=Kp(e.type,null,e.pendingProps,null))?e.memoizedState=n:ne||(n=e.type,t=e.pendingProps,i=Mo(ui.current).createElement(n),i[We]=e,i[pt]=t,Je(i,n,t),Ge(i),e.stateNode=i):e.memoizedState=Kp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Jc(e),t===null&&ne&&(i=e.stateNode=d0(e.type,e.pendingProps,ui.current),Ze=e,zt=!0,s=Se,Mi(e.type)?(jf=s,Se=jt(i.firstChild)):Se=s),Ke(t,e,e.pendingProps.children,n),Ql(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ne&&((s=i=Se)&&(i=PT(i,e.type,e.pendingProps,zt),i!==null?(e.stateNode=i,Ze=e,Se=jt(i.firstChild),zt=!1,s=!0):s=!1),s||Ci(e)),Jc(e),s=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,i=a.children,Uf(s,a)?i=null:r!==null&&Uf(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=qh(t,e,nT,null,null,n),Rr._currentValue=s),Ql(t,e),Ke(t,e,i,n),e.child;case 6:return t===null&&ne&&((t=n=Se)&&(n=VT(n,e.pendingProps,zt),n!==null?(e.stateNode=n,Ze=e,Se=null,t=!0):t=!1),t||Ci(e)),null;case 13:return Sv(t,e,n);case 4:return oo(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ns(e,null,i,n):Ke(t,e,i,n),e.child;case 11:return Sp(t,e,e.type,e.pendingProps,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Zn(e,e.type,i.value),Ke(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,ts(e),s=$e(s),i=i(s),e.flags|=1,Ke(t,e,i,n),e.child;case 14:return Ep(t,e,e.type,e.pendingProps,n);case 15:return vv(t,e,e.type,e.pendingProps,n);case 19:return Ev(t,e,n);case 31:return cT(t,e,n);case 22:return bv(t,e,n,e.pendingProps);case 24:return ts(e),i=$e(Ue),t===null?(s=Bh(),s===null&&(s=de,a=zh(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:i,cache:s},jh(e),Zn(e,Ue,s)):(t.lanes&n&&(gf(t,e),ir(e,null,null,n),nr()),s=t.memoizedState,a=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Zn(e,Ue,i)):(i=a.cache,Zn(e,Ue,i),i!==s.cache&&mf(e,[Ue],n,!0))),Ke(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(A(156,e.tag))}function _n(t){t.flags|=4}function _c(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(Qv())t.flags|=8192;else throw Wi=_o,Hh}else t.flags&=-16777217}function xp(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!g0(e))if(Qv())t.flags|=8192;else throw Wi=_o,Hh}function wl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?K_():536870912,t.lanes|=e,sa|=e)}function za(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function hT(t,e,n){var i=e.pendingProps;switch(Uh(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return be(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Mn(Ue),$s(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(bs(e)?_n(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oc())),be(e),null;case 26:var s=e.type,a=e.memoizedState;return t===null?(_n(e),a!==null?(be(e),xp(e,a)):(be(e),_c(e,s,null,i,n))):a?a!==t.memoizedState?(_n(e),be(e),xp(e,a)):(be(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&_n(e),be(e),_c(e,s,t,i,n)),null;case 27:if(uo(e),n=ui.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&_n(e);else{if(!i){if(e.stateNode===null)throw Error(A(166));return be(e),null}t=on.current,bs(e)?sp(e):(t=d0(s,i,n),e.stateNode=t,_n(e))}return be(e),null;case 5:if(uo(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&_n(e);else{if(!i){if(e.stateNode===null)throw Error(A(166));return be(e),null}if(a=on.current,bs(e))sp(e);else{var r=Mo(ui.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}a[We]=e,a[pt]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(Je(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&_n(e)}}return be(e),_c(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&_n(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(A(166));if(t=ui.current,bs(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=Ze,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[We]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||u0(t.nodeValue,n)),t||Ci(e,!0)}else t=Mo(t).createTextNode(i),t[We]=e,e.stateNode=t}return be(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=bs(e),n!==null){if(t===null){if(!i)throw Error(A(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(557));t[We]=e}else es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),t=!1}else n=oc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(bt(e),e):(bt(e),null);if(e.flags&128)throw Error(A(558))}return be(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=bs(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(A(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[We]=e}else es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),s=!1}else s=oc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(bt(e),e):(bt(e),null)}return bt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),wl(e,e.updateQueue),be(e),null);case 4:return $s(),t===null&&ud(e.stateNode.containerInfo),be(e),null;case 10:return Mn(e.type),be(e),null;case 19:if(Ye(De),i=e.memoizedState,i===null)return be(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)za(i,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=vo(t),a!==null){for(e.flags|=128,za(i,!1),t=a.updateQueue,e.updateQueue=t,wl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Cy(n,t),n=n.sibling;return _e(De,De.current&1|2),ne&&Sn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Tt()>wo&&(e.flags|=128,s=!0,za(i,!1),e.lanes=4194304)}else{if(!s)if(t=vo(a),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,wl(e,t),za(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ne)return be(e),null}else 2*Tt()-i.renderingStartTime>wo&&n!==536870912&&(e.flags|=128,s=!0,za(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tt(),t.sibling=null,n=De.current,_e(De,s?n&1|2:n&1),ne&&Sn(e,i.treeForkCount),t):(be(e),null);case 22:case 23:return bt(e),Ph(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),n=e.updateQueue,n!==null&&wl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ye(Xi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Mn(Ue),be(e),null;case 25:return null;case 30:return null}throw Error(A(156,e.tag))}function dT(t,e){switch(Uh(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mn(Ue),$s(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return uo(e),null;case 31:if(e.memoizedState!==null){if(bt(e),e.alternate===null)throw Error(A(340));es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(bt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(De),null;case 4:return $s(),null;case 10:return Mn(e.type),null;case 22:case 23:return bt(e),Ph(),t!==null&&Ye(Xi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Mn(Ue),null;case 25:return null;default:return null}}function Cv(t,e){switch(Uh(e),e.tag){case 3:Mn(Ue),$s();break;case 26:case 27:case 5:uo(e);break;case 4:$s();break;case 31:e.memoizedState!==null&&bt(e);break;case 13:bt(e);break;case 19:Ye(De);break;case 10:Mn(e.type);break;case 22:case 23:bt(e),Ph(),t!==null&&Ye(Xi);break;case 24:Mn(Ue)}}function $r(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create,r=n.inst;i=a(),r.destroy=i}n=n.next}while(n!==s)}}catch(l){oe(e,e.return,l)}}function wi(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&t)===t){var r=i.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=e;var o=n,u=l;try{u()}catch(f){oe(s,o,f)}}}i=i.next}while(i!==a)}}catch(f){oe(e,e.return,f)}}function wv(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{ky(e,n)}catch(i){oe(t,t.return,i)}}}function Av(t,e,n){n.props=ss(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){oe(t,e,i)}}function ar(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){oe(t,e,s)}}function ln(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){oe(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){oe(t,e,s)}else n.current=null}function Nv(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){oe(t,t.return,s)}}function yc(t,e,n){try{var i=t.stateNode;LT(i,t.type,n,e),i[pt]=e}catch(s){oe(t,t.return,s)}}function Rv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mi(t.type)||t.tag===4}function vc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wn));else if(i!==4&&(i===27&&Mi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Nf(t,e,n),t=t.sibling;t!==null;)Nf(t,e,n),t=t.sibling}function Co(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Mi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Co(t,e,n),t=t.sibling;t!==null;)Co(t,e,n),t=t.sibling}function xv(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Je(e,i,n),e[We]=t,e[pt]=n}catch(a){oe(t,t.return,a)}}var En=!1,Le=!1,bc=!1,Op=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function mT(t,e){if(t=t.containerInfo,kf=Lo,t=gy(t),Mh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,u=0,f=0,h=t,c=null;t:for(;;){for(var d;h!==n||s!==0&&h.nodeType!==3||(l=r+s),h!==a||i!==0&&h.nodeType!==3||(o=r+i),h.nodeType===3&&(r+=h.nodeValue.length),(d=h.firstChild)!==null;)c=h,h=d;for(;;){if(h===t)break t;if(c===n&&++u===s&&(l=r),c===a&&++f===i&&(o=r),(d=h.nextSibling)!==null)break;h=c,c=h.parentNode}h=d}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lf={focusedElem:t,selectionRange:n},Lo=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){switch(e=Ve,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var _=ss(n.type,s);t=i.getSnapshotBeforeUpdate(_,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(E){oe(n,n.return,E)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)zf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(A(163))}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}}function Ov(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:vn(t,n),i&4&&$r(5,n);break;case 1:if(vn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){oe(n,n.return,r)}else{var s=ss(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){oe(n,n.return,r)}}i&64&&wv(n),i&512&&ar(n,n.return);break;case 3:if(vn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{ky(t,e)}catch(r){oe(n,n.return,r)}}break;case 27:e===null&&i&4&&xv(n);case 26:case 5:vn(t,n),e===null&&i&4&&Nv(n),i&512&&ar(n,n.return);break;case 12:vn(t,n);break;case 31:vn(t,n),i&4&&Iv(t,n);break;case 13:vn(t,n),i&4&&kv(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=TT.bind(null,n),qT(t,n))));break;case 22:if(i=n.memoizedState!==null||En,!i){e=e!==null&&e.memoizedState!==null||Le,s=En;var a=Le;En=i,(Le=e)&&!a?bn(t,n,(n.subtreeFlags&8772)!==0):vn(t,n),En=s,Le=a}break;case 30:break;default:vn(t,n)}}function Mv(t){var e=t.alternate;e!==null&&(t.alternate=null,Mv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&wh(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ce=null,ct=!1;function yn(t,e,n){for(n=n.child;n!==null;)Dv(t,e,n),n=n.sibling}function Dv(t,e,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Fr,n)}catch{}switch(n.tag){case 26:Le||ln(n,e),yn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Le||ln(n,e);var i=Ce,s=ct;Mi(n.type)&&(Ce=n.stateNode,ct=!1),yn(t,e,n),ur(n.stateNode),Ce=i,ct=s;break;case 5:Le||ln(n,e);case 6:if(i=Ce,s=ct,Ce=null,yn(t,e,n),Ce=i,ct=s,Ce!==null)if(ct)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(n.stateNode)}catch(a){oe(n,e,a)}else try{Ce.removeChild(n.stateNode)}catch(a){oe(n,e,a)}break;case 18:Ce!==null&&(ct?(t=Ce,qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),oa(t)):qp(Ce,n.stateNode));break;case 4:i=Ce,s=ct,Ce=n.stateNode.containerInfo,ct=!0,yn(t,e,n),Ce=i,ct=s;break;case 0:case 11:case 14:case 15:wi(2,n,e),Le||wi(4,n,e),yn(t,e,n);break;case 1:Le||(ln(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Av(n,e,i)),yn(t,e,n);break;case 21:yn(t,e,n);break;case 22:Le=(i=Le)||n.memoizedState!==null,yn(t,e,n),Le=i;break;default:yn(t,e,n)}}function Iv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oa(t)}catch(n){oe(e,e.return,n)}}}function kv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oa(t)}catch(n){oe(e,e.return,n)}}function pT(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Op),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Op),e;default:throw Error(A(435,t.tag))}}function Al(t,e){var n=pT(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=CT.bind(null,t,i);i.then(s,s)}})}function ot(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=t,r=e,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(Mi(l.type)){Ce=l.stateNode,ct=!1;break e}break;case 5:Ce=l.stateNode,ct=!1;break e;case 3:case 4:Ce=l.stateNode.containerInfo,ct=!0;break e}l=l.return}if(Ce===null)throw Error(A(160));Dv(a,r,s),Ce=null,ct=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Lv(e,t),e=e.sibling}var Qt=null;function Lv(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ot(e,t),ut(t),i&4&&(wi(3,t,t.return),$r(3,t),wi(5,t,t.return));break;case 1:ot(e,t),ut(t),i&512&&(Le||n===null||ln(n,n.return)),i&64&&En&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Qt;if(ot(e,t),ut(t),i&512&&(Le||n===null||ln(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[Kr]||a[We]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),Je(a,i,n),a[We]=t,Ge(a),i=a;break e;case"link":var r=Wp("link","href",s).get(i+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}a=s.createElement(i),Je(a,i,n),s.head.appendChild(a);break;case"meta":if(r=Wp("meta","content",s).get(i+(n.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}a=s.createElement(i),Je(a,i,n),s.head.appendChild(a);break;default:throw Error(A(468,i))}a[We]=t,Ge(a),i=a}t.stateNode=i}else Zp(s,t.type,t.stateNode);else t.stateNode=Xp(s,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?Zp(s,t.type,t.stateNode):Xp(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&yc(t,t.memoizedProps,n.memoizedProps)}break;case 27:ot(e,t),ut(t),i&512&&(Le||n===null||ln(n,n.return)),n!==null&&i&4&&yc(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ot(e,t),ut(t),i&512&&(Le||n===null||ln(n,n.return)),t.flags&32){s=t.stateNode;try{ea(s,"")}catch(_){oe(t,t.return,_)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,yc(t,s,n!==null?n.memoizedProps:s)),i&1024&&(bc=!0);break;case 6:if(ot(e,t),ut(t),i&4){if(t.stateNode===null)throw Error(A(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(_){oe(t,t.return,_)}}break;case 3:if(Wl=null,s=Qt,Qt=Do(e.containerInfo),ot(e,t),Qt=s,ut(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{oa(e.containerInfo)}catch(_){oe(t,t.return,_)}bc&&(bc=!1,Uv(t));break;case 4:i=Qt,Qt=Do(t.stateNode.containerInfo),ot(e,t),ut(t),Qt=i;break;case 12:ot(e,t),ut(t);break;case 31:ot(e,t),ut(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Al(t,i)));break;case 13:ot(e,t),ut(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Tu=Tt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Al(t,i)));break;case 22:s=t.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=En,f=Le;if(En=u||s,Le=f||o,ot(e,t),Le=f,En=u,ut(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||o||En||Le||ji(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){o=n=e;try{if(a=o.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var h=o.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=c==null||typeof c=="boolean"?"":(""+c).trim()}}catch(_){oe(o,o.return,_)}}}else if(e.tag===6){if(n===null){o=e;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(_){oe(o,o.return,_)}}}else if(e.tag===18){if(n===null){o=e;try{var d=o.stateNode;s?Gp(d,!0):Gp(o.stateNode,!1)}catch(_){oe(o,o.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Al(t,n))));break;case 19:ot(e,t),ut(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Al(t,i)));break;case 30:break;case 21:break;default:ot(e,t),ut(t)}}function ut(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Rv(i)){n=i;break}i=i.return}if(n==null)throw Error(A(160));switch(n.tag){case 27:var s=n.stateNode,a=vc(t);Co(t,a,s);break;case 5:var r=n.stateNode;n.flags&32&&(ea(r,""),n.flags&=-33);var l=vc(t);Co(t,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,u=vc(t);Nf(t,u,o);break;default:throw Error(A(161))}}catch(f){oe(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Uv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Uv(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function vn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Ov(t,e.alternate,e),e=e.sibling}function ji(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:wi(4,e,e.return),ji(e);break;case 1:ln(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Av(e,e.return,n),ji(e);break;case 27:ur(e.stateNode);case 26:case 5:ln(e,e.return),ji(e);break;case 22:e.memoizedState===null&&ji(e);break;case 30:ji(e);break;default:ji(e)}t=t.sibling}}function bn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:bn(s,a,n),$r(4,a);break;case 1:if(bn(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){oe(i,i.return,u)}if(i=a,s=i.updateQueue,s!==null){var l=i.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)Iy(o[s],l)}catch(u){oe(i,i.return,u)}}n&&r&64&&wv(a),ar(a,a.return);break;case 27:xv(a);case 26:case 5:bn(s,a,n),n&&i===null&&r&4&&Nv(a),ar(a,a.return);break;case 12:bn(s,a,n);break;case 31:bn(s,a,n),n&&r&4&&Iv(s,a);break;case 13:bn(s,a,n),n&&r&4&&kv(s,a);break;case 22:a.memoizedState===null&&bn(s,a,n),ar(a,a.return);break;case 30:break;default:bn(s,a,n)}e=e.sibling}}function id(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Wr(n))}function sd(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wr(t))}function Yt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zv(t,e,n,i),e=e.sibling}function zv(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Yt(t,e,n,i),s&2048&&$r(9,e);break;case 1:Yt(t,e,n,i);break;case 3:Yt(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wr(t)));break;case 12:if(s&2048){Yt(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(o){oe(e,e.return,o)}}else Yt(t,e,n,i);break;case 31:Yt(t,e,n,i);break;case 13:Yt(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?Yt(t,e,n,i):rr(t,e):a._visibility&2?Yt(t,e,n,i):(a._visibility|=2,Cs(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&id(r,e);break;case 24:Yt(t,e,n,i),s&2048&&sd(e.alternate,e);break;default:Yt(t,e,n,i)}}function Cs(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,r=e,l=n,o=i,u=r.flags;switch(r.tag){case 0:case 11:case 15:Cs(a,r,l,o,s),$r(8,r);break;case 23:break;case 22:var f=r.stateNode;r.memoizedState!==null?f._visibility&2?Cs(a,r,l,o,s):rr(a,r):(f._visibility|=2,Cs(a,r,l,o,s)),s&&u&2048&&id(r.alternate,r);break;case 24:Cs(a,r,l,o,s),s&&u&2048&&sd(r.alternate,r);break;default:Cs(a,r,l,o,s)}e=e.sibling}}function rr(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:rr(n,i),s&2048&&id(i.alternate,i);break;case 24:rr(n,i),s&2048&&sd(i.alternate,i);break;default:rr(n,i)}e=e.sibling}}var Xa=8192;function Ss(t,e,n){if(t.subtreeFlags&Xa)for(t=t.child;t!==null;)Bv(t,e,n),t=t.sibling}function Bv(t,e,n){switch(t.tag){case 26:Ss(t,e,n),t.flags&Xa&&t.memoizedState!==null&&tC(n,Qt,t.memoizedState,t.memoizedProps);break;case 5:Ss(t,e,n);break;case 3:case 4:var i=Qt;Qt=Do(t.stateNode.containerInfo),Ss(t,e,n),Qt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Xa,Xa=16777216,Ss(t,e,n),Xa=i):Ss(t,e,n));break;default:Ss(t,e,n)}}function Hv(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ba(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ve=i,Pv(i,t)}Hv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jv(t),t=t.sibling}function jv(t){switch(t.tag){case 0:case 11:case 15:Ba(t),t.flags&2048&&wi(9,t,t.return);break;case 3:Ba(t);break;case 12:Ba(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Kl(t)):Ba(t);break;default:Ba(t)}}function Kl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ve=i,Pv(i,t)}Hv(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:wi(8,e,e.return),Kl(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Kl(e));break;default:Kl(e)}t=t.sibling}}function Pv(t,e){for(;Ve!==null;){var n=Ve;switch(n.tag){case 0:case 11:case 15:wi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Wr(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ve=i;else e:for(n=t;Ve!==null;){i=Ve;var s=i.sibling,a=i.return;if(Mv(i),i===n){Ve=null;break e}if(s!==null){s.return=a,Ve=s;break e}Ve=a}}}var gT={getCacheForType:function(t){var e=$e(Ue),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return $e(Ue).controller.signal}},_T=typeof WeakMap=="function"?WeakMap:Map,ae=0,de=null,W=null,te=0,le=0,vt=null,ri=!1,Sa=!1,ad=!1,Hn=0,xe=0,Ai=0,Zi=0,rd=0,Et=0,sa=0,lr=null,ft=null,Rf=!1,Tu=0,Vv=0,wo=1/0,Ao=null,di=null,Be=0,mi=null,aa=null,Dn=0,xf=0,Of=null,qv=null,or=0,Mf=null;function At(){return ae&2&&te!==0?te&-te:B.T!==null?od():$_()}function Gv(){if(Et===0)if(!(te&536870912)||ne){var t=yl;yl<<=1,!(yl&3932160)&&(yl=262144),Et=t}else Et=536870912;return t=Rt.current,t!==null&&(t.flags|=32),Et}function dt(t,e,n){(t===de&&(le===2||le===9)||t.cancelPendingCommit!==null)&&(ra(t,0),li(t,te,Et,!1)),Qr(t,n),(!(ae&2)||t!==de)&&(t===de&&(!(ae&2)&&(Zi|=n),xe===4&&li(t,te,Et,!1)),dn(t))}function Fv(t,e,n){if(ae&6)throw Error(A(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Yr(t,e),s=i?bT(t,e):Sc(t,e,!0),a=i;do{if(s===0){Sa&&!i&&li(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!yT(n)){s=Sc(t,e,!1),a=!1;continue}if(s===2){if(a=e,t.errorRecoveryDisabledLanes&a)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var l=t;s=lr;var o=l.current.memoizedState.isDehydrated;if(o&&(ra(l,r).flags|=256),r=Sc(l,r,!1),r!==2){if(ad&&!o){l.errorRecoveryDisabledLanes|=a,Zi|=a,s=4;break e}a=ft,ft=s,a!==null&&(ft===null?ft=a:ft.push.apply(ft,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){ra(t,0),li(t,e,0,!0);break}e:{switch(i=t,a=s,a){case 0:case 1:throw Error(A(345));case 4:if((e&4194048)!==e)break;case 6:li(i,e,Et,!ri);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(A(329))}if((e&62914560)===e&&(s=Tu+300-Tt(),10<s)){if(li(i,e,Et,!ri),hu(i,0,!0)!==0)break e;Dn=e,i.timeoutHandle=f0(Mp.bind(null,i,n,ft,Ao,Rf,e,Et,Zi,sa,ri,a,"Throttled",-0,0),s);break e}Mp(i,n,ft,Ao,Rf,e,Et,Zi,sa,ri,a,null,-0,0)}}break}while(!0);dn(t)}function Mp(t,e,n,i,s,a,r,l,o,u,f,h,c,d){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},Bv(e,a,h);var _=(a&62914560)===a?Tu-Tt():(a&4194048)===a?Vv-Tt():0;if(_=nC(h,_),_!==null){Dn=a,t.cancelPendingCommit=_(Ip.bind(null,t,e,a,n,i,s,r,l,o,f,h,null,c,d)),li(t,a,r,!u);return}}Ip(t,e,a,n,i,s,r,l,o)}function yT(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!Nt(a(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e,n,i){e&=~rd,e&=~Zi,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var a=31-wt(s),r=1<<a;i[a]=-1,s&=~r}n!==0&&X_(t,n,e)}function Cu(){return ae&6?!0:(Jr(0),!1)}function ld(){if(W!==null){if(le===0)var t=W.return;else t=W,An=ps=null,Yh(t),qs=null,Tr=0,t=W;for(;t!==null;)Cv(t.alternate,t),t=t.return;W=null}}function ra(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,BT(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Dn=0,ld(),de=t,W=n=On(t.current,null),te=e,le=0,vt=null,ri=!1,Sa=Yr(t,e),ad=!1,sa=Et=rd=Zi=Ai=xe=0,ft=lr=null,Rf=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-wt(i),a=1<<s;e|=t[s],i&=~a}return Hn=e,gu(),n}function Yv(t,e){Y=null,B.H=wr,e===ba||e===yu?(e=up(),le=3):e===Hh?(e=up(),le=4):le=e===td?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,vt=e,W===null&&(xe=1,Eo(t,Ut(e,t.current)))}function Qv(){var t=Rt.current;return t===null?!0:(te&4194048)===te?Ht===null:(te&62914560)===te||te&536870912?t===Ht:!1}function Kv(){var t=B.H;return B.H=wr,t===null?wr:t}function Xv(){var t=B.A;return B.A=gT,t}function No(){xe=4,ri||(te&4194048)!==te&&Rt.current!==null||(Sa=!0),!(Ai&134217727)&&!(Zi&134217727)||de===null||li(de,te,Et,!1)}function Sc(t,e,n){var i=ae;ae|=2;var s=Kv(),a=Xv();(de!==t||te!==e)&&(Ao=null,ra(t,e)),e=!1;var r=xe;e:do try{if(le!==0&&W!==null){var l=W,o=vt;switch(le){case 8:ld(),r=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(e=!0);var u=le;if(le=0,vt=null,zs(t,l,o,u),n&&Sa){r=0;break e}break;default:u=le,le=0,vt=null,zs(t,l,o,u)}}vT(),r=xe;break}catch(f){Yv(t,f)}while(!0);return e&&t.shellSuspendCounter++,An=ps=null,ae=i,B.H=s,B.A=a,W===null&&(de=null,te=0,gu()),r}function vT(){for(;W!==null;)Wv(W)}function bT(t,e){var n=ae;ae|=2;var i=Kv(),s=Xv();de!==t||te!==e?(Ao=null,wo=Tt()+500,ra(t,e)):Sa=Yr(t,e);e:do try{if(le!==0&&W!==null){e=W;var a=vt;t:switch(le){case 1:le=0,vt=null,zs(t,e,a,1);break;case 2:case 9:if(op(a)){le=0,vt=null,Dp(e);break}e=function(){le!==2&&le!==9||de!==t||(le=7),dn(t)},a.then(e,e);break e;case 3:le=7;break e;case 4:le=5;break e;case 7:op(a)?(le=0,vt=null,Dp(e)):(le=0,vt=null,zs(t,e,a,7));break;case 5:var r=null;switch(W.tag){case 26:r=W.memoizedState;case 5:case 27:var l=W;if(r?g0(r):l.stateNode.complete){le=0,vt=null;var o=l.sibling;if(o!==null)W=o;else{var u=l.return;u!==null?(W=u,wu(u)):W=null}break t}}le=0,vt=null,zs(t,e,a,5);break;case 6:le=0,vt=null,zs(t,e,a,6);break;case 8:ld(),xe=6;break e;default:throw Error(A(462))}}ST();break}catch(f){Yv(t,f)}while(!0);return An=ps=null,B.H=i,B.A=s,ae=n,W!==null?0:(de=null,te=0,gu(),xe)}function ST(){for(;W!==null&&!GE();)Wv(W)}function Wv(t){var e=Tv(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?wu(t):W=e}function Dp(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=wp(n,e,e.pendingProps,e.type,void 0,te);break;case 11:e=wp(n,e,e.pendingProps,e.type.render,e.ref,te);break;case 5:Yh(e);default:Cv(n,e),e=W=Cy(e,Hn),e=Tv(n,e,Hn)}t.memoizedProps=t.pendingProps,e===null?wu(t):W=e}function zs(t,e,n,i){An=ps=null,Yh(e),qs=null,Tr=0;var s=e.return;try{if(uT(t,s,e,n,te)){xe=1,Eo(t,Ut(n,t.current)),W=null;return}}catch(a){if(s!==null)throw W=s,a;xe=1,Eo(t,Ut(n,t.current)),W=null;return}e.flags&32768?(ne||i===1?t=!0:Sa||te&536870912?t=!1:(ri=t=!0,(i===2||i===9||i===3||i===6)&&(i=Rt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Zv(e,t)):wu(e)}function wu(t){var e=t;do{if(e.flags&32768){Zv(e,ri);return}t=e.return;var n=hT(e.alternate,e,Hn);if(n!==null){W=n;return}if(e=e.sibling,e!==null){W=e;return}W=e=t}while(e!==null);xe===0&&(xe=5)}function Zv(t,e){do{var n=dT(t.alternate,t);if(n!==null){n.flags&=32767,W=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){W=t;return}W=t=n}while(t!==null);xe=6,W=null}function Ip(t,e,n,i,s,a,r,l,o){t.cancelPendingCommit=null;do Au();while(Be!==0);if(ae&6)throw Error(A(327));if(e!==null){if(e===t.current)throw Error(A(177));if(a=e.lanes|e.childLanes,a|=Dh,e1(t,n,a,r,l,o),t===de&&(W=de=null,te=0),aa=e,mi=t,Dn=n,xf=a,Of=s,qv=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,wT(co,function(){return n0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=B.T,B.T=null,s=re.p,re.p=2,r=ae,ae|=4;try{mT(t,e,n)}finally{ae=r,re.p=s,B.T=i}}Be=1,$v(),Jv(),e0()}}function $v(){if(Be===1){Be=0;var t=mi,e=aa,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=B.T,B.T=null;var i=re.p;re.p=2;var s=ae;ae|=4;try{Lv(e,t);var a=Lf,r=gy(t.containerInfo),l=a.focusedElem,o=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&py(l.ownerDocument.documentElement,l)){if(o!==null&&Mh(l)){var u=o.start,f=o.end;if(f===void 0&&(f=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(f,l.value.length);else{var h=l.ownerDocument||document,c=h&&h.defaultView||window;if(c.getSelection){var d=c.getSelection(),_=l.textContent.length,E=Math.min(o.start,_),T=o.end===void 0?E:Math.min(o.end,_);!d.extend&&E>T&&(r=T,T=E,E=r);var m=tp(l,E),g=tp(l,T);if(m&&g&&(d.rangeCount!==1||d.anchorNode!==m.node||d.anchorOffset!==m.offset||d.focusNode!==g.node||d.focusOffset!==g.offset)){var p=h.createRange();p.setStart(m.node,m.offset),d.removeAllRanges(),E>T?(d.addRange(p),d.extend(g.node,g.offset)):(p.setEnd(g.node,g.offset),d.addRange(p))}}}}for(h=[],d=l;d=d.parentNode;)d.nodeType===1&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var v=h[l];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Lo=!!kf,Lf=kf=null}finally{ae=s,re.p=i,B.T=n}}t.current=e,Be=2}}function Jv(){if(Be===2){Be=0;var t=mi,e=aa,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=B.T,B.T=null;var i=re.p;re.p=2;var s=ae;ae|=4;try{Ov(t,e.alternate,e)}finally{ae=s,re.p=i,B.T=n}}Be=3}}function e0(){if(Be===4||Be===3){Be=0,FE();var t=mi,e=aa,n=Dn,i=qv;e.subtreeFlags&10256||e.flags&10256?Be=5:(Be=0,aa=mi=null,t0(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(di=null),Ch(n),e=e.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Fr,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=B.T,s=re.p,re.p=2,B.T=null;try{for(var a=t.onRecoverableError,r=0;r<i.length;r++){var l=i[r];a(l.value,{componentStack:l.stack})}}finally{B.T=e,re.p=s}}Dn&3&&Au(),dn(t),s=t.pendingLanes,n&261930&&s&42?t===Mf?or++:(or=0,Mf=t):or=0,Jr(0)}}function t0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Wr(e)))}function Au(){return $v(),Jv(),e0(),n0()}function n0(){if(Be!==5)return!1;var t=mi,e=xf;xf=0;var n=Ch(Dn),i=B.T,s=re.p;try{re.p=32>n?32:n,B.T=null,n=Of,Of=null;var a=mi,r=Dn;if(Be=0,aa=mi=null,Dn=0,ae&6)throw Error(A(331));var l=ae;if(ae|=4,jv(a.current),zv(a,a.current,r,n),ae=l,Jr(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Fr,a)}catch{}return!0}finally{re.p=s,B.T=i,t0(t,e)}}function kp(t,e,n){e=Ut(n,e),e=Cf(t.stateNode,e,2),t=hi(t,e,2),t!==null&&(Qr(t,2),dn(t))}function oe(t,e,n){if(t.tag===3)kp(t,t,n);else for(;e!==null;){if(e.tag===3){kp(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(di===null||!di.has(i))){t=Ut(n,t),n=_v(2),i=hi(e,n,2),i!==null&&(yv(n,i,e,t),Qr(i,2),dn(i));break}}e=e.return}}function Ec(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new _T;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(ad=!0,s.add(n),t=ET.bind(null,t,e,n),e.then(t,t))}function ET(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,de===t&&(te&n)===n&&(xe===4||xe===3&&(te&62914560)===te&&300>Tt()-Tu?!(ae&2)&&ra(t,0):rd|=n,sa===te&&(sa=0)),dn(t)}function i0(t,e){e===0&&(e=K_()),t=ms(t,e),t!==null&&(Qr(t,e),dn(t))}function TT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),i0(t,n)}function CT(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(A(314))}i!==null&&i.delete(e),i0(t,n)}function wT(t,e){return Eh(t,e)}var Ro=null,ws=null,Df=!1,xo=!1,Tc=!1,oi=0;function dn(t){t!==ws&&t.next===null&&(ws===null?Ro=ws=t:ws=ws.next=t),xo=!0,Df||(Df=!0,NT())}function Jr(t,e){if(!Tc&&xo){Tc=!0;do for(var n=!1,i=Ro;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,l=i.pingedLanes;a=(1<<31-wt(42|t)+1)-1,a&=s&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Lp(i,a))}else a=te,a=hu(i,i===de?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Yr(i,a)||(n=!0,Lp(i,a));i=i.next}while(n);Tc=!1}}function AT(){s0()}function s0(){xo=Df=!1;var t=0;oi!==0&&zT()&&(t=oi);for(var e=Tt(),n=null,i=Ro;i!==null;){var s=i.next,a=a0(i,e);a===0?(i.next=null,n===null?Ro=s:n.next=s,s===null&&(ws=n)):(n=i,(t!==0||a&3)&&(xo=!0)),i=s}Be!==0&&Be!==5||Jr(t),oi!==0&&(oi=0)}function a0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var r=31-wt(a),l=1<<r,o=s[r];o===-1?(!(l&n)||l&i)&&(s[r]=JE(l,e)):o<=e&&(t.expiredLanes|=l),a&=~l}if(e=de,n=te,n=hu(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(le===2||le===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Zu(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Yr(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Zu(i),Ch(n)){case 2:case 8:n=Y_;break;case 32:n=co;break;case 268435456:n=Q_;break;default:n=co}return i=r0.bind(null,t),n=Eh(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Zu(i),t.callbackPriority=2,t.callbackNode=null,2}function r0(t,e){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Au()&&t.callbackNode!==n)return null;var i=te;return i=hu(t,t===de?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Fv(t,i,e),a0(t,Tt()),t.callbackNode!=null&&t.callbackNode===n?r0.bind(null,t):null)}function Lp(t,e){if(Au())return null;Fv(t,e,!0)}function NT(){HT(function(){ae&6?Eh(F_,AT):s0()})}function od(){if(oi===0){var t=ta;t===0&&(t=_l,_l<<=1,!(_l&261888)&&(_l=256)),oi=t}return oi}function Up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hl(""+t)}function zp(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function RT(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var a=Up((s[pt]||null).action),r=i.submitter;r&&(e=(e=r[pt]||null)?Up(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var l=new du("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(oi!==0){var o=r?zp(s,r):new FormData(s);Ef(n,{pending:!0,data:o,method:s.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=r?zp(s,r):new FormData(s),Ef(n,{pending:!0,data:o,method:s.method,action:a},a,o))},currentTarget:s}]})}}for(var Cc=0;Cc<cf.length;Cc++){var wc=cf[Cc],xT=wc.toLowerCase(),OT=wc[0].toUpperCase()+wc.slice(1);en(xT,"on"+OT)}en(yy,"onAnimationEnd");en(vy,"onAnimationIteration");en(by,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(Y1,"onTransitionRun");en(Q1,"onTransitionStart");en(K1,"onTransitionCancel");en(Sy,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ar));function l0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var r=i.length-1;0<=r;r--){var l=i[r],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=u;try{a(s)}catch(f){ho(f)}s.currentTarget=null,a=o}else for(r=0;r<i.length;r++){if(l=i[r],o=l.instance,u=l.currentTarget,l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=u;try{a(s)}catch(f){ho(f)}s.currentTarget=null,a=o}}}}function X(t,e){var n=e[tf];n===void 0&&(n=e[tf]=new Set);var i=t+"__bubble";n.has(i)||(o0(e,t,2,!1),n.add(i))}function Ac(t,e,n){var i=0;e&&(i|=4),o0(n,t,i,e)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[Nl]){t[Nl]=!0,J_.forEach(function(n){n!=="selectionchange"&&(MT.has(n)||Ac(n,!1,t),Ac(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nl]||(e[Nl]=!0,Ac("selectionchange",!1,e))}}function o0(t,e,n,i){switch(S0(e)){case 2:var s=aC;break;case 8:s=rC;break;default:s=dd}n=s.bind(null,e,n,t),s=void 0,!lf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Nc(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var l=i.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=i.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=Rs(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){i=a=r;continue e}l=l.parentNode}}i=i.return}ly(function(){var u=a,f=Nh(n),h=[];e:{var c=Ey.get(t);if(c!==void 0){var d=du,_=t;switch(t){case"keypress":if(Pl(n)===0)break e;case"keydown":case"keyup":d=C1;break;case"focusin":_="focus",d=nc;break;case"focusout":_="blur",d=nc;break;case"beforeblur":case"afterblur":d=nc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=h1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=N1;break;case yy:case vy:case by:d=p1;break;case Sy:d=x1;break;case"scroll":case"scrollend":d=c1;break;case"wheel":d=M1;break;case"copy":case"cut":case"paste":d=_1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Qm;break;case"toggle":case"beforetoggle":d=I1}var E=(e&4)!==0,T=!E&&(t==="scroll"||t==="scrollend"),m=E?c!==null?c+"Capture":null:c;E=[];for(var g=u,p;g!==null;){var v=g;if(p=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||p===null||m===null||(v=yr(g,m),v!=null&&E.push(Nr(g,v,p))),T)break;g=g.return}0<E.length&&(c=new d(c,_,null,n,f),h.push({event:c,listeners:E}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",c&&n!==rf&&(_=n.relatedTarget||n.fromElement)&&(Rs(_)||_[_a]))break e;if((d||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,d?(_=n.relatedTarget||n.toElement,d=u,_=_?Rs(_):null,_!==null&&(T=Gr(_),E=_.tag,_!==T||E!==5&&E!==27&&E!==6)&&(_=null)):(d=null,_=u),d!==_)){if(E=Fm,v="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(E=Qm,v="onPointerLeave",m="onPointerEnter",g="pointer"),T=d==null?c:Qa(d),p=_==null?c:Qa(_),c=new E(v,g+"leave",d,n,f),c.target=T,c.relatedTarget=p,v=null,Rs(f)===u&&(E=new E(m,g+"enter",_,n,f),E.target=p,E.relatedTarget=T,v=E),T=v,d&&_)t:{for(E=DT,m=d,g=_,p=0,v=m;v;v=E(v))p++;v=0;for(var N=g;N;N=E(N))v++;for(;0<p-v;)m=E(m),p--;for(;0<v-p;)g=E(g),v--;for(;p--;){if(m===g||g!==null&&m===g.alternate){E=m;break t}m=E(m),g=E(g)}E=null}else E=null;d!==null&&Bp(h,c,d,E,!1),_!==null&&T!==null&&Bp(h,T,_,E,!0)}}e:{if(c=u?Qa(u):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var x=Zm;else if(Wm(c))if(dy)x=q1;else{x=P1;var w=j1}else d=c.nodeName,!d||d.toLowerCase()!=="input"||c.type!=="checkbox"&&c.type!=="radio"?u&&Ah(u.elementType)&&(x=Zm):x=V1;if(x&&(x=x(t,u))){hy(h,x,n,f);break e}w&&w(t,c,u),t==="focusout"&&u&&c.type==="number"&&u.memoizedProps.value!=null&&af(c,"number",c.value)}switch(w=u?Qa(u):window,t){case"focusin":(Wm(w)||w.contentEditable==="true")&&(Ms=w,of=u,Ja=null);break;case"focusout":Ja=of=Ms=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,np(h,n,f);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":np(h,n,f)}var R;if(Oh)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Os?cy(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(uy&&n.locale!=="ko"&&(Os||M!=="onCompositionStart"?M==="onCompositionEnd"&&Os&&(R=oy()):(ai=f,Rh="value"in ai?ai.value:ai.textContent,Os=!0)),w=Oo(u,M),0<w.length&&(M=new Ym(M,t,null,n,f),h.push({event:M,listeners:w}),R?M.data=R:(R=fy(n),R!==null&&(M.data=R)))),(R=L1?U1(t,n):z1(t,n))&&(M=Oo(u,"onBeforeInput"),0<M.length&&(w=new Ym("onBeforeInput","beforeinput",null,n,f),h.push({event:w,listeners:M}),w.data=R)),RT(h,t,u,n,f)}l0(h,e)})}function Nr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oo(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=yr(t,n),s!=null&&i.unshift(Nr(t,s,a)),s=yr(t,e),s!=null&&i.push(Nr(t,s,a))),t.tag===3)return i;t=t.return}return[]}function DT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Bp(t,e,n,i,s){for(var a=e._reactName,r=[];n!==null&&n!==i;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===i)break;l!==5&&l!==26&&l!==27||u===null||(o=u,s?(u=yr(n,a),u!=null&&r.unshift(Nr(n,u,o))):s||(u=yr(n,a),u!=null&&r.push(Nr(n,u,o)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var IT=/\r\n?/g,kT=/\u0000|\uFFFD/g;function Hp(t){return(typeof t=="string"?t:""+t).replace(IT,`
`).replace(kT,"")}function u0(t,e){return e=Hp(e),Hp(t)===e}function ue(t,e,n,i,s,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||ea(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&ea(t,""+i);break;case"className":bl(t,"class",i);break;case"tabIndex":bl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":bl(t,n,i);break;case"style":ry(t,i,a);break;case"data":if(e!=="object"){bl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Hl(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&ue(t,e,"name",s.name,s,null),ue(t,e,"formEncType",s.formEncType,s,null),ue(t,e,"formMethod",s.formMethod,s,null),ue(t,e,"formTarget",s.formTarget,s,null)):(ue(t,e,"encType",s.encType,s,null),ue(t,e,"method",s.method,s,null),ue(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Hl(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=wn);break;case"onScroll":i!=null&&X("scroll",t);break;case"onScrollEnd":i!=null&&X("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(A(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(A(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Hl(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":X("beforetoggle",t),X("toggle",t),Bl(t,"popover",i);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Bl(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=o1.get(n)||n,Bl(t,n,i))}}function If(t,e,n,i,s,a){switch(n){case"style":ry(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(A(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(A(60));t.innerHTML=n}}break;case"children":typeof i=="string"?ea(t,i):(typeof i=="number"||typeof i=="bigint")&&ea(t,""+i);break;case"onScroll":i!=null&&X("scroll",t);break;case"onScrollEnd":i!=null&&X("scrollend",t);break;case"onClick":i!=null&&(t.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ey.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[pt]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Bl(t,n,i)}}}function Je(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":X("error",t),X("load",t);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:ue(t,e,a,r,n,null)}}s&&ue(t,e,"srcSet",n.srcSet,n,null),i&&ue(t,e,"src",n.src,n,null);return;case"input":X("invalid",t);var l=a=r=s=null,o=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":s=f;break;case"type":r=f;break;case"checked":o=f;break;case"defaultChecked":u=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(A(137,e));break;default:ue(t,e,i,f,n,null)}}iy(t,a,l,o,u,r,s,!1);return;case"select":X("invalid",t),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":i=l;default:ue(t,e,s,l,n,null)}e=a,n=r,t.multiple=!!i,e!=null?js(t,!!i,e,!1):n!=null&&js(t,!!i,n,!0);return;case"textarea":X("invalid",t),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":s=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:ue(t,e,r,l,n,null)}ay(t,i,s,a);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ue(t,e,o,i,n,null)}return;case"dialog":X("beforetoggle",t),X("toggle",t),X("cancel",t),X("close",t);break;case"iframe":case"object":X("load",t);break;case"video":case"audio":for(i=0;i<Ar.length;i++)X(Ar[i],t);break;case"image":X("error",t),X("load",t);break;case"details":X("toggle",t);break;case"embed":case"source":case"link":X("error",t),X("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:ue(t,e,u,i,n,null)}return;default:if(Ah(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&If(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&ue(t,e,l,i,n,null))}function LT(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,l=null,o=null,u=null,f=null;for(d in n){var h=n[d];if(n.hasOwnProperty(d)&&h!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":o=h;default:i.hasOwnProperty(d)||ue(t,e,d,null,i,h)}}for(var c in i){var d=i[c];if(h=n[c],i.hasOwnProperty(c)&&(d!=null||h!=null))switch(c){case"type":a=d;break;case"name":s=d;break;case"checked":u=d;break;case"defaultChecked":f=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,e));break;default:d!==h&&ue(t,e,c,d,i,h)}}sf(t,r,l,o,u,f,a,s);return;case"select":d=r=l=c=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":d=o;default:i.hasOwnProperty(a)||ue(t,e,a,null,i,o)}for(s in i)if(a=i[s],o=n[s],i.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":c=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==o&&ue(t,e,s,a,i,o)}e=l,n=r,i=d,c!=null?js(t,!!n,c,!1):!!i!=!!n&&(e!=null?js(t,!!n,e,!0):js(t,!!n,n?[]:"",!1));return;case"textarea":d=c=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ue(t,e,l,null,i,s)}for(r in i)if(s=i[r],a=n[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":c=s;break;case"defaultValue":d=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(A(91));break;default:s!==a&&ue(t,e,r,s,i,a)}sy(t,c,d);return;case"option":for(var _ in n)if(c=n[_],n.hasOwnProperty(_)&&c!=null&&!i.hasOwnProperty(_))switch(_){case"selected":t.selected=!1;break;default:ue(t,e,_,null,i,c)}for(o in i)if(c=i[o],d=n[o],i.hasOwnProperty(o)&&c!==d&&(c!=null||d!=null))switch(o){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ue(t,e,o,c,i,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)c=n[E],n.hasOwnProperty(E)&&c!=null&&!i.hasOwnProperty(E)&&ue(t,e,E,null,i,c);for(u in i)if(c=i[u],d=n[u],i.hasOwnProperty(u)&&c!==d&&(c!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(A(137,e));break;default:ue(t,e,u,c,i,d)}return;default:if(Ah(e)){for(var T in n)c=n[T],n.hasOwnProperty(T)&&c!==void 0&&!i.hasOwnProperty(T)&&If(t,e,T,void 0,i,c);for(f in i)c=i[f],d=n[f],!i.hasOwnProperty(f)||c===d||c===void 0&&d===void 0||If(t,e,f,c,i,d);return}}for(var m in n)c=n[m],n.hasOwnProperty(m)&&c!=null&&!i.hasOwnProperty(m)&&ue(t,e,m,null,i,c);for(h in i)c=i[h],d=n[h],!i.hasOwnProperty(h)||c===d||c==null&&d==null||ue(t,e,h,c,i,d)}function jp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,r=s.initiatorType,l=s.duration;if(a&&l&&jp(r)){for(r=0,l=s.responseEnd,i+=1;i<n.length;i++){var o=n[i],u=o.startTime;if(u>l)break;var f=o.transferSize,h=o.initiatorType;f&&jp(h)&&(o=o.responseEnd,r+=f*(o<l?1:(l-u)/(o-u)))}if(--i,e+=8*(a+r)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kf=null,Lf=null;function Mo(t){return t.nodeType===9?t:t.ownerDocument}function Pp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Uf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rc=null;function zT(){var t=window.event;return t&&t.type==="popstate"?t===Rc?!1:(Rc=t,!0):(Rc=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,Vp=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof Vp<"u"?function(t){return Vp.resolve(null).then(t).catch(jT)}:f0;function jT(t){setTimeout(function(){throw t})}function Mi(t){return t==="head"}function qp(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),oa(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ur(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,ur(n);for(var a=n.firstChild;a;){var r=a.nextSibling,l=a.nodeName;a[Kr]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=r}}else n==="body"&&ur(t.ownerDocument.body);n=s}while(n);oa(e)}function Gp(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function zf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":zf(n),wh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function PT(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Kr])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=jt(t.nextSibling),t===null)break}return null}function VT(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jt(t.nextSibling),t===null))return null;return t}function h0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=jt(t.nextSibling),t===null))return null;return t}function Bf(t){return t.data==="$?"||t.data==="$~"}function Hf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qT(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function jt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var jf=null;function Fp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return jt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Yp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function d0(t,e,n){switch(e=Mo(n),t){case"html":if(t=e.documentElement,!t)throw Error(A(452));return t;case"head":if(t=e.head,!t)throw Error(A(453));return t;case"body":if(t=e.body,!t)throw Error(A(454));return t;default:throw Error(A(451))}}function ur(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);wh(t)}var Pt=new Map,Qp=new Set;function Do(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gn=re.d;re.d={f:GT,r:FT,D:YT,C:QT,L:KT,m:XT,X:ZT,S:WT,M:$T};function GT(){var t=Gn.f(),e=Cu();return t||e}function FT(t){var e=ya(t);e!==null&&e.tag===5&&e.type==="form"?rv(e):Gn.r(t)}var Ea=typeof document>"u"?null:document;function m0(t,e,n){var i=Ea;if(i&&typeof e=="string"&&e){var s=Lt(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Qp.has(s)||(Qp.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),Je(e,"link",t),Ge(e),i.head.appendChild(e)))}}function YT(t){Gn.D(t),m0("dns-prefetch",t,null)}function QT(t,e){Gn.C(t,e),m0("preconnect",t,e)}function KT(t,e,n){Gn.L(t,e,n);var i=Ea;if(i&&t&&e){var s='link[rel="preload"][as="'+Lt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Lt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Lt(n.imageSizes)+'"]')):s+='[href="'+Lt(t)+'"]';var a=s;switch(e){case"style":a=la(t);break;case"script":a=Ta(t)}Pt.has(a)||(t=Te({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Pt.set(a,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(el(a))||e==="script"&&i.querySelector(tl(a))||(e=i.createElement("link"),Je(e,"link",t),Ge(e),i.head.appendChild(e)))}}function XT(t,e){Gn.m(t,e);var n=Ea;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+Lt(i)+'"][href="'+Lt(t)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ta(t)}if(!Pt.has(a)&&(t=Te({rel:"modulepreload",href:t},e),Pt.set(a,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(tl(a)))return}i=n.createElement("link"),Je(i,"link",t),Ge(i),n.head.appendChild(i)}}}function WT(t,e,n){Gn.S(t,e,n);var i=Ea;if(i&&t){var s=Hs(i).hoistableStyles,a=la(t);e=e||"default";var r=s.get(a);if(!r){var l={loading:0,preload:null};if(r=i.querySelector(el(a)))l.loading=5;else{t=Te({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Pt.get(a))&&cd(t,n);var o=r=i.createElement("link");Ge(o),Je(o,"link",t),o._p=new Promise(function(u,f){o.onload=u,o.onerror=f}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Xl(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(a,r)}}}function ZT(t,e){Gn.X(t,e);var n=Ea;if(n&&t){var i=Hs(n).hoistableScripts,s=Ta(t),a=i.get(s);a||(a=n.querySelector(tl(s)),a||(t=Te({src:t,async:!0},e),(e=Pt.get(s))&&fd(t,e),a=n.createElement("script"),Ge(a),Je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function $T(t,e){Gn.M(t,e);var n=Ea;if(n&&t){var i=Hs(n).hoistableScripts,s=Ta(t),a=i.get(s);a||(a=n.querySelector(tl(s)),a||(t=Te({src:t,async:!0,type:"module"},e),(e=Pt.get(s))&&fd(t,e),a=n.createElement("script"),Ge(a),Je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function Kp(t,e,n,i){var s=(s=ui.current)?Do(s):null;if(!s)throw Error(A(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=la(n.href),n=Hs(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=la(n.href);var a=Hs(s).hoistableStyles,r=a.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,r),(a=s.querySelector(el(t)))&&!a._p&&(r.instance=a,r.state.loading=5),Pt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Pt.set(t,n),a||JT(s,t,n,r.state))),e&&i===null)throw Error(A(528,""));return r}if(e&&i!==null)throw Error(A(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ta(n),n=Hs(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,t))}}function la(t){return'href="'+Lt(t)+'"'}function el(t){return'link[rel="stylesheet"]['+t+"]"}function p0(t){return Te({},t,{"data-precedence":t.precedence,precedence:null})}function JT(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Je(e,"link",n),Ge(e),t.head.appendChild(e))}function Ta(t){return'[src="'+Lt(t)+'"]'}function tl(t){return"script[async]"+t}function Xp(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Lt(n.href)+'"]');if(i)return e.instance=i,Ge(i),i;var s=Te({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ge(i),Je(i,"style",s),Xl(i,n.precedence,t),e.instance=i;case"stylesheet":s=la(n.href);var a=t.querySelector(el(s));if(a)return e.state.loading|=4,e.instance=a,Ge(a),a;i=p0(n),(s=Pt.get(s))&&cd(i,s),a=(t.ownerDocument||t).createElement("link"),Ge(a);var r=a;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Je(a,"link",i),e.state.loading|=4,Xl(a,n.precedence,t),e.instance=a;case"script":return a=Ta(n.src),(s=t.querySelector(tl(a)))?(e.instance=s,Ge(s),s):(i=n,(s=Pt.get(a))&&(i=Te({},n),fd(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),Ge(s),Je(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(A(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Xl(i,n.precedence,t));return e.instance}function Xl(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var l=i[r];if(l.dataset.precedence===e)a=l;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function cd(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function fd(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Wl=null;function Wp(t,e,n){if(Wl===null){var i=new Map,s=Wl=new Map;s.set(n,i)}else s=Wl,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[Kr]||a[We]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=t+r;var l=i.get(r);l?l.push(a):i.set(r,[a])}}return i}function Zp(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function eC(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function g0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function tC(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=la(i.href),a=e.querySelector(el(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Io.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Ge(a);return}a=e.ownerDocument||e,i=p0(i),(s=Pt.get(s))&&cd(i,s),a=a.createElement("link"),Ge(a);var r=a;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Je(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Io.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var xc=0;function nC(t,e){return t.stylesheets&&t.count===0&&Zl(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Zl(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&xc===0&&(xc=62500*UT());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zl(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>xc?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function Io(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ko=null;function Zl(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ko=new Map,e.forEach(iC,t),ko=null,Io.call(t))}function iC(t,e){if(!(e.state.loading&4)){var n=ko.get(t);if(n)var i=n.get(null);else{n=new Map,ko.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),a=n.get(r)||i,a===i&&n.set(null,s),n.set(r,s),this.count++,i=Io.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Rr={$$typeof:Cn,Provider:null,Consumer:null,_currentValue:Qi,_currentValue2:Qi,_threadCount:0};function sC(t,e,n,i,s,a,r,l,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$u(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.hiddenUpdates=$u(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function _0(t,e,n,i,s,a,r,l,o,u,f,h){return t=new sC(t,e,n,r,o,u,f,h,l),e=1,a===!0&&(e|=24),a=St(3,null,null,e),t.current=a,a.stateNode=t,e=zh(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},jh(a),t}function y0(t){return t?(t=ks,t):ks}function v0(t,e,n,i,s,a){s=y0(s),i.context===null?i.context=s:i.pendingContext=s,i=fi(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=hi(t,i,e),n!==null&&(dt(n,t,e),tr(n,t,e))}function $p(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hd(t,e){$p(t,e),(t=t.alternate)&&$p(t,e)}function b0(t){if(t.tag===13||t.tag===31){var e=ms(t,67108864);e!==null&&dt(e,t,67108864),hd(t,67108864)}}function Jp(t){if(t.tag===13||t.tag===31){var e=At();e=Th(e);var n=ms(t,e);n!==null&&dt(n,t,e),hd(t,e)}}var Lo=!0;function aC(t,e,n,i){var s=B.T;B.T=null;var a=re.p;try{re.p=2,dd(t,e,n,i)}finally{re.p=a,B.T=s}}function rC(t,e,n,i){var s=B.T;B.T=null;var a=re.p;try{re.p=8,dd(t,e,n,i)}finally{re.p=a,B.T=s}}function dd(t,e,n,i){if(Lo){var s=Pf(i);if(s===null)Nc(t,e,i,Uo,n),eg(t,i);else if(oC(s,t,e,n,i))i.stopPropagation();else if(eg(t,i),e&4&&-1<lC.indexOf(t)){for(;s!==null;){var a=ya(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Bi(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-wt(r);l.entanglements[1]|=o,r&=~o}dn(a),!(ae&6)&&(wo=Tt()+500,Jr(0))}}break;case 31:case 13:l=ms(a,2),l!==null&&dt(l,a,2),Cu(),hd(a,2)}if(a=Pf(i),a===null&&Nc(t,e,i,Uo,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Nc(t,e,i,null,n)}}function Pf(t){return t=Nh(t),md(t)}var Uo=null;function md(t){if(Uo=null,t=Rs(t),t!==null){var e=Gr(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=j_(e),t!==null)return t;t=null}else if(n===31){if(t=P_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Uo=t,null}function S0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(YE()){case F_:return 2;case Y_:return 8;case co:case QE:return 32;case Q_:return 268435456;default:return 32}default:return 32}}var Vf=!1,pi=null,gi=null,_i=null,xr=new Map,Or=new Map,ei=[],lC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eg(t,e){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":xr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(e.pointerId)}}function Ha(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=ya(e),e!==null&&b0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function oC(t,e,n,i,s){switch(e){case"focusin":return pi=Ha(pi,t,e,n,i,s),!0;case"dragenter":return gi=Ha(gi,t,e,n,i,s),!0;case"mouseover":return _i=Ha(_i,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return xr.set(a,Ha(xr.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Or.set(a,Ha(Or.get(a)||null,t,e,n,i,s)),!0}return!1}function E0(t){var e=Rs(t.target);if(e!==null){var n=Gr(e);if(n!==null){if(e=n.tag,e===13){if(e=j_(n),e!==null){t.blockedOn=e,Bm(t.priority,function(){Jp(n)});return}}else if(e===31){if(e=P_(n),e!==null){t.blockedOn=e,Bm(t.priority,function(){Jp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $l(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pf(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);rf=i,n.target.dispatchEvent(i),rf=null}else return e=ya(n),e!==null&&b0(e),t.blockedOn=n,!1;e.shift()}return!0}function tg(t,e,n){$l(t)&&n.delete(e)}function uC(){Vf=!1,pi!==null&&$l(pi)&&(pi=null),gi!==null&&$l(gi)&&(gi=null),_i!==null&&$l(_i)&&(_i=null),xr.forEach(tg),Or.forEach(tg)}function Rl(t,e){t.blockedOn===e&&(t.blockedOn=null,Vf||(Vf=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,uC)))}var xl=null;function ng(t){xl!==t&&(xl=t,je.unstable_scheduleCallback(je.unstable_NormalPriority,function(){xl===t&&(xl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(md(i||n)===null)continue;break}var a=ya(n);a!==null&&(t.splice(e,3),e-=3,Ef(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function oa(t){function e(o){return Rl(o,t)}pi!==null&&Rl(pi,t),gi!==null&&Rl(gi,t),_i!==null&&Rl(_i,t),xr.forEach(e),Or.forEach(e);for(var n=0;n<ei.length;n++){var i=ei[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<ei.length&&(n=ei[0],n.blockedOn===null);)E0(n),n.blockedOn===null&&ei.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],r=s[pt]||null;if(typeof a=="function")r||ng(n);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[pt]||null)l=r.formAction;else if(md(s)!==null)continue}else l=r.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),ng(n)}}}function T0(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function pd(t){this._internalRoot=t}Nu.prototype.render=pd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));var n=e.current,i=At();v0(n,i,t,e,null,null)};Nu.prototype.unmount=pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;v0(t.current,2,null,t,null,null),Cu(),e[_a]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var e=$_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ei.length&&e!==0&&e<ei[n].priority;n++);ei.splice(n,0,t),n===0&&E0(t)}};var ig=B_.version;if(ig!=="19.2.1")throw Error(A(527,ig,"19.2.1"));re.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=HE(e),t=t!==null?V_(t):null,t=t===null?null:t.stateNode,t};var cC={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{Fr=Ol.inject(cC),Ct=Ol}catch{}}cu.createRoot=function(t,e){if(!H_(t))throw Error(A(299));var n=!1,i="",s=mv,a=pv,r=gv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=_0(t,1,!1,null,null,n,i,null,s,a,r,T0),t[_a]=e.current,ud(t),new pd(e)};cu.hydrateRoot=function(t,e,n){if(!H_(t))throw Error(A(299));var i=!1,s="",a=mv,r=pv,l=gv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),e=_0(t,1,!0,e,n??null,i,s,o,a,r,l,T0),e.context=y0(null),n=e.current,i=At(),i=Th(i),s=fi(i),s.callback=null,hi(n,s,i),n=i,e.current.lanes=n,Qr(e,n),dn(e),t[_a]=e.current,ud(t),new Nu(e)};cu.version="19.2.1";function C0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C0)}catch(t){console.error(t)}}C0(),D_.exports=cu;var fC=D_.exports;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sg="popstate";function hC(t={}){function e(s,a){let{pathname:r="/",search:l="",hash:o=""}=gs(s.location.hash.substring(1));return!r.startsWith("/")&&!r.startsWith(".")&&(r="/"+r),qf("",{pathname:r,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let r=s.document.querySelector("base"),l="";if(r&&r.getAttribute("href")){let o=s.location.href,u=o.indexOf("#");l=u===-1?o:o.slice(0,u)}return l+"#"+(typeof a=="string"?a:Mr(a))}function i(s,a){Vt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return mC(e,n,i,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dC(){return Math.random().toString(36).substring(2,10)}function ag(t,e){return{usr:t.state,key:t.key,idx:e}}function qf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gs(e):e,state:n,key:e&&e.key||i||dC()}}function Mr({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function mC(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,r=s.history,l="POP",o=null,u=f();u==null&&(u=0,r.replaceState({...r.state,idx:u},""));function f(){return(r.state||{idx:null}).idx}function h(){l="POP";let T=f(),m=T==null?null:T-u;u=T,o&&o({action:l,location:E.location,delta:m})}function c(T,m){l="PUSH";let g=qf(E.location,T,m);n&&n(g,T),u=f()+1;let p=ag(g,u),v=E.createHref(g);try{r.pushState(p,"",v)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(v)}a&&o&&o({action:l,location:E.location,delta:1})}function d(T,m){l="REPLACE";let g=qf(E.location,T,m);n&&n(g,T),u=f();let p=ag(g,u),v=E.createHref(g);r.replaceState(p,"",v),a&&o&&o({action:l,location:E.location,delta:0})}function _(T){return pC(T)}let E={get action(){return l},get location(){return t(s,r)},listen(T){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(sg,h),o=T,()=>{s.removeEventListener(sg,h),o=null}},createHref(T){return e(s,T)},createURL:_,encodeLocation(T){let m=_(T);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:c,replace:d,go(T){return r.go(T)}};return E}function pC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),we(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Mr(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function w0(t,e,n="/"){return gC(t,e,n,!1)}function gC(t,e,n,i){let s=typeof e=="string"?gs(e):e,a=jn(s.pathname||"/",n);if(a==null)return null;let r=A0(t);_C(r);let l=null;for(let o=0;l==null&&o<r.length;++o){let u=RC(a);l=AC(r[o],u,i)}return l}function A0(t,e=[],n=[],i="",s=!1){let a=(r,l,o=s,u)=>{let f={relativePath:u===void 0?r.path||"":u,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&o)return;we(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let h=In([i,f.relativePath]),c=n.concat(f);r.children&&r.children.length>0&&(we(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),A0(r.children,e,c,h,o)),!(r.path==null&&!r.index)&&e.push({path:h,score:CC(h,r.index),routesMeta:c})};return t.forEach((r,l)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))a(r,l);else for(let u of N0(r.path))a(r,l,!0,u)}),e}function N0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let r=N0(i.join("/")),l=[];return l.push(...r.map(o=>o===""?a:[a,o].join("/"))),s&&l.push(...r),l.map(o=>t.startsWith("/")&&o===""?"/":o)}function _C(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var yC=/^:[\w-]+$/,vC=3,bC=2,SC=1,EC=10,TC=-2,rg=t=>t==="*";function CC(t,e){let n=t.split("/"),i=n.length;return n.some(rg)&&(i+=TC),e&&(i+=bC),n.filter(s=>!rg(s)).reduce((s,a)=>s+(yC.test(a)?vC:a===""?SC:EC),i)}function wC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function AC(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",r=[];for(let l=0;l<i.length;++l){let o=i[l],u=l===i.length-1,f=a==="/"?e:e.slice(a.length)||"/",h=zo({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},f),c=o.route;if(!h&&u&&n&&!i[i.length-1].route.index&&(h=zo({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),r.push({params:s,pathname:In([a,h.pathname]),pathnameBase:IC(In([a,h.pathnameBase])),route:c}),h.pathnameBase!=="/"&&(a=In([a,h.pathnameBase]))}return r}function zo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=NC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((u,{paramName:f,isOptional:h},c)=>{if(f==="*"){let _=l[c]||"";r=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const d=l[c];return h&&!d?u[f]=void 0:u[f]=(d||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:r,pattern:t}}function NC(t,e=!1,n=!0){Vt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,o)=>(i.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function RC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var xC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OC=t=>xC.test(t);function MC(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?gs(t):t,a;if(n)if(OC(n))a=n;else{if(n.includes("//")){let r=n;n=n.replace(/\/\/+/g,"/"),Vt(!1,`Pathnames cannot have embedded double slashes - normalizing ${r} -> ${n}`)}n.startsWith("/")?a=lg(n.substring(1),"/"):a=lg(n,e)}else a=e;return{pathname:a,search:kC(i),hash:LC(s)}}function lg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Oc(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R0(t){let e=DC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function x0(t,e,n,i=!1){let s;typeof t=="string"?s=gs(t):(s={...t},we(!s.pathname||!s.pathname.includes("?"),Oc("?","pathname","search",s)),we(!s.pathname||!s.pathname.includes("#"),Oc("#","pathname","hash",s)),we(!s.search||!s.search.includes("#"),Oc("#","search","hash",s)));let a=t===""||s.pathname==="",r=a?"/":s.pathname,l;if(r==null)l=n;else{let h=e.length-1;if(!i&&r.startsWith("..")){let c=r.split("/");for(;c[0]==="..";)c.shift(),h-=1;s.pathname=c.join("/")}l=h>=0?e[h]:"/"}let o=MC(s,l),u=r&&r!=="/"&&r.endsWith("/"),f=(a||r===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||f)&&(o.pathname+="/"),o}var In=t=>t.join("/").replace(/\/\/+/g,"/"),IC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function zC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O0=["POST","PUT","PATCH","DELETE"];new Set(O0);var BC=["GET",...O0];new Set(BC);var Ca=S.createContext(null);Ca.displayName="DataRouter";var Ru=S.createContext(null);Ru.displayName="DataRouterState";S.createContext(!1);var M0=S.createContext({isTransitioning:!1});M0.displayName="ViewTransition";var HC=S.createContext(new Map);HC.displayName="Fetchers";var jC=S.createContext(null);jC.displayName="Await";var tn=S.createContext(null);tn.displayName="Navigation";var nl=S.createContext(null);nl.displayName="Location";var Fn=S.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var gd=S.createContext(null);gd.displayName="RouteError";function PC(t,{relative:e}={}){we(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=S.useContext(tn),{hash:s,pathname:a,search:r}=sl(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:In([n,a])),i.createHref({pathname:l,search:r,hash:s})}function il(){return S.useContext(nl)!=null}function Di(){return we(il(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(nl).location}var D0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I0(t){S.useContext(tn).static||S.useLayoutEffect(t)}function k0(){let{isDataRoute:t}=S.useContext(Fn);return t?ew():VC()}function VC(){we(il(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Ca),{basename:e,navigator:n}=S.useContext(tn),{matches:i}=S.useContext(Fn),{pathname:s}=Di(),a=JSON.stringify(R0(i)),r=S.useRef(!1);return I0(()=>{r.current=!0}),S.useCallback((o,u={})=>{if(Vt(r.current,D0),!r.current)return;if(typeof o=="number"){n.go(o);return}let f=x0(o,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:In([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,a,s,t])}S.createContext(null);function sl(t,{relative:e}={}){let{matches:n}=S.useContext(Fn),{pathname:i}=Di(),s=JSON.stringify(R0(n));return S.useMemo(()=>x0(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function qC(t,e){return L0(t,e)}function L0(t,e,n,i,s){var g;we(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(tn),{matches:r}=S.useContext(Fn),l=r[r.length-1],o=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let p=h&&h.path||"";U0(u,!h||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let c=Di(),d;if(e){let p=typeof e=="string"?gs(e):e;we(f==="/"||((g=p.pathname)==null?void 0:g.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${p.pathname}" was given in the \`location\` prop.`),d=p}else d=c;let _=d.pathname||"/",E=_;if(f!=="/"){let p=f.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(p.length).join("/")}let T=w0(t,{pathname:E});Vt(h||T!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Vt(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=KC(T&&T.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:In([f,a.encodeLocation?a.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?f:In([f,a.encodeLocation?a.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),r,n,i,s);return e&&m?S.createElement(nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},m):m}function GC(){let t=JC(),e=UC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",t),r=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,r)}var FC=S.createElement(GC,null),YC=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(Fn.Provider,{value:this.props.routeContext},S.createElement(gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QC({routeContext:t,match:e,children:n}){let i=S.useContext(Ca);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Fn.Provider,{value:t},n)}function KC(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,r=n==null?void 0:n.errors;if(r!=null){let f=a.findIndex(h=>h.route.id&&(r==null?void 0:r[h.route.id])!==void 0);we(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,o=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(o=f),h.route.id){let{loaderData:c,errors:d}=n,_=h.route.loader&&!c.hasOwnProperty(h.route.id)&&(!d||d[h.route.id]===void 0);if(h.route.lazy||_){l=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}let u=n&&i?(f,h)=>{var c,d;i(f,{location:n.location,params:((d=(c=n.matches)==null?void 0:c[0])==null?void 0:d.params)??{},unstable_pattern:zC(n.matches),errorInfo:h})}:void 0;return a.reduceRight((f,h,c)=>{let d,_=!1,E=null,T=null;n&&(d=r&&h.route.id?r[h.route.id]:void 0,E=h.route.errorElement||FC,l&&(o<0&&c===0?(U0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):o===c&&(_=!0,T=h.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,c+1)),g=()=>{let p;return d?p=E:_?p=T:h.route.Component?p=S.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=f,S.createElement(QC,{match:h,routeContext:{outlet:f,matches:m,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||c===0)?S.createElement(YC,{location:n.location,revalidation:n.revalidation,component:E,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:u}):g()},null)}function _d(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XC(t){let e=S.useContext(Ca);return we(e,_d(t)),e}function WC(t){let e=S.useContext(Ru);return we(e,_d(t)),e}function ZC(t){let e=S.useContext(Fn);return we(e,_d(t)),e}function yd(t){let e=ZC(t),n=e.matches[e.matches.length-1];return we(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function $C(){return yd("useRouteId")}function JC(){var i;let t=S.useContext(gd),e=WC("useRouteError"),n=yd("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function ew(){let{router:t}=XC("useNavigate"),e=yd("useNavigate"),n=S.useRef(!1);return I0(()=>{n.current=!0}),S.useCallback(async(s,a={})=>{Vt(n.current,D0),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var og={};function U0(t,e,n){!e&&!og[t]&&(og[t]=!0,Vt(!1,n))}S.memo(tw);function tw({routes:t,future:e,state:n,unstable_onError:i}){return L0(t,void 0,n,i,e)}function Gf(t){we(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nw({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:r}){we(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),o=S.useMemo(()=>({basename:l,navigator:s,static:a,unstable_useTransitions:r,future:{}}),[l,s,a,r]);typeof n=="string"&&(n=gs(n));let{pathname:u="/",search:f="",hash:h="",state:c=null,key:d="default"}=n,_=S.useMemo(()=>{let E=jn(u,l);return E==null?null:{location:{pathname:E,search:f,hash:h,state:c,key:d},navigationType:i}},[l,u,f,h,c,d,i]);return Vt(_!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:S.createElement(tn.Provider,{value:o},S.createElement(nl.Provider,{children:e,value:_}))}function iw({children:t,location:e}){return qC(Ff(t),e)}function Ff(t,e=[]){let n=[];return S.Children.forEach(t,(i,s)=>{if(!S.isValidElement(i))return;let a=[...e,s];if(i.type===S.Fragment){n.push.apply(n,Ff(i.props.children,a));return}we(i.type===Gf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),we(!i.props.index||!i.props.children,"An index route cannot have child routes.");let r={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(r.children=Ff(i.props.children,a)),n.push(r)}),n}var Jl="get",eo="application/x-www-form-urlencoded";function xu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function sw(t){return xu(t)&&t.tagName.toLowerCase()==="button"}function aw(t){return xu(t)&&t.tagName.toLowerCase()==="form"}function rw(t){return xu(t)&&t.tagName.toLowerCase()==="input"}function lw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ow(t,e){return t.button===0&&(!e||e==="_self")&&!lw(t)}var Ml=null;function uw(){if(Ml===null)try{new FormData(document.createElement("form"),0),Ml=!1}catch{Ml=!0}return Ml}var cw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mc(t){return t!=null&&!cw.has(t)?(Vt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eo}"`),null):t}function fw(t,e){let n,i,s,a,r;if(aw(t)){let l=t.getAttribute("action");i=l?jn(l,e):null,n=t.getAttribute("method")||Jl,s=Mc(t.getAttribute("enctype"))||eo,a=new FormData(t)}else if(sw(t)||rw(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||l.getAttribute("action");if(i=o?jn(o,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Jl,s=Mc(t.getAttribute("formenctype"))||Mc(l.getAttribute("enctype"))||eo,a=new FormData(l,t),!uw()){let{name:u,type:f,value:h}=t;if(f==="image"){let c=u?`${u}.`:"";a.append(`${c}x`,"0"),a.append(`${c}y`,"0")}else u&&a.append(u,h)}}else{if(xu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jl,i=null,s=eo,r=t}return a&&s==="text/plain"&&(r=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hw(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&jn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function dw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pw(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let r=await dw(a,n);return r.links?r.links():[]}return[]}));return vw(i.flat(1).filter(mw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ug(t,e,n,i,s,a){let r=(o,u)=>n[u]?o.route.id!==n[u].route.id:!0,l=(o,u)=>{var f;return n[u].pathname!==o.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==o.params["*"]};return a==="assets"?e.filter((o,u)=>r(o,u)||l(o,u)):a==="data"?e.filter((o,u)=>{var h;let f=i.routes[o.route.id];if(!f||!f.hasLoader)return!1;if(r(o,u)||l(o,u))return!0;if(o.route.shouldRevalidate){let c=o.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof c=="boolean")return c}return!0}):[]}function gw(t,e,{includeHydrateFallback:n}={}){return _w(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function _w(t){return[...new Set(t)]}function yw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function vw(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(yw(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function z0(){let t=S.useContext(Ca);return vd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bw(){let t=S.useContext(Ru);return vd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var bd=S.createContext(void 0);bd.displayName="FrameworkContext";function B0(){let t=S.useContext(bd);return vd(t,"You must render this element inside a <HydratedRouter> element"),t}function Sw(t,e){let n=S.useContext(bd),[i,s]=S.useState(!1),[a,r]=S.useState(!1),{onFocus:l,onBlur:o,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=e,c=S.useRef(null);S.useEffect(()=>{if(t==="render"&&r(!0),t==="viewport"){let E=m=>{m.forEach(g=>{r(g.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return c.current&&T.observe(c.current),()=>{T.disconnect()}}},[t]),S.useEffect(()=>{if(i){let E=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(E)}}},[i]);let d=()=>{s(!0)},_=()=>{s(!1),r(!1)};return n?t!=="intent"?[a,c,{}]:[a,c,{onFocus:ja(l,d),onBlur:ja(o,_),onMouseEnter:ja(u,d),onMouseLeave:ja(f,_),onTouchStart:ja(h,d)}]:[!1,c,{}]}function ja(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ew({page:t,...e}){let{router:n}=z0(),i=S.useMemo(()=>w0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?S.createElement(Cw,{page:t,matches:i,...e}):null}function Tw(t){let{manifest:e,routeModules:n}=B0(),[i,s]=S.useState([]);return S.useEffect(()=>{let a=!1;return pw(t,e,n).then(r=>{a||s(r)}),()=>{a=!0}},[t,e,n]),i}function Cw({page:t,matches:e,...n}){let i=Di(),{manifest:s,routeModules:a}=B0(),{basename:r}=z0(),{loaderData:l,matches:o}=bw(),u=S.useMemo(()=>ug(t,e,o,s,i,"data"),[t,e,o,s,i]),f=S.useMemo(()=>ug(t,e,o,s,i,"assets"),[t,e,o,s,i]),h=S.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let _=new Set,E=!1;if(e.forEach(m=>{var p;let g=s.routes[m.route.id];!g||!g.hasLoader||(!u.some(v=>v.route.id===m.route.id)&&m.route.id in l&&((p=a[m.route.id])!=null&&p.shouldRevalidate)||g.hasClientLoader?E=!0:_.add(m.route.id))}),_.size===0)return[];let T=hw(t,r,"data");return E&&_.size>0&&T.searchParams.set("_routes",e.filter(m=>_.has(m.route.id)).map(m=>m.route.id).join(",")),[T.pathname+T.search]},[r,l,i,s,u,e,t,a]),c=S.useMemo(()=>gw(f,s),[f,s]),d=Tw(f);return S.createElement(S.Fragment,null,h.map(_=>S.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),c.map(_=>S.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),d.map(({key:_,link:E})=>S.createElement("link",{key:_,nonce:n.nonce,...E})))}function ww(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H0&&(window.__reactRouterVersion="7.10.1")}catch{}function Aw({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=S.useRef();s.current==null&&(s.current=hC({window:i,v5Compat:!0}));let a=s.current,[r,l]=S.useState({action:a.action,location:a.location}),o=S.useCallback(u=>{n===!1?l(u):S.startTransition(()=>l(u))},[n]);return S.useLayoutEffect(()=>a.listen(o),[a,o]),S.createElement(nw,{basename:t,children:e,location:r.location,navigationType:r.action,navigator:a,unstable_useTransitions:n===!0})}var j0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bo=S.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:r,state:l,target:o,to:u,preventScrollReset:f,viewTransition:h,...c},d){let{basename:_,unstable_useTransitions:E}=S.useContext(tn),T=typeof u=="string"&&j0.test(u),m,g=!1;if(typeof u=="string"&&T&&(m=u,H0))try{let k=new URL(window.location.href),q=u.startsWith("//")?new URL(k.protocol+u):new URL(u),ye=jn(q.pathname,_);q.origin===k.origin&&ye!=null?u=ye+q.search+q.hash:g=!0}catch{Vt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=PC(u,{relative:s}),[v,N,x]=Sw(i,c),w=Ow(u,{replace:r,state:l,target:o,preventScrollReset:f,relative:s,viewTransition:h,unstable_useTransitions:E});function R(k){e&&e(k),k.defaultPrevented||w(k)}let M=S.createElement("a",{...c,...x,href:m||p,onClick:g||a?e:R,ref:ww(d,N),target:o,"data-discover":!T&&n==="render"?"true":void 0});return v&&!T?S.createElement(S.Fragment,null,M,S.createElement(Ew,{page:p})):M});Bo.displayName="Link";var Nw=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:r,viewTransition:l,children:o,...u},f){let h=sl(r,{relative:u.relative}),c=Di(),d=S.useContext(Ru),{navigator:_,basename:E}=S.useContext(tn),T=d!=null&&Lw(h)&&l===!0,m=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,g=c.pathname,p=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;n||(g=g.toLowerCase(),p=p?p.toLowerCase():null,m=m.toLowerCase()),p&&E&&(p=jn(p,E)||p);const v=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let N=g===m||!s&&g.startsWith(m)&&g.charAt(v)==="/",x=p!=null&&(p===m||!s&&p.startsWith(m)&&p.charAt(m.length)==="/"),w={isActive:N,isPending:x,isTransitioning:T},R=N?e:void 0,M;typeof i=="function"?M=i(w):M=[i,N?"active":null,x?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(w):a;return S.createElement(Bo,{...u,"aria-current":R,className:M,ref:f,style:k,to:r,viewTransition:l},typeof o=="function"?o(w):o)});Nw.displayName="NavLink";var Rw=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:r=Jl,action:l,onSubmit:o,relative:u,preventScrollReset:f,viewTransition:h,...c},d)=>{let{unstable_useTransitions:_}=S.useContext(tn),E=Iw(),T=kw(l,{relative:u}),m=r.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&j0.test(l),p=v=>{if(o&&o(v),v.defaultPrevented)return;v.preventDefault();let N=v.nativeEvent.submitter,x=(N==null?void 0:N.getAttribute("formmethod"))||r,w=()=>E(N||v.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:s,state:a,relative:u,preventScrollReset:f,viewTransition:h});_&&n!==!1?S.startTransition(()=>w()):w()};return S.createElement("form",{ref:d,method:m,action:T,onSubmit:i?o:p,...c,"data-discover":!g&&t==="render"?"true":void 0})});Rw.displayName="Form";function xw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P0(t){let e=S.useContext(Ca);return we(e,xw(t)),e}function Ow(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_useTransitions:l}={}){let o=k0(),u=Di(),f=sl(t,{relative:a});return S.useCallback(h=>{if(ow(h,e)){h.preventDefault();let c=n!==void 0?n:Mr(u)===Mr(f),d=()=>o(t,{replace:c,state:i,preventScrollReset:s,relative:a,viewTransition:r});l?S.startTransition(()=>d()):d()}},[u,o,f,n,i,e,t,s,a,r,l])}var Mw=0,Dw=()=>`__${String(++Mw)}__`;function Iw(){let{router:t}=P0("useSubmit"),{basename:e}=S.useContext(tn),n=$C(),i=t.fetch,s=t.navigate;return S.useCallback(async(a,r={})=>{let{action:l,method:o,encType:u,formData:f,body:h}=fw(a,e);if(r.navigate===!1){let c=r.fetcherKey||Dw();await i(c,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:h,formMethod:r.method||o,formEncType:r.encType||u,flushSync:r.flushSync})}else await s(r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:h,formMethod:r.method||o,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,s,e,n])}function kw(t,{relative:e}={}){let{basename:n}=S.useContext(tn),i=S.useContext(Fn);we(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...sl(t||".",{relative:e})},r=Di();if(t==null){a.search=r.search;let l=new URLSearchParams(a.search),o=l.getAll("index");if(o.some(f=>f==="")){l.delete("index"),o.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:In([n,a.pathname])),Mr(a)}function Lw(t,{relative:e}={}){let n=S.useContext(M0);we(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=P0("useViewTransitionState"),s=sl(t,{relative:e});if(!n.isTransitioning)return!1;let a=jn(n.currentLocation.pathname,i)||n.currentLocation.pathname,r=jn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return zo(s.pathname,r)!=null||zo(s.pathname,a)!=null}const Uw="modulepreload",zw=function(t){return"/shopping-spree/"+t},cg={},V0=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(o=>{if(o=zw(o),o in cg)return;cg[o]=!0;const u=o.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Uw,u||(h.as="script"),h.crossOrigin="",h.href=o,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((c,d)=>{h.addEventListener("load",c),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return s.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Bw=()=>{};var fg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw wa(e)},wa=function(t){return new Error("Firebase Database ("+q0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Hw=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],r=t[n++],l=t[n++],o=((s&7)<<18|(a&63)<<12|(r&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(o&1023))}else{const a=t[n++],r=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|r&63)}}return e.join("")},Sd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],r=s+1<t.length,l=r?t[s+1]:0,o=s+2<t.length,u=o?t[s+2]:0,f=a>>2,h=(a&3)<<4|l>>4;let c=(l&15)<<2|u>>6,d=u&63;o||(d=64,r||(c=64)),i.push(n[f],n[h],n[c],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||l==null||u==null||h==null)throw new jw;const c=a<<2|l>>4;if(i.push(c),u!==64){const d=l<<4&240|u>>2;if(i.push(d),h!==64){const _=u<<6&192|h;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F0=function(t){const e=G0(t);return Sd.encodeByteArray(e,!0)},Ho=function(t){return F0(t).replace(/\./g,"")},jo=function(t){try{return Sd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){return Y0(void 0,t)}function Y0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Vw(n)||(t[n]=Y0(t[n],e[n]));return t}function Vw(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=()=>qw().__FIREBASE_DEFAULTS__,Fw=()=>{if(typeof process>"u"||typeof fg>"u")return;const t=fg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jo(t[1]);return e&&JSON.parse(e)},Ed=()=>{try{return Bw()||Gw()||Fw()||Yw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Q0=t=>{var e,n;return(n=(e=Ed())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Qw=t=>{const e=Q0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},K0=()=>{var t;return(t=Ed())==null?void 0:t.config},X0=t=>{var e;return(e=Ed())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ho(JSON.stringify(n)),Ho(JSON.stringify(r)),""].join(".")}const cr={};function Xw(){const t={prod:[],emulator:[]};for(const e of Object.keys(cr))cr[e]?t.emulator.push(e):t.prod.push(e);return t}function Ww(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hg=!1;function Z0(t,e){if(typeof window>"u"||typeof document>"u"||!Aa(window.location.host)||cr[t]===e||cr[t]||hg)return;cr[t]=e;function n(c){return`__firebase__banner__${c}`}const i="__firebase__banner",a=Xw().prod.length>0;function r(){const c=document.getElementById(i);c&&c.remove()}function l(c){c.style.display="flex",c.style.background="#7faaf0",c.style.position="fixed",c.style.bottom="5px",c.style.left="5px",c.style.padding=".5em",c.style.borderRadius="5px",c.style.alignItems="center"}function o(c,d){c.setAttribute("width","24"),c.setAttribute("id",d),c.setAttribute("height","24"),c.setAttribute("viewBox","0 0 24 24"),c.setAttribute("fill","none"),c.style.marginLeft="-6px"}function u(){const c=document.createElement("span");return c.style.cursor="pointer",c.style.marginLeft="16px",c.style.fontSize="24px",c.innerHTML=" &times;",c.onclick=()=>{hg=!0,r()},c}function f(c,d){c.setAttribute("id",d),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline"}function h(){const c=Ww(i),d=n("text"),_=document.getElementById(d)||document.createElement("span"),E=n("learnmore"),T=document.getElementById(E)||document.createElement("a"),m=n("preprendIcon"),g=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.created){const p=c.element;l(p),f(T,E);const v=u();o(g,m),p.append(g,_,T,v),document.body.appendChild(p)}a?(_.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Td(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function Zw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $w(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jw(){const t=at();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eA(){return q0.NODE_ADMIN===!0}function tA(){try{return typeof indexedDB=="object"}catch{return!1}}function nA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="FirebaseError";class Ii extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=iA,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],r=a?sA(a,i):"Error",l=`${this.serviceName}: ${r} (${s}).`;return new Ii(s,l,i)}}function sA(t,e){return t.replace(aA,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const aA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){return JSON.parse(t)}function He(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=function(t){let e={},n={},i={},s="";try{const a=t.split(".");e=Dr(jo(a[0])||""),n=Dr(jo(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},rA=function(t){const e=J0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},lA=function(t){const e=J0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ua(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Yf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Po(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function as(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],r=e[s];if(dg(a)&&dg(r)){if(!as(a,r))return!1}else if(a!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function dg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const c=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(c<<1|c>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],r=this.chain_[2],l=this.chain_[3],o=this.chain_[4],u,f;for(let h=0;h<80;h++){h<40?h<20?(u=l^a&(r^l),f=1518500249):(u=a^r^l,f=1859775393):h<60?(u=a&r|l&(a|r),f=2400959708):(u=a^r^l,f=3395469782);const c=(s<<5|s>>>27)+u+o+f+i[h]&4294967295;o=l,l=r,r=(a<<30|a>>>2)&4294967295,a=s,s=c}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const a=this.buf_;let r=this.inbuf_;for(;s<n;){if(r===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[r]=e.charCodeAt(s),++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}else for(;s<n;)if(a[r]=e[s],++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[s]>>a&255,++i;return e}}function uA(t,e){const n=new cA(t,e);return n.subscribe.bind(n)}class cA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");fA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Dc),s.error===void 0&&(s.error=Dc),s.complete===void 0&&(s.complete=Dc);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dc(){}function Cd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const a=s-55296;i++,O(i<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(i)-56320;s=65536+(a<<10)+r}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Mu=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class rs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Ou;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pA(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);i===l&&r.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mA(t){return t===Pi?void 0:t}function pA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const _A={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},yA=ce.INFO,vA={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},bA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=vA[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wd{constructor(e){this.name=e,this._logLevel=yA,this._logHandler=bA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const SA=(t,e)=>e.some(n=>t instanceof n);let mg,pg;function EA(){return mg||(mg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TA(){return pg||(pg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eb=new WeakMap,Qf=new WeakMap,tb=new WeakMap,Ic=new WeakMap,Ad=new WeakMap;function CA(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",r)},a=()=>{n(yi(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&eb.set(n,t)}).catch(()=>{}),Ad.set(e,t),e}function wA(t){if(Qf.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",r),t.removeEventListener("abort",r)},a=()=>{n(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",r),t.addEventListener("abort",r)});Qf.set(t,e)}let Kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AA(t){Kf=t(Kf)}function NA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(kc(this),e,...n);return tb.set(i,e.sort?e.sort():[e]),yi(i)}:TA().includes(t)?function(...e){return t.apply(kc(this),e),yi(eb.get(this))}:function(...e){return yi(t.apply(kc(this),e))}}function RA(t){return typeof t=="function"?NA(t):(t instanceof IDBTransaction&&wA(t),SA(t,EA())?new Proxy(t,Kf):t)}function yi(t){if(t instanceof IDBRequest)return CA(t);if(Ic.has(t))return Ic.get(t);const e=RA(t);return e!==t&&(Ic.set(t,e),Ad.set(e,t)),e}const kc=t=>Ad.get(t);function xA(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const r=indexedDB.open(t,e),l=yi(r);return i&&r.addEventListener("upgradeneeded",o=>{i(yi(r.result),o.oldVersion,o.newVersion,yi(r.transaction),o)}),n&&r.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),l.then(o=>{a&&o.addEventListener("close",()=>a()),s&&o.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const OA=["get","getKey","getAll","getAllKeys","count"],MA=["put","add","delete","clear"],Lc=new Map;function gg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lc.get(e))return Lc.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=MA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||OA.includes(n)))return;const a=async function(r,...l){const o=this.transaction(r,s?"readwrite":"readonly");let u=o.store;return i&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&o.done]))[0]};return Lc.set(e,a),a}AA(t=>({...t,get:(e,n,i)=>gg(e,n)||t.get(e,n,i),has:(e,n)=>!!gg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function IA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",_g="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new wd("@firebase/app"),kA="@firebase/app-compat",LA="@firebase/analytics-compat",UA="@firebase/analytics",zA="@firebase/app-check-compat",BA="@firebase/app-check",HA="@firebase/auth",jA="@firebase/auth-compat",PA="@firebase/database",VA="@firebase/data-connect",qA="@firebase/database-compat",GA="@firebase/functions",FA="@firebase/functions-compat",YA="@firebase/installations",QA="@firebase/installations-compat",KA="@firebase/messaging",XA="@firebase/messaging-compat",WA="@firebase/performance",ZA="@firebase/performance-compat",$A="@firebase/remote-config",JA="@firebase/remote-config-compat",eN="@firebase/storage",tN="@firebase/storage-compat",nN="@firebase/firestore",iN="@firebase/ai",sN="@firebase/firestore-compat",aN="firebase",rN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",lN={[Xf]:"fire-core",[kA]:"fire-core-compat",[UA]:"fire-analytics",[LA]:"fire-analytics-compat",[BA]:"fire-app-check",[zA]:"fire-app-check-compat",[HA]:"fire-auth",[jA]:"fire-auth-compat",[PA]:"fire-rtdb",[VA]:"fire-data-connect",[qA]:"fire-rtdb-compat",[GA]:"fire-fn",[FA]:"fire-fn-compat",[YA]:"fire-iid",[QA]:"fire-iid-compat",[KA]:"fire-fcm",[XA]:"fire-fcm-compat",[WA]:"fire-perf",[ZA]:"fire-perf-compat",[$A]:"fire-rc",[JA]:"fire-rc-compat",[eN]:"fire-gcs",[tN]:"fire-gcs-compat",[nN]:"fire-fst",[sN]:"fire-fst-compat",[iN]:"fire-vertex","fire-js":"fire-js",[aN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new Map,oN=new Map,Zf=new Map;function yg(t,e){try{t.container.addComponent(e)}catch(n){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ca(t){const e=t.name;if(Zf.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,t);for(const n of Vo.values())yg(n,t);for(const n of oN.values())yg(n,t);return!0}function Nd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new al("app","Firebase",uN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=rN;function nb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Wf,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw vi.create("bad-app-name",{appName:String(s)});if(n||(n=K0()),!n)throw vi.create("no-options");const a=Vo.get(s);if(a){if(as(n,a.options)&&as(i,a.config))return a;throw vi.create("duplicate-app",{appName:s})}const r=new gA(s);for(const o of Zf.values())r.addComponent(o);const l=new cN(n,i,r);return Vo.set(s,l),l}function ib(t=Wf){const e=Vo.get(t);if(!e&&t===Wf&&K0())return nb();if(!e)throw vi.create("no-app",{appName:t});return e}function bi(t,e,n){let i=lN[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const r=[`Unable to register library "${i}" with version "${e}":`];s&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&r.push("and"),a&&r.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(r.join(" "));return}ca(new rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="firebase-heartbeat-database",hN=1,Ir="firebase-heartbeat-store";let Uc=null;function sb(){return Uc||(Uc=xA(fN,hN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ir)}catch(n){console.warn(n)}}}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),Uc}async function dN(t){try{const n=(await sb()).transaction(Ir),i=await n.objectStore(Ir).get(ab(t));return await n.done,i}catch(e){if(e instanceof Ii)Pn.warn(e.message);else{const n=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pn.warn(n.message)}}}async function vg(t,e){try{const i=(await sb()).transaction(Ir,"readwrite");await i.objectStore(Ir).put(e,ab(t)),await i.done}catch(n){if(n instanceof Ii)Pn.warn(n.message);else{const i=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pn.warn(i.message)}}}function ab(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=1024,pN=30;class gN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(r=>r.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>pN){const r=vN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Pn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bg(),{heartbeatsToSend:i,unsentEntries:s}=_N(this._heartbeatsCache.heartbeats),a=Ho(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Pn.warn(n),""}}}function bg(){return new Date().toISOString().substring(0,10)}function _N(t,e=mN){const n=[];let i=t.slice();for(const s of t){const a=n.find(r=>r.agent===s.agent);if(a){if(a.dates.push(s.date),Sg(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Sg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?nA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return vg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return vg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sg(t){return Ho(JSON.stringify({version:2,heartbeats:t})).length}function vN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){ca(new rs("platform-logger",e=>new DA(e),"PRIVATE")),ca(new rs("heartbeat",e=>new gN(e),"PRIVATE")),bi(Xf,_g,t),bi(Xf,_g,"esm2020"),bi("fire-js","")}bN("");var SN="firebase",EN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(SN,EN,"app");function rb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TN=rb,lb=new al("auth","Firebase",rb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new wd("@firebase/auth");function CN(t,...e){qo.logLevel<=ce.WARN&&qo.warn(`Auth (${Ra}): ${t}`,...e)}function to(t,...e){qo.logLevel<=ce.ERROR&&qo.error(`Auth (${Ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,...e){throw xd(t,...e)}function $t(t,...e){return xd(t,...e)}function Rd(t,e,n){const i={...TN(),[e]:n};return new al("auth","Firebase",i).create(e,{appName:t.name})}function $i(t){return Rd(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wN(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&cn(t,"argument-error"),Rd(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xd(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return lb.create(t,...e)}function P(t,e,...n){if(!t)throw xd(e,...n)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw to(e),new Error(e)}function Vn(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function AN(){return Eg()==="http:"||Eg()==="https:"}function Eg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AN()||$w()||"connection"in navigator)?navigator.onLine:!0}function RN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=Td()||$0()}get(){return NN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MN=new rl(3e4,6e4);function Md(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function xa(t,e,n,i,s={}){return ub(t,s,async()=>{let a={},r={};i&&(e==="GET"?r=i:a={body:JSON.stringify(i)});const l=Na({key:t.config.apiKey,...r}).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:o,...a};return Zw()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Aa(t.emulatorConfig.host)&&(u.credentials="include"),ob.fetch()(await cb(t,t.config.apiHost,n,l),u)})}async function ub(t,e,n){t._canInitEmulator=!1;const i={...xN,...e};try{const s=new IN(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const r=await a.json();if("needConfirmation"in r)throw Dl(t,"account-exists-with-different-credential",r);if(a.ok&&!("errorMessage"in r))return r;{const l=a.ok?r.errorMessage:r.error.message,[o,u]=l.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dl(t,"credential-already-in-use",r);if(o==="EMAIL_EXISTS")throw Dl(t,"email-already-in-use",r);if(o==="USER_DISABLED")throw Dl(t,"user-disabled",r);const f=i[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Rd(t,f,u);cn(t,f)}}catch(s){if(s instanceof Ii)throw s;cn(t,"network-request-failed",{message:String(s)})}}async function DN(t,e,n,i,s={}){const a=await xa(t,e,n,i,s);return"mfaPendingCredential"in a&&cn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function cb(t,e,n,i){const s=`${e}${n}?${i}`,a=t,r=a.config.emulator?Od(t.config,s):`${t.config.apiScheme}://${s}`;return ON.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(r).toString():r}class IN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i($t(this.auth,"network-request-failed")),MN.get())})}}function Dl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=$t(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e){return xa(t,"POST","/v1/accounts:delete",e)}async function Go(t,e){return xa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LN(t,e=!1){const n=xt(t),i=await n.getIdToken(e),s=Dd(i);P(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,r=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:fr(zc(s.auth_time)),issuedAtTime:fr(zc(s.iat)),expirationTime:fr(zc(s.exp)),signInProvider:r||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function zc(t){return Number(t)*1e3}function Dd(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return to("JWT malformed, contained fewer than 3 sections"),null;try{const s=jo(n);return s?JSON.parse(s):(to("Failed to decode base64 JWT payload"),null)}catch(s){return to("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Tg(t){const e=Dd(t);return P(e,"internal-error"),P(typeof e.exp<"u","internal-error"),P(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ii&&UN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function UN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t){var h;const e=t.auth,n=await t.getIdToken(),i=await kr(t,Go(e,{idToken:n}));P(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(h=s.providerUserInfo)!=null&&h.length?fb(s.providerUserInfo):[],r=HN(t.providerData,a),l=t.isAnonymous,o=!(t.email&&s.passwordHash)&&!(r!=null&&r.length),u=l?o:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Jf(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function BN(t){const e=xt(t);await Fo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HN(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function fb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e){const n=await ub(t,{},async()=>{const i=Na({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,r=await cb(t,s,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:l,body:i};return t.emulatorConfig&&Aa(t.emulatorConfig.host)&&(o.credentials="include"),ob.fetch()(r,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PN(t,e){return xa(t,"POST","/v2/accounts:revokeToken",Md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,"internal-error"),P(typeof e.idToken<"u","internal-error"),P(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){P(e.length!==0,"internal-error");const n=Tg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(P(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await jN(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,r=new Ys;return i&&(P(typeof i=="string","internal-error",{appName:e}),r.refreshToken=i),s&&(P(typeof s=="string","internal-error",{appName:e}),r.accessToken=s),a&&(P(typeof a=="number","internal-error",{appName:e}),r.expirationTime=a),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ys,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,e){P(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wt{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new zN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await kr(this,this.stsTokenManager.getToken(this.auth,e));return P(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LN(this,e)}reload(){return BN(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Fo(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kt(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await kr(this,kN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,r=n.photoURL??void 0,l=n.tenantId??void 0,o=n._redirectEventId??void 0,u=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:c,isAnonymous:d,providerData:_,stsTokenManager:E}=n;P(h&&E,e,"internal-error");const T=Ys.fromJSON(this.name,E);P(typeof h=="string",e,"internal-error"),Kn(i,e.name),Kn(s,e.name),P(typeof c=="boolean",e,"internal-error"),P(typeof d=="boolean",e,"internal-error"),Kn(a,e.name),Kn(r,e.name),Kn(l,e.name),Kn(o,e.name),Kn(u,e.name),Kn(f,e.name);const m=new Wt({uid:h,auth:e,email:s,emailVerified:c,displayName:i,isAnonymous:d,photoURL:r,phoneNumber:a,tenantId:l,stsTokenManager:T,createdAt:u,lastLoginAt:f});return _&&Array.isArray(_)&&(m.providerData=_.map(g=>({...g}))),o&&(m._redirectEventId=o),m}static async _fromIdTokenResponse(e,n,i=!1){const s=new Ys;s.updateFromServerResponse(n);const a=new Wt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Fo(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];P(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?fb(s.providerUserInfo):[],r=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new Ys;l.updateFromIdToken(i);const o=new Wt({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:r}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(o,u),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=new Map;function Rn(t){Vn(t instanceof Function,"Expected a class definition");let e=Cg.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hb.type="NONE";const wg=hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e,n){return`firebase:${t}:${e}:${n}`}class Qs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=no(this.userKey,s.apiKey,a),this.fullPersistenceKey=no("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Go(this.auth,{idToken:e}).catch(()=>{});return n?Wt._fromGetAccountInfoResponse(this.auth,n,e):null}return Wt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Qs(Rn(wg),e,i);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=s[0]||Rn(wg);const r=no(i,e.config.apiKey,e.name);let l=null;for(const u of n)try{const f=await u._get(r);if(f){let h;if(typeof f=="string"){const c=await Go(e,{idToken:f}).catch(()=>{});if(!c)break;h=await Wt._fromGetAccountInfoResponse(e,c,f)}else h=Wt._fromJSON(e,f);u!==a&&(l=h),a=u;break}}catch{}const o=s.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!o.length?new Qs(a,e,i):(a=o[0],l&&await a._set(r,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(r)}catch{}})),new Qs(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(db(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yb(e))return"Blackberry";if(vb(e))return"Webos";if(mb(e))return"Safari";if((e.includes("chrome/")||pb(e))&&!e.includes("edge/"))return"Chrome";if(_b(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function db(t=at()){return/firefox\//i.test(t)}function mb(t=at()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pb(t=at()){return/crios\//i.test(t)}function gb(t=at()){return/iemobile/i.test(t)}function _b(t=at()){return/android/i.test(t)}function yb(t=at()){return/blackberry/i.test(t)}function vb(t=at()){return/webos/i.test(t)}function Id(t=at()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VN(t=at()){var e;return Id(t)&&!!((e=window.navigator)!=null&&e.standalone)}function qN(){return Jw()&&document.documentMode===10}function bb(t=at()){return Id(t)||_b(t)||vb(t)||yb(t)||/windows phone/i.test(t)||gb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t,e=[]){let n;switch(t){case"Browser":n=Ag(at());break;case"Worker":n=`${Ag(at())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((r,l)=>{try{const o=e(a);r(o)}catch(o){l(o)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(t,e={}){return xa(t,"GET","/v2/passwordPolicy",Md(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=6;class QN{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ng(this),this.idTokenSubscription=new Ng(this),this.beforeStateQueue=new GN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rn(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Qs.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Go(this,{idToken:e}),i=await Wt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Kt(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=i==null?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!r||r===l)&&(o!=null&&o.user)&&(i=o.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(r){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return P(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kt(this.app))return Promise.reject($i(this));const n=e?xt(e):null;return n&&P(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&P(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kt(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kt(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FN(this),n=new QN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new al("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await PN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rn(e)||this._popupRedirectResolver;P(n,this,"argument-error"),this.redirectPersistenceManager=await Qs.create(this,[Rn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let r=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(P(l,this,"internal-error"),l.then(()=>{r||a(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,i,s);return()=>{r=!0,o()}}else{const o=e.addObserver(n);return()=>{r=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&CN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Du(t){return xt(t)}class Ng{constructor(e){this.auth=e,this.observer=null,this.addObserver=uA(n=>this.observer=n)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XN(t){kd=t}function WN(t){return kd.loadJS(t)}function ZN(){return kd.gapiScript}function $N(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t,e){const n=Nd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(as(a,e??{}))return s;cn(s,"already-initialized")}return n.initialize({options:e})}function eR(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Rn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function tR(t,e,n){const i=Du(t);P(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=Eb(e),{host:r,port:l}=nR(e),o=l===null?"":`:${l}`,u={url:`${a}//${r}${o}/`},f=Object.freeze({host:r,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){P(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),P(as(u,i.config.emulator)&&as(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,Aa(r)?(W0(`${a}//${r}${o}`),Z0("Auth",!0)):iR()}function Eb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nR(t){const e=Eb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Rg(i.substr(a.length+1))}}else{const[a,r]=i.split(":");return{host:a,port:Rg(r)}}}function Rg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(t,e){return DN(t,"POST","/v1/accounts:signInWithIdp",Md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="http://localhost";class ls extends Tb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const r=new ls(i,s);return r.idToken=a.idToken||void 0,r.accessToken=a.accessToken||void 0,r.secret=a.secret,r.nonce=a.nonce,r.pendingToken=a.pendingToken||null,r}_getIdTokenResponse(e){const n=this.buildRequest();return Ks(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ks(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ks(e,n)}buildRequest(){const e={requestUri:sR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Na(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Ld{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends ll{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn extends ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ls._fromParams({providerId:Tn.PROVIDER_ID,signInMethod:Tn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Tn.credentialFromTaggedObject(e)}static credentialFromError(e){return Tn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Tn.credential(n,i)}catch{return null}}}Tn.GOOGLE_SIGN_IN_METHOD="google.com";Tn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends ll{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends ll{constructor(){super("twitter.com")}static credential(e,n){return ls._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ii.credential(n,i)}catch{return null}}}ii.TWITTER_SIGN_IN_METHOD="twitter.com";ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await Wt._fromIdTokenResponse(e,i,s),r=xg(i);return new fa({user:a,providerId:r,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=xg(i);return new fa({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function xg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Ii{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Yo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Yo(e,n,i,s)}}function Cb(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Yo._fromErrorAndOperation(t,a,e,i):a})}async function aR(t,e,n=!1){const i=await kr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fa._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t,e,n=!1){const{auth:i}=t;if(Kt(i.app))return Promise.reject($i(i));const s="reauthenticate";try{const a=await kr(t,Cb(i,s,e,t),n);P(a.idToken,i,"internal-error");const r=Dd(a.idToken);P(r,i,"internal-error");const{sub:l}=r;return P(t.uid===l,i,"user-mismatch"),fa._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&cn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e,n=!1){if(Kt(t.app))return Promise.reject($i(t));const i="signIn",s=await Cb(t,i,e),a=await fa._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}function oR(t,e,n,i){return xt(t).onIdTokenChanged(e,n,i)}function uR(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function wb(t,e,n,i){return xt(t).onAuthStateChanged(e,n,i)}function Ab(t){return xt(t).signOut()}const Qo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qo,"1"),this.storage.removeItem(Qo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=1e3,fR=10;class Rb extends Nb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((r,l,o)=>{this.notifyListeners(r,o)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const r=this.storage.getItem(i);!n&&this.localCache[i]===r||this.notifyListeners(i,r)},a=this.storage.getItem(i);qN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fR):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},cR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rb.type="LOCAL";const hR=Rb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends Nb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xb.type="SESSION";const Ob=xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Iu(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,r=this.handlersMap[s];if(!(r!=null&&r.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(r).map(async u=>u(n.origin,a)),o=await dR(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Iu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,r;return new Promise((l,o)=>{const u=Ud("",20);s.port1.start();const f=setTimeout(()=>{o(new Error("unsupported_event"))},i);r={messageChannel:s,onMessage(h){const c=h;if(c.data.eventId===u)switch(c.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(c.data.response);break;default:clearTimeout(f),clearTimeout(a),o(new Error("invalid_response"));break}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return window}function pR(t){un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}async function gR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _R(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function yR(){return Mb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="firebaseLocalStorageDb",vR=1,Ko="firebaseLocalStorage",Ib="fbase_key";class ol{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ku(t,e){return t.transaction([Ko],e?"readwrite":"readonly").objectStore(Ko)}function bR(){const t=indexedDB.deleteDatabase(Db);return new ol(t).toPromise()}function eh(){const t=indexedDB.open(Db,vR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ko,{keyPath:Ib})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ko)?e(i):(i.close(),await bR(),e(await eh()))})})}async function Og(t,e,n){const i=ku(t,!0).put({[Ib]:e,value:n});return new ol(i).toPromise()}async function SR(t,e){const n=ku(t,!1).get(e),i=await new ol(n).toPromise();return i===void 0?null:i.value}function Mg(t,e){const n=ku(t,!0).delete(e);return new ol(n).toPromise()}const ER=800,TR=3;class kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>TR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iu._getInstance(yR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await gR(),!this.activeServiceWorker)return;this.sender=new mR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_R()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eh();return await Og(e,Qo,"1"),await Mg(e,Qo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Og(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>SR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=ku(s,!1).getAll();return new ol(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kb.type="LOCAL";const CR=kb;new rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e){return e?Rn(e):(P(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Tb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ks(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ks(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wR(t){return lR(t.auth,new zd(t),t.bypassAuthState)}function AR(t){const{auth:e,user:n}=t;return P(n,e,"internal-error"),rR(n,new zd(t),t.bypassAuthState)}async function NR(t){const{auth:e,user:n}=t;return P(n,e,"internal-error"),aR(n,new zd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:r,type:l}=e;if(r){this.reject(r);return}const o={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(o))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wR;case"linkViaPopup":case"linkViaRedirect":return NR;case"reauthViaPopup":case"reauthViaRedirect":return AR;default:cn(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new rl(2e3,1e4);async function xR(t,e,n){if(Kt(t.app))return Promise.reject($t(t,"operation-not-supported-in-this-environment"));const i=Du(t);wN(t,e,Ld);const s=Lb(i,n);return new Gi(i,"signInViaPopup",e,s).executeNotNull()}class Gi extends Ub{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Gi.currentPopupAction&&Gi.currentPopupAction.cancel(),Gi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return P(e,this.auth,"internal-error"),e}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const e=Ud();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($t(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RR.get())};e()}}Gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="pendingRedirect",io=new Map;class MR extends Ub{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=io.get(this.auth._key());if(!e){try{const i=await DR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}io.set(this.auth._key(),e)}return this.bypassAuthState||io.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DR(t,e){const n=LR(e),i=kR(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function IR(t,e){io.set(t._key(),e)}function kR(t){return Rn(t._redirectPersistence)}function LR(t){return no(OR,t.config.apiKey,t.name)}async function UR(t,e,n=!1){if(Kt(t.app))return Promise.reject($i(t));const i=Du(t),s=Lb(i,e),r=await new MR(i,s,n).execute();return r&&!n&&(delete r.user._redirectEventId,await i._persistUserIfCurrent(r.user),await i._setRedirectUser(null,e)),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=10*60*1e3;class BR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!zb(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError($t(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dg(e))}saveEventToCache(e){this.cachedEventUids.add(Dg(e)),this.lastProcessedEventTime=Date.now()}}function Dg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e={}){return xa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VR=/^https?/;async function qR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jR(t);for(const n of e)try{if(GR(n))return}catch{}cn(t,"unauthorized-domain")}function GR(t){const e=$f(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return r.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&r.hostname===i}if(!VR.test(n))return!1;if(PR.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new rl(3e4,6e4);function Ig(){const t=un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YR(t){return new Promise((e,n)=>{var s,a,r;function i(){Ig(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ig(),n($t(t,"network-request-failed"))},timeout:FR.get()})}if((a=(s=un().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((r=un().gapi)!=null&&r.load)i();else{const l=$N("iframefcb");return un()[l]=()=>{gapi.load?i():n($t(t,"network-request-failed"))},WN(`${ZN()}?onload=${l}`).catch(o=>n(o))}}).catch(e=>{throw so=null,e})}let so=null;function QR(t){return so=so||YR(t),so}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new rl(5e3,15e3),XR="__/auth/iframe",WR="emulator/auth/iframe",ZR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$R=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JR(t){const e=t.config;P(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Od(e,WR):`https://${t.config.authDomain}/${XR}`,i={apiKey:e.apiKey,appName:t.name,v:Ra},s=$R.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Na(i).slice(1)}`}async function ex(t){const e=await QR(t),n=un().gapi;return P(n,t,"internal-error"),e.open({where:document.body,url:JR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZR,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const r=$t(t,"network-request-failed"),l=un().setTimeout(()=>{a(r)},KR.get());function o(){un().clearTimeout(l),s(i)}i.ping(o).then(o,()=>{a(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nx=500,ix=600,sx="_blank",ax="http://localhost";class kg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rx(t,e,n,i=nx,s=ix){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),r=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const o={...tx,width:i.toString(),height:s.toString(),top:a,left:r},u=at().toLowerCase();n&&(l=pb(u)?sx:n),db(u)&&(e=e||ax,o.scrollbars="yes");const f=Object.entries(o).reduce((c,[d,_])=>`${c}${d}=${_},`,"");if(VN(u)&&l!=="_self")return lx(e||"",l),new kg(null);const h=window.open(e||"",l,f);P(h,t,"popup-blocked");try{h.focus()}catch{}return new kg(h)}function lx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="__/auth/handler",ux="emulator/auth/handler",cx=encodeURIComponent("fac");async function Lg(t,e,n,i,s,a){P(t.config.authDomain,t,"auth-domain-config-required"),P(t.config.apiKey,t,"invalid-api-key");const r={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ra,eventId:s};if(e instanceof Ld){e.setDefaultLanguage(t.languageCode),r.providerId=e.providerId||"",Yf(e.getCustomParameters())||(r.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))r[f]=h}if(e instanceof ll){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(r.scopes=f.join(","))}t.tenantId&&(r.tid=t.tenantId);const l=r;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const o=await t._getAppCheckToken(),u=o?`#${cx}=${encodeURIComponent(o)}`:"";return`${fx(t)}?${Na(l).slice(1)}${u}`}function fx({config:t}){return t.emulator?Od(t,ux):`https://${t.authDomain}/${ox}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc="webStorageSupport";class hx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ob,this._completeRedirectFn=UR,this._overrideRedirectResult=IR}async _openPopup(e,n,i,s){var r;Vn((r=this.eventManagers[e._key()])==null?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await Lg(e,n,i,$f(),s);return rx(e,a,Ud())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await Lg(e,n,i,$f(),s);return pR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Vn(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await ex(e),i=new BR(e);return n.register("authEvent",s=>(P(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bc,{type:Bc},s=>{var r;const a=(r=s==null?void 0:s[0])==null?void 0:r[Bc];a!==void 0&&n(!!a),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bb()||mb()||Id()}}const dx=hx;var Ug="@firebase/auth",zg="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gx(t){ca(new rs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:r,authDomain:l}=i.options;P(r&&!r.includes(":"),"invalid-api-key",{appName:i.name});const o={apiKey:r,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sb(t)},u=new KN(i,s,a,o);return eR(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ca(new rs("auth-internal",e=>{const n=Du(e.getProvider("auth").getImmediate());return(i=>new mx(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(Ug,zg,px(t)),bi(Ug,zg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=5*60,yx=X0("authIdTokenMaxAge")||_x;let Bg=null;const vx=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>yx)return;const s=n==null?void 0:n.token;Bg!==s&&(Bg=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bx(t=ib()){const e=Nd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JN(t,{popupRedirectResolver:dx,persistence:[CR,hR,Ob]}),i=X0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const r=vx(a.toString());uR(n,r,()=>r(n.currentUser)),oR(n,l=>r(l))}}const s=Q0("auth");return s&&tR(n,`http://${s}`),n}function Sx(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}XN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=$t("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",Sx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gx("Browser");var Hg={};const jg="@firebase/database",Pg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bb="";function Ex(t){Bb=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),He(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Dr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Tx(e)}}catch{}return new Cx},Fi=Hb("localStorage"),wx=Hb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new wd("@firebase/database"),Ax=function(){let t=1;return function(){return t++}}(),jb=function(t){const e=hA(t),n=new oA;n.update(e);const i=n.digest();return Sd.encodeByteArray(i)},ul=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=ul.apply(null,i):typeof i=="object"?e+=He(i):e+=i,e+=" "}return e};let hr=null,Vg=!0;const Nx=function(t,e){O(!0,"Can't turn on custom loggers persistently."),Xs.logLevel=ce.VERBOSE,hr=Xs.log.bind(Xs)},Xe=function(...t){if(Vg===!0&&(Vg=!1,hr===null&&wx.get("logging_enabled")===!0&&Nx()),hr){const e=ul.apply(null,t);hr(e)}},cl=function(t){return function(...e){Xe(t,...e)}},th=function(...t){const e="FIREBASE INTERNAL ERROR: "+ul(...t);Xs.error(e)},qn=function(...t){const e=`FIREBASE FATAL ERROR: ${ul(...t)}`;throw Xs.error(e),new Error(e)},mt=function(...t){const e="FIREBASE WARNING: "+ul(...t);Xs.warn(e)},Rx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},xx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ha="[MIN_NAME]",os="[MAX_NAME]",_s=function(t,e){if(t===e)return 0;if(t===ha||e===os)return-1;if(e===ha||t===os)return 1;{const n=qg(t),i=qg(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Ox=function(t,e){return t===e?0:t<e?-1:1},Pa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+He(e))},Hd=function(t){if(typeof t!="object"||t===null)return He(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=He(e[i]),n+=":",n+=Hd(t[e[i]]);return n+="}",n},Pb=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Vb=function(t){O(!Bd(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,a,r,l,o;t===0?(a=0,r=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=l+i,r=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,r=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(o=n;o;o-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(o=e;o;o-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(s?1:0),u.reverse();const f=u.join("");let h="";for(o=0;o<64;o+=8){let c=parseInt(f.substr(o,8),2).toString(16);c.length===1&&(c="0"+c),h=h+c}return h.toLowerCase()},Mx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Dx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ix(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const kx=new RegExp("^-?(0*)\\d{1,10}$"),Lx=-2147483648,Ux=2147483647,qg=function(t){if(kx.test(t)){const e=Number(t);if(e>=Lx&&e<=Ux)return e}return null},Oa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw mt("Exception was thrown by user callback.",n),e},Math.floor(0))}},zx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},dr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Kt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(e)}}class ao{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ao.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="5",qb="v",Gb="s",Fb="r",Yb="f",Qb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Kb="ls",Xb="p",nh="ac",Wb="websocket",Zb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,i,s,a=!1,r="",l=!1,o=!1,u=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=r,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=o,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function jx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Jb(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let i;if(e===Wb)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Zb)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);jx(t)&&(n.ns=t.namespace);const s=[];return et(n,(a,r)=>{s.push(a+"="+r)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.counters_={}}incrementCounter(e,n=1){mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Pw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc={},jc={};function Pd(t){const e=t.toString();return Hc[e]||(Hc[e]=new Px),Hc[e]}function Vx(t,e){const n=t.toString();return jc[n]||(jc[n]=e()),jc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Oa(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="start",Gx="close",Fx="pLPCommand",Yx="pRTLPCB",eS="id",tS="pw",nS="ser",Qx="cb",Kx="seg",Xx="ts",Wx="d",Zx="dframe",iS=1870,sS=30,$x=iS-sS,Jx=25e3,e2=3e4;class Bs{constructor(e,n,i,s,a,r,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=r,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cl(e),this.stats_=Pd(n),this.urlFn=o=>(this.appCheckToken&&(o[nh]=this.appCheckToken),Jb(n,Zb,o))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new qx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(e2)),xx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Vd((...a)=>{const[r,l,o,u,f]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===Gg)this.id=l,this.password=o;else if(r===Gx)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...a)=>{const[r,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(r,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[Gg]="t",i[nS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Qx]=this.scriptTagHolder.uniqueCallbackIdentifier),i[qb]=jd,this.transportSessionId&&(i[Gb]=this.transportSessionId),this.lastSessionId&&(i[Kb]=this.lastSessionId),this.applicationId&&(i[Xb]=this.applicationId),this.appCheckToken&&(i[nh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Qb.test(location.hostname)&&(i[Fb]=Yb);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bs.forceAllow_=!0}static forceDisallow(){Bs.forceDisallow_=!0}static isAvailable(){return Bs.forceAllow_?!0:!Bs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Mx()&&!Dx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=F0(n),s=Pb(i,$x);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Zx]="t",i[eS]=e,i[tS]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=He(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Vd{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ax(),window[Fx+this.uniqueCallbackIdentifier]=e,window[Yx+this.uniqueCallbackIdentifier]=n,this.myIFrame=Vd.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(l){Xe("frame writing exception"),l.stack&&Xe(l.stack),Xe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xe("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[eS]=this.myID,e[tS]=this.myPW,e[nS]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sS+i.length<=iS;){const r=this.pendingSegs.shift();i=i+"&"+Kx+s+"="+r.seg+"&"+Xx+s+"="+r.ts+"&"+Wx+s+"="+r.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(Jx)),a=()=>{clearTimeout(s),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Xe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=16384,n2=45e3;let Xo=null;typeof MozWebSocket<"u"?Xo=MozWebSocket:typeof WebSocket<"u"&&(Xo=WebSocket);class Xt{constructor(e,n,i,s,a,r,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cl(this.connId),this.stats_=Pd(n),this.connURL=Xt.connectionURL_(n,r,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,a){const r={};return r[qb]=jd,typeof location<"u"&&location.hostname&&Qb.test(location.hostname)&&(r[Fb]=Yb),n&&(r[Gb]=n),i&&(r[Kb]=i),s&&(r[nh]=s),a&&(r[Xb]=a),Jb(e,Wb,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fi.set("previous_websocket_failure",!0);try{let i;eA(),this.mySock=new Xo(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Xo!==null&&!Xt.forceDisallow_}static previouslyFailed(){return Fi.isInMemoryStorage||Fi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Dr(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Pb(n,t2);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(n2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{static get ALL_TRANSPORTS(){return[Bs,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Xt&&Xt.isAvailable();let i=n&&!Xt.previouslyFailed();if(e.webSocketOnly&&(n||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Xt];else{const s=this.transports_=[];for(const a of Lr.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Lr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Lr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=6e4,s2=5e3,a2=10*1024,r2=100*1024,Pc="t",Fg="d",l2="s",Yg="r",o2="e",Qg="o",Kg="a",Xg="n",Wg="p",u2="h";class c2{constructor(e,n,i,s,a,r,l,o,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=r,this.onReady_=l,this.onDisconnect_=o,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cl("c:"+this.id+":"),this.transportManager_=new Lr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=dr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>r2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>a2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pc in e){const n=e[Pc];n===Kg?this.upgradeIfSecondaryHealthy_():n===Yg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Qg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Pa("t",e),i=Pa("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Wg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Xg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Pa("t",e),i=Pa("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Pa(Pc,e);if(Fg in e){const i=e[Fg];if(n===u2){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Xg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===l2?this.onConnectionShutdown_(i):n===Yg?this.onReset_(i):n===o2?th("Server Error: "+i):n===Qg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):th("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),jd!==i&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),dr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(i2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(s2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Wg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!i||i===s[a].context)){s.splice(a,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends rS{static getInstance(){return new Wo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Td()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=32,$g=768;class he{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function se(){return new he("")}function Z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ni(t){return t.pieces_.length-t.pieceNum_}function ge(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function qd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function f2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ur(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function lS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function Oe(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof he)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new he(n,0)}function $(t){return t.pieceNum_>=t.pieces_.length}function st(t,e){const n=Z(t),i=Z(e);if(n===null)return e;if(n===i)return st(ge(t),ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function h2(t,e){const n=Ur(t,0),i=Ur(e,0);for(let s=0;s<n.length&&s<i.length;s++){const a=_s(n[s],i[s]);if(a!==0)return a}return n.length===i.length?0:n.length<i.length?-1:1}function Gd(t,e){if(Ni(t)!==Ni(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Bt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ni(t)>Ni(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class d2{constructor(e,n){this.errorPrefix_=n,this.parts_=Ur(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Mu(this.parts_[i]);oS(this)}}function m2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Mu(e),oS(t)}function p2(t){const e=t.parts_.pop();t.byteLength_-=Mu(e),t.parts_.length>0&&(t.byteLength_-=1)}function oS(t){if(t.byteLength_>$g)throw new Error(t.errorPrefix_+"has a key path longer than "+$g+" bytes ("+t.byteLength_+").");if(t.parts_.length>Zg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Zg+") or object contains a cycle "+Vi(t))}function Vi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends rS{static getInstance(){return new Fd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=1e3,g2=60*5*1e3,Jg=30*1e3,_2=1.3,y2=3e4,v2="server_kill",e_=3;class kn extends aS{constructor(e,n,i,s,a,r,l,o){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.authOverride_=o,this.id=kn.nextPersistentConnectionId_++,this.log_=cl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Va,this.maxReconnectDelay_=g2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Fd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Wo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(He(a)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Ou,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const l=r.d;r.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,s){this.initConnection_();const a=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+a),this.listens.has(r)||this.listens.set(r,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(r).has(a),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(r).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i},r="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(r,a,l=>{const o=l.d,u=l.s;kn.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(u,o))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&mn(e,"w")){const i=ua(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||lA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Jg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=rA(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const a=s.s,r=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},r="n";s&&(a.q=i,a.t=s),this.sendRequest(r,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,r=>{s&&setTimeout(()=>{s(r.s,r.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,a){this.initConnection_();const r={p:n,d:i};a!==void 0&&(r.h=a),this.outstandingPuts_.push({action:e,request:r,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+He(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):th("Unrecognized action received from server: "+He(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>y2&&(this.reconnectDelay_=Va),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+kn.nextConnectionId_++,a=this.lastSessionId;let r=!1,l=null;const o=function(){l?l.close():(r=!0,i())},u=function(h){O(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:o,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,c]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);r?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=c&&c.token,l=new c2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,d=>{mt(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(v2)},a))}catch(h){this.log_("Failed to get token: "+h),r||(this.repoInfo_.nodeAdmin&&mt(h),o())}}}interrupt(e){Xe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Yf(this.interruptReasons_)&&(this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>Hd(a)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new he(e).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Xe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=e_&&(this.reconnectDelay_=Jg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Xe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=e_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Bb.replace(/\./g,"-")]=1,Td()?e["framework.cordova"]=1:$0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Wo.getInstance().currentlyOnline();return Yf(this.interruptReasons_)&&e}}kn.nextPersistentConnectionId_=0;kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new K(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new K(ha,e),s=new K(ha,n);return this.compare(i,s)!==0}minPost(){return K.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;class uS extends Lu{static get __EMPTY_NODE(){return Il}static set __EMPTY_NODE(e){Il=e}compare(e,n){return _s(e.name,n.name)}isDefinedOn(e){throw wa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return K.MIN}maxPost(){return new K(os,Il)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new K(e,Il)}toString(){return".key"}}const Ws=new uS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?i(e.key,n):1,s&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qe{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??qe.RED,this.left=s??ht.EMPTY_NODE,this.right=a??ht.EMPTY_NODE}copy(e,n,i,s,a){return new qe(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qe.RED=!0;qe.BLACK=!1;class b2{copy(e,n,i,s,a){return this}insert(e,n,i){return new qe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ht{constructor(e,n=ht.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ht(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qe.BLACK,null,null))}remove(e){return new ht(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qe.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new kl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new kl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new kl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new kl(this.root_,null,this.comparator_,!0,e)}}ht.EMPTY_NODE=new b2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t,e){return _s(t.name,e.name)}function Yd(t,e){return _s(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih;function E2(t){ih=t}const cS=function(t){return typeof t=="number"?"number:"+Vb(t):"string:"+t},fS=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mn(e,".sv"),"Priority must be a string or number.")}else O(t===ih||t.isEmpty(),"priority of unexpected type.");O(t===ih||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t_;class Pe{static set __childrenNodeConstructor(e){t_=e}static get __childrenNodeConstructor(){return t_}constructor(e,n=Pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Pe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $(e)?this:Z(e)===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Z(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(O(i!==".priority"||Ni(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ge(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Vb(this.value_):e+=this.value_,this.lazyHash_=jb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Pe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Pe.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Pe.VALUE_TYPE_ORDER.indexOf(n),a=Pe.VALUE_TYPE_ORDER.indexOf(i);return O(s>=0,"Unknown leaf type: "+n),O(a>=0,"Unknown leaf type: "+i),s===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hS,dS;function T2(t){hS=t}function C2(t){dS=t}class w2 extends Lu{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),a=i.compareTo(s);return a===0?_s(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return K.MIN}maxPost(){return new K(os,new Pe("[PRIORITY-POST]",dS))}makePost(e,n){const i=hS(e);return new K(n,new Pe("[PRIORITY-POST]",i))}toString(){return".priority"}}const Me=new w2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=Math.log(2);class N2{constructor(e){const n=a=>parseInt(Math.log(a)/A2,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zo=function(t,e,n,i){t.sort(e);const s=function(o,u){const f=u-o;let h,c;if(f===0)return null;if(f===1)return h=t[o],c=n?n(h):h,new qe(c,h.node,qe.BLACK,null,null);{const d=parseInt(f/2,10)+o,_=s(o,d),E=s(d+1,u);return h=t[d],c=n?n(h):h,new qe(c,h.node,qe.BLACK,_,E)}},a=function(o){let u=null,f=null,h=t.length;const c=function(_,E){const T=h-_,m=h;h-=_;const g=s(T+1,m),p=t[T],v=n?n(p):p;d(new qe(v,p.node,E,null,g))},d=function(_){u?(u.left=_,u=_):(f=_,u=_)};for(let _=0;_<o.count;++_){const E=o.nextBitIsOne(),T=Math.pow(2,o.count-(_+1));E?c(T,qe.BLACK):(c(T,qe.BLACK),c(T,qe.RED))}return f},r=new N2(t.length),l=a(r);return new ht(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc;const Es={};class xn{static get Default(){return O(Es&&Me,"ChildrenNode.ts has not been loaded"),Vc=Vc||new xn({".priority":Es},{".priority":Me}),Vc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ua(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ht?n:null}hasIndex(e){return mn(this.indexSet_,e.toString())}addIndex(e,n){O(e!==Ws,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=n.getIterator(K.Wrap);let r=a.getNext();for(;r;)s=s||e.isDefinedOn(r.node),i.push(r),r=a.getNext();let l;s?l=Zo(i,e.getCompare()):l=Es;const o=e.toString(),u={...this.indexSet_};u[o]=e;const f={...this.indexes_};return f[o]=l,new xn(f,u)}addToIndexes(e,n){const i=Po(this.indexes_,(s,a)=>{const r=ua(this.indexSet_,a);if(O(r,"Missing index implementation for "+a),s===Es)if(r.isDefinedOn(e.node)){const l=[],o=n.getIterator(K.Wrap);let u=o.getNext();for(;u;)u.name!==e.name&&l.push(u),u=o.getNext();return l.push(e),Zo(l,r.getCompare())}else return Es;else{const l=n.get(e.name);let o=s;return l&&(o=o.remove(new K(e.name,l))),o.insert(e,e.node)}});return new xn(i,this.indexSet_)}removeFromIndexes(e,n){const i=Po(this.indexes_,s=>{if(s===Es)return s;{const a=n.get(e.name);return a?s.remove(new K(e.name,a)):s}});return new xn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa;class z{static get EMPTY_NODE(){return qa||(qa=new z(new ht(Yd),null,xn.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&fS(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qa}updatePriority(e){return this.children_.isEmpty()?this:new z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?qa:n}}getChild(e){const n=Z(e);return n===null?this:this.getImmediateChild(n).getChild(ge(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new K(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const r=s.isEmpty()?qa:this.priorityNode_;return new z(s,r,a)}}updateChild(e,n){const i=Z(e);if(i===null)return n;{O(Z(e)!==".priority"||Ni(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(ge(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,a=!0;if(this.forEachChild(Me,(r,l)=>{n[r]=l.val(e),i++,a&&z.INTEGER_REGEXP_.test(r)?s=Math.max(s,Number(r)):a=!1}),!e&&a&&s<2*i){const r=[];for(const l in n)r[l]=n[l];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+cS(this.getPriority().val())+":"),this.forEachChild(Me,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":jb(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new K(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new K(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new K(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,K.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,K.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fl?-1:0}withIndex(e){if(e===Ws||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ws||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Me),s=n.getIterator(Me);let a=i.getNext(),r=s.getNext();for(;a&&r;){if(a.name!==r.name||!a.node.equals(r.node))return!1;a=i.getNext(),r=s.getNext()}return a===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===Ws?null:this.indexMap_.get(e.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class R2 extends z{constructor(){super(new ht(Yd),z.EMPTY_NODE,xn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}}const fl=new R2;Object.defineProperties(K,{MIN:{value:new K(ha,z.EMPTY_NODE)},MAX:{value:new K(os,fl)}});uS.__EMPTY_NODE=z.EMPTY_NODE;Pe.__childrenNodeConstructor=z;E2(fl);C2(fl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=!0;function Fe(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Pe(n,Fe(e))}if(!(t instanceof Array)&&x2){const n=[];let i=!1;if(et(t,(r,l)=>{if(r.substring(0,1)!=="."){const o=Fe(l);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new K(r,o)))}}),n.length===0)return z.EMPTY_NODE;const a=Zo(n,S2,r=>r.name,Yd);if(i){const r=Zo(n,Me.getCompare());return new z(a,Fe(e),new xn({".priority":r},{".priority":Me}))}else return new z(a,Fe(e),xn.Default)}else{let n=z.EMPTY_NODE;return et(t,(i,s)=>{if(mn(t,i)&&i.substring(0,1)!=="."){const a=Fe(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(Fe(e))}}T2(Fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2 extends Lu{constructor(e){super(),this.indexPath_=e,O(!$(e)&&Z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),a=i.compareTo(s);return a===0?_s(e.name,n.name):a}makePost(e,n){const i=Fe(e),s=z.EMPTY_NODE.updateChild(this.indexPath_,i);return new K(n,s)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,fl);return new K(os,e)}toString(){return Ur(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends Lu{compare(e,n){const i=e.node.compareTo(n.node);return i===0?_s(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return K.MIN}maxPost(){return K.MAX}makePost(e,n){const i=Fe(e);return new K(n,i)}toString(){return".value"}}const D2=new M2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){return{type:"value",snapshotNode:t}}function da(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function zr(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Br(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function I2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.index_=e}updateChild(e,n,i,s,a,r){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(r!=null&&(i.isEmpty()?e.hasChild(n)?r.trackChildChange(zr(n,l)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?r.trackChildChange(da(n,i)):r.trackChildChange(Br(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Me,(s,a)=>{n.hasChild(s)||i.trackChildChange(zr(s,a))}),n.isLeafNode()||n.forEachChild(Me,(s,a)=>{if(e.hasChild(s)){const r=e.getImmediateChild(s);r.equals(a)||i.trackChildChange(Br(s,a,r))}else i.trackChildChange(da(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.indexedFilter_=new Qd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Hr.getStartPost_(e),this.endPost_=Hr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,a,r){return this.matches(new K(n,i))||(i=z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,a,r)}updateFullNode(e,n,i){n.isLeafNode()&&(n=z.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(z.EMPTY_NODE);const a=this;return n.forEachChild(Me,(r,l)=>{a.matches(new K(r,l))||(s=s.updateImmediateChild(r,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Hr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,a,r){return this.rangedFilter_.matches(new K(n,i))||(i=z.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,a,r):this.fullLimitUpdateChild_(e,n,i,a,r)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=z.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;a.hasNext()&&r<this.limit_;){const l=a.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),r++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(z.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let r=0;for(;a.hasNext();){const l=a.getNext();r<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?r++:s=s.updateImmediateChild(l.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,a){let r;if(this.reverse_){const h=this.index_.getCompare();r=(c,d)=>h(d,c)}else r=this.index_.getCompare();const l=e;O(l.numChildren()===this.limit_,"");const o=new K(n,i),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(o);if(l.hasChild(n)){const h=l.getImmediateChild(n);let c=s.getChildAfterChild(this.index_,u,this.reverse_);for(;c!=null&&(c.name===n||l.hasChild(c.name));)c=s.getChildAfterChild(this.index_,c,this.reverse_);const d=c==null?1:r(c,o);if(f&&!i.isEmpty()&&d>=0)return a!=null&&a.trackChildChange(Br(n,i,h)),l.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(zr(n,h));const E=l.updateImmediateChild(n,z.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(a!=null&&a.trackChildChange(da(c.name,c.node)),E.updateImmediateChild(c.name,c.node)):E}}else return i.isEmpty()?e:f&&r(u,o)>=0?(a!=null&&(a.trackChildChange(zr(u.name,u.node)),a.trackChildChange(da(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(u.name,z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ha}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:os}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){const e=new Kd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function L2(t){return t.loadsAllData()?new Qd(t.getIndex()):t.hasLimit()?new k2(t):new Hr(t)}function n_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Me?n="$priority":t.index_===D2?n="$value":t.index_===Ws?n="$key":(O(t.index_ instanceof O2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=He(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=He(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+He(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=He(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+He(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function i_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Me&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends aS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=cl("p:rest:"),this.listens_={}}listen(e,n,i,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const r=$o.getListenId_(e,i),l={};this.listens_[r]=l;const o=n_(e._queryParams);this.restRequest_(a+".json",o,(u,f)=>{let h=f;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(a,h,!1,i),ua(this.listens_,r)===l){let c;u?u===401?c="permission_denied":c="rest_error:"+u:c="ok",s(c,null)}})}unlisten(e,n){const i=$o.getListenId_(e,n);delete this.listens_[i]}get(e){const n=n_(e._queryParams),i=e._path.toString(),s=new Ou;return this.restRequest_(i+".json",n,(a,r)=>{let l=r;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Na(n);this.log_("Sending REST request for "+r);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+r+" received. status:",l.status,"response:",l.responseText);let o=null;if(l.status>=200&&l.status<300){try{o=Dr(l.responseText)}catch{mt("Failed to parse JSON response for "+r+": "+l.responseText)}i(null,o)}else l.status!==401&&l.status!==404&&mt("Got unsuccessful REST response for "+r+" Status: "+l.status),i(l.status);i=null}},l.open("GET",r,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(){return{value:null,children:new Map}}function pS(t,e,n){if($(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Z(e);t.children.has(i)||t.children.set(i,Jo());const s=t.children.get(i);e=ge(e),pS(s,e,n)}}function sh(t,e,n){t.value!==null?n(e,t.value):z2(t,(i,s)=>{const a=new he(e.toString()+"/"+i);sh(s,a,n)})}function z2(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&et(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=10*1e3,H2=30*1e3,j2=5*60*1e3;class P2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new B2(e);const i=s_+(H2-s_)*Math.random();dr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;et(e,(s,a)=>{a>0&&mn(this.statsToReport_,s)&&(n[s]=a,i=!0)}),i&&this.server_.reportStats(n),dr(this.reportStats_.bind(this),Math.floor(Math.random()*2*j2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function Xd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Zd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Zt.ACK_USER_WRITE,this.source=Xd()}operationForChild(e){if($(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new he(e));return new eu(se(),n,this.revert)}}else return O(Z(this.path)===e,"operationForChild called for unrelated child."),new eu(ge(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return $(this.path)?new jr(this.source,se()):new jr(this.source,ge(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Zt.OVERWRITE}operationForChild(e){return $(this.path)?new us(this.source,se(),this.snap.getImmediateChild(e)):new us(this.source,ge(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Zt.MERGE}operationForChild(e){if($(this.path)){const n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new us(this.source,se(),n.value):new ma(this.source,se(),n)}else return O(Z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ma(this.source,ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($(e))return this.isFullyInitialized()&&!this.filtered_;const n=Z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function q2(t,e,n,i){const s=[],a=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&a.push(I2(r.childName,r.snapshotNode))}),Ga(t,s,"child_removed",e,i,n),Ga(t,s,"child_added",e,i,n),Ga(t,s,"child_moved",a,i,n),Ga(t,s,"child_changed",e,i,n),Ga(t,s,"value",e,i,n),s}function Ga(t,e,n,i,s,a){const r=i.filter(l=>l.type===n);r.sort((l,o)=>F2(t,l,o)),r.forEach(l=>{const o=G2(t,l,a);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(o,t.query_))})})}function G2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function F2(t,e,n){if(e.childName==null||n.childName==null)throw wa("Should only compare child_ events.");const i=new K(e.childName,e.snapshotNode),s=new K(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t,e){return{eventCache:t,serverCache:e}}function mr(t,e,n,i){return Uu(new Ri(e,n,i),t.serverCache)}function gS(t,e,n,i){return Uu(t.eventCache,new Ri(e,n,i))}function tu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function cs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;const Y2=()=>(qc||(qc=new ht(Ox)),qc);class pe{static fromObject(e){let n=new pe(null);return et(e,(i,s)=>{n=n.set(new he(i),s)}),n}constructor(e,n=Y2()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:se(),value:this.value};if($(e))return null;{const i=Z(e),s=this.children.get(i);if(s!==null){const a=s.findRootMostMatchingPathAndValue(ge(e),n);return a!=null?{path:Oe(new he(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($(e))return this;{const n=Z(e),i=this.children.get(n);return i!==null?i.subtree(ge(e)):new pe(null)}}set(e,n){if($(e))return new pe(n,this.children);{const i=Z(e),a=(this.children.get(i)||new pe(null)).set(ge(e),n),r=this.children.insert(i,a);return new pe(this.value,r)}}remove(e){if($(e))return this.children.isEmpty()?new pe(null):new pe(null,this.children);{const n=Z(e),i=this.children.get(n);if(i){const s=i.remove(ge(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new pe(null):new pe(this.value,a)}else return this}}get(e){if($(e))return this.value;{const n=Z(e),i=this.children.get(n);return i?i.get(ge(e)):null}}setTree(e,n){if($(e))return n;{const i=Z(e),a=(this.children.get(i)||new pe(null)).setTree(ge(e),n);let r;return a.isEmpty()?r=this.children.remove(i):r=this.children.insert(i,a),new pe(this.value,r)}}fold(e){return this.fold_(se(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(Oe(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,se(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if($(e))return null;{const a=Z(e),r=this.children.get(a);return r?r.findOnPath_(ge(e),Oe(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,se(),n)}foreachOnPath_(e,n,i){if($(e))return this;{this.value&&i(n,this.value);const s=Z(e),a=this.children.get(s);return a?a.foreachOnPath_(ge(e),Oe(n,s),i):new pe(null)}}foreach(e){this.foreach_(se(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Oe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.writeTree_=e}static empty(){return new Jt(new pe(null))}}function pr(t,e,n){if($(e))return new Jt(new pe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let a=i.value;const r=st(s,e);return a=a.updateChild(r,n),new Jt(t.writeTree_.set(s,a))}else{const s=new pe(n),a=t.writeTree_.setTree(e,s);return new Jt(a)}}}function ah(t,e,n){let i=t;return et(n,(s,a)=>{i=pr(i,Oe(e,s),a)}),i}function a_(t,e){if($(e))return Jt.empty();{const n=t.writeTree_.setTree(e,new pe(null));return new Jt(n)}}function rh(t,e){return ys(t,e)!=null}function ys(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(st(n.path,e)):null}function r_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Me,(i,s)=>{e.push(new K(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new K(i,s.value))}),e}function Si(t,e){if($(e))return t;{const n=ys(t,e);return n!=null?new Jt(new pe(n)):new Jt(t.writeTree_.subtree(e))}}function lh(t){return t.writeTree_.isEmpty()}function pa(t,e){return _S(se(),t.writeTree_,e)}function _S(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(O(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=_S(Oe(t,s),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Oe(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t,e){return SS(e,t)}function Q2(t,e,n,i,s){O(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=pr(t.visibleWrites,e,n)),t.lastWriteId=i}function K2(t,e,n,i){O(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=ah(t.visibleWrites,e,n),t.lastWriteId=i}function X2(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function W2(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,a=!1,r=t.allWrites.length-1;for(;s&&r>=0;){const l=t.allWrites[r];l.visible&&(r>=n&&Z2(l,i.path)?s=!1:Bt(i.path,l.path)&&(a=!0)),r--}if(s){if(a)return $2(t),!0;if(i.snap)t.visibleWrites=a_(t.visibleWrites,i.path);else{const l=i.children;et(l,o=>{t.visibleWrites=a_(t.visibleWrites,Oe(i.path,o))})}return!0}else return!1}function Z2(t,e){if(t.snap)return Bt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Bt(Oe(t.path,n),e))return!0;return!1}function $2(t){t.visibleWrites=yS(t.allWrites,J2,se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function J2(t){return t.visible}function yS(t,e,n){let i=Jt.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const r=a.path;let l;if(a.snap)Bt(n,r)?(l=st(n,r),i=pr(i,l,a.snap)):Bt(r,n)&&(l=st(r,n),i=pr(i,se(),a.snap.getChild(l)));else if(a.children){if(Bt(n,r))l=st(n,r),i=ah(i,l,a.children);else if(Bt(r,n))if(l=st(r,n),$(l))i=ah(i,se(),a.children);else{const o=ua(a.children,Z(l));if(o){const u=o.getChild(ge(l));i=pr(i,se(),u)}}}else throw wa("WriteRecord should have .snap or .children")}}return i}function vS(t,e,n,i,s){if(!i&&!s){const a=ys(t.visibleWrites,e);if(a!=null)return a;{const r=Si(t.visibleWrites,e);if(lh(r))return n;if(n==null&&!rh(r,se()))return null;{const l=n||z.EMPTY_NODE;return pa(r,l)}}}else{const a=Si(t.visibleWrites,e);if(!s&&lh(a))return n;if(!s&&n==null&&!rh(a,se()))return null;{const r=function(u){return(u.visible||s)&&(!i||!~i.indexOf(u.writeId))&&(Bt(u.path,e)||Bt(e,u.path))},l=yS(t.allWrites,r,e),o=n||z.EMPTY_NODE;return pa(l,o)}}}function eO(t,e,n){let i=z.EMPTY_NODE;const s=ys(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Me,(a,r)=>{i=i.updateImmediateChild(a,r)}),i;if(n){const a=Si(t.visibleWrites,e);return n.forEachChild(Me,(r,l)=>{const o=pa(Si(a,new he(r)),l);i=i.updateImmediateChild(r,o)}),r_(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}else{const a=Si(t.visibleWrites,e);return r_(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}}function tO(t,e,n,i,s){O(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=Oe(e,n);if(rh(t.visibleWrites,a))return null;{const r=Si(t.visibleWrites,a);return lh(r)?s.getChild(n):pa(r,s.getChild(n))}}function nO(t,e,n,i){const s=Oe(e,n),a=ys(t.visibleWrites,s);if(a!=null)return a;if(i.isCompleteForChild(n)){const r=Si(t.visibleWrites,s);return pa(r,i.getNode().getImmediateChild(n))}else return null}function iO(t,e){return ys(t.visibleWrites,e)}function sO(t,e,n,i,s,a,r){let l;const o=Si(t.visibleWrites,e),u=ys(o,se());if(u!=null)l=u;else if(n!=null)l=pa(o,n);else return[];if(l=l.withIndex(r),!l.isEmpty()&&!l.isLeafNode()){const f=[],h=r.getCompare(),c=a?l.getReverseIteratorFrom(i,r):l.getIteratorFrom(i,r);let d=c.getNext();for(;d&&f.length<s;)h(d,i)!==0&&f.push(d),d=c.getNext();return f}else return[]}function aO(){return{visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1}}function nu(t,e,n,i){return vS(t.writeTree,t.treePath,e,n,i)}function $d(t,e){return eO(t.writeTree,t.treePath,e)}function l_(t,e,n,i){return tO(t.writeTree,t.treePath,e,n,i)}function iu(t,e){return iO(t.writeTree,Oe(t.treePath,e))}function rO(t,e,n,i,s,a){return sO(t.writeTree,t.treePath,e,n,i,s,a)}function Jd(t,e,n){return nO(t.writeTree,t.treePath,e,n)}function bS(t,e){return SS(Oe(t.treePath,e),t.writeTree)}function SS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,Br(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,zr(i,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,da(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,Br(i,e.snapshotNode,s.oldSnap));else throw wa("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const ES=new oO;class em{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ri(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jd(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cs(this.viewCache_),a=rO(this.writes_,s,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){return{filter:t}}function cO(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function fO(t,e,n,i,s){const a=new lO;let r,l;if(n.type===Zt.OVERWRITE){const u=n;u.source.fromUser?r=oh(t,e,u.path,u.snap,i,s,a):(O(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!$(u.path),r=su(t,e,u.path,u.snap,i,s,l,a))}else if(n.type===Zt.MERGE){const u=n;u.source.fromUser?r=dO(t,e,u.path,u.children,i,s,a):(O(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),r=uh(t,e,u.path,u.children,i,s,l,a))}else if(n.type===Zt.ACK_USER_WRITE){const u=n;u.revert?r=gO(t,e,u.path,i,s,a):r=mO(t,e,u.path,u.affectedTree,i,s,a)}else if(n.type===Zt.LISTEN_COMPLETE)r=pO(t,e,n.path,i,a);else throw wa("Unknown operation type: "+n.type);const o=a.getChanges();return hO(e,r,o),{viewCache:r,changes:o}}function hO(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=tu(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(mS(tu(e)))}}function TS(t,e,n,i,s,a){const r=e.eventCache;if(iu(i,n)!=null)return e;{let l,o;if($(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=cs(e),f=u instanceof z?u:z.EMPTY_NODE,h=$d(i,f);l=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{const u=nu(i,cs(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,a)}else{const u=Z(n);if(u===".priority"){O(Ni(n)===1,"Can't have a priority with additional path components");const f=r.getNode();o=e.serverCache.getNode();const h=l_(i,n,f,o);h!=null?l=t.filter.updatePriority(f,h):l=r.getNode()}else{const f=ge(n);let h;if(r.isCompleteForChild(u)){o=e.serverCache.getNode();const c=l_(i,n,r.getNode(),o);c!=null?h=r.getNode().getImmediateChild(u).updateChild(f,c):h=r.getNode().getImmediateChild(u)}else h=Jd(i,u,e.serverCache);h!=null?l=t.filter.updateChild(r.getNode(),u,h,f,s,a):l=r.getNode()}}return mr(e,l,r.isFullyInitialized()||$(n),t.filter.filtersNodes())}}function su(t,e,n,i,s,a,r,l){const o=e.serverCache;let u;const f=r?t.filter:t.filter.getIndexedFilter();if($(n))u=f.updateFullNode(o.getNode(),i,null);else if(f.filtersNodes()&&!o.isFiltered()){const d=o.getNode().updateChild(n,i);u=f.updateFullNode(o.getNode(),d,null)}else{const d=Z(n);if(!o.isCompleteForPath(n)&&Ni(n)>1)return e;const _=ge(n),T=o.getNode().getImmediateChild(d).updateChild(_,i);d===".priority"?u=f.updatePriority(o.getNode(),T):u=f.updateChild(o.getNode(),d,T,_,ES,null)}const h=gS(e,u,o.isFullyInitialized()||$(n),f.filtersNodes()),c=new em(s,h,a);return TS(t,h,n,s,c,l)}function oh(t,e,n,i,s,a,r){const l=e.eventCache;let o,u;const f=new em(s,e,a);if($(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,r),o=mr(e,u,!0,t.filter.filtersNodes());else{const h=Z(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),o=mr(e,u,l.isFullyInitialized(),l.isFiltered());else{const c=ge(n),d=l.getNode().getImmediateChild(h);let _;if($(c))_=i;else{const E=f.getCompleteChild(h);E!=null?qd(c)===".priority"&&E.getChild(lS(c)).isEmpty()?_=E:_=E.updateChild(c,i):_=z.EMPTY_NODE}if(d.equals(_))o=e;else{const E=t.filter.updateChild(l.getNode(),h,_,c,f,r);o=mr(e,E,l.isFullyInitialized(),t.filter.filtersNodes())}}}return o}function o_(t,e){return t.eventCache.isCompleteForChild(e)}function dO(t,e,n,i,s,a,r){let l=e;return i.foreach((o,u)=>{const f=Oe(n,o);o_(e,Z(f))&&(l=oh(t,l,f,u,s,a,r))}),i.foreach((o,u)=>{const f=Oe(n,o);o_(e,Z(f))||(l=oh(t,l,f,u,s,a,r))}),l}function u_(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function uh(t,e,n,i,s,a,r,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let o=e,u;$(n)?u=i:u=new pe(null).setTree(n,i);const f=e.serverCache.getNode();return u.children.inorderTraversal((h,c)=>{if(f.hasChild(h)){const d=e.serverCache.getNode().getImmediateChild(h),_=u_(t,d,c);o=su(t,o,new he(h),_,s,a,r,l)}}),u.children.inorderTraversal((h,c)=>{const d=!e.serverCache.isCompleteForChild(h)&&c.value===null;if(!f.hasChild(h)&&!d){const _=e.serverCache.getNode().getImmediateChild(h),E=u_(t,_,c);o=su(t,o,new he(h),E,s,a,r,l)}}),o}function mO(t,e,n,i,s,a,r){if(iu(s,n)!=null)return e;const l=e.serverCache.isFiltered(),o=e.serverCache;if(i.value!=null){if($(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return su(t,e,n,o.getNode().getChild(n),s,a,l,r);if($(n)){let u=new pe(null);return o.getNode().forEachChild(Ws,(f,h)=>{u=u.set(new he(f),h)}),uh(t,e,n,u,s,a,l,r)}else return e}else{let u=new pe(null);return i.foreach((f,h)=>{const c=Oe(n,f);o.isCompleteForPath(c)&&(u=u.set(f,o.getNode().getChild(c)))}),uh(t,e,n,u,s,a,l,r)}}function pO(t,e,n,i,s){const a=e.serverCache,r=gS(e,a.getNode(),a.isFullyInitialized()||$(n),a.isFiltered());return TS(t,r,n,i,ES,s)}function gO(t,e,n,i,s,a){let r;if(iu(i,n)!=null)return e;{const l=new em(i,e,s),o=e.eventCache.getNode();let u;if($(n)||Z(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=nu(i,cs(e));else{const h=e.serverCache.getNode();O(h instanceof z,"serverChildren would be complete if leaf node"),f=$d(i,h)}f=f,u=t.filter.updateFullNode(o,f,a)}else{const f=Z(n);let h=Jd(i,f,e.serverCache);h==null&&e.serverCache.isCompleteForChild(f)&&(h=o.getImmediateChild(f)),h!=null?u=t.filter.updateChild(o,f,h,ge(n),l,a):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(o,f,z.EMPTY_NODE,ge(n),l,a):u=o,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=nu(i,cs(e)),r.isLeafNode()&&(u=t.filter.updateFullNode(u,r,a)))}return r=e.serverCache.isFullyInitialized()||iu(i,se())!=null,mr(e,u,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Qd(i.getIndex()),a=L2(i);this.processor_=uO(a);const r=n.serverCache,l=n.eventCache,o=s.updateFullNode(z.EMPTY_NODE,r.getNode(),null),u=a.updateFullNode(z.EMPTY_NODE,l.getNode(),null),f=new Ri(o,r.isFullyInitialized(),s.filtersNodes()),h=new Ri(u,l.isFullyInitialized(),a.filtersNodes());this.viewCache_=Uu(h,f),this.eventGenerator_=new V2(this.query_)}get query(){return this.query_}}function yO(t){return t.viewCache_.serverCache.getNode()}function vO(t){return tu(t.viewCache_)}function bO(t,e){const n=cs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$(e)&&!n.getImmediateChild(Z(e)).isEmpty())?n.getChild(e):null}function c_(t){return t.eventRegistrations_.length===0}function SO(t,e){t.eventRegistrations_.push(e)}function f_(t,e,n){const i=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const r=a.createCancelEvent(n,s);r&&i.push(r)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const r=t.eventRegistrations_[a];if(!r.matches(e))s.push(r);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function h_(t,e,n,i){e.type===Zt.MERGE&&e.source.queryId!==null&&(O(cs(t.viewCache_),"We should always have a full cache before handling merges"),O(tu(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=fO(t.processor_,s,e,n,i);return cO(t.processor_,a.viewCache),O(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,CS(t,a.changes,a.viewCache.eventCache.getNode(),null)}function EO(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Me,(a,r)=>{i.push(da(a,r))}),n.isFullyInitialized()&&i.push(mS(n.getNode())),CS(t,i,n.getNode(),e)}function CS(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return q2(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au;class wS{constructor(){this.views=new Map}}function TO(t){O(!au,"__referenceConstructor has already been defined"),au=t}function CO(){return O(au,"Reference.ts has not been loaded"),au}function wO(t){return t.views.size===0}function tm(t,e,n,i){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return O(a!=null,"SyncTree gave us an op for an invalid query."),h_(a,e,n,i)}else{let a=[];for(const r of t.views.values())a=a.concat(h_(r,e,n,i));return a}}function AS(t,e,n,i,s){const a=e._queryIdentifier,r=t.views.get(a);if(!r){let l=nu(n,s?i:null),o=!1;l?o=!0:i instanceof z?(l=$d(n,i),o=!1):(l=z.EMPTY_NODE,o=!1);const u=Uu(new Ri(l,o,!1),new Ri(i,s,!1));return new _O(e,u)}return r}function AO(t,e,n,i,s,a){const r=AS(t,e,i,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),SO(r,n),EO(r,n)}function NO(t,e,n,i){const s=e._queryIdentifier,a=[];let r=[];const l=xi(t);if(s==="default")for(const[o,u]of t.views.entries())r=r.concat(f_(u,n,i)),c_(u)&&(t.views.delete(o),u.query._queryParams.loadsAllData()||a.push(u.query));else{const o=t.views.get(s);o&&(r=r.concat(f_(o,n,i)),c_(o)&&(t.views.delete(s),o.query._queryParams.loadsAllData()||a.push(o.query)))}return l&&!xi(t)&&a.push(new(CO())(e._repo,e._path)),{removed:a,events:r}}function NS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ei(t,e){let n=null;for(const i of t.views.values())n=n||bO(i,e);return n}function RS(t,e){if(e._queryParams.loadsAllData())return Bu(t);{const i=e._queryIdentifier;return t.views.get(i)}}function xS(t,e){return RS(t,e)!=null}function xi(t){return Bu(t)!=null}function Bu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru;function RO(t){O(!ru,"__referenceConstructor has already been defined"),ru=t}function xO(){return O(ru,"Reference.ts has not been loaded"),ru}let OO=1;class d_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pe(null),this.pendingWriteTree_=aO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function MO(t,e,n,i,s){return Q2(t.pendingWriteTree_,e,n,i,s),s?Ma(t,new us(Xd(),e,n)):[]}function DO(t,e,n,i){K2(t.pendingWriteTree_,e,n,i);const s=pe.fromObject(n);return Ma(t,new ma(Xd(),e,s))}function Yi(t,e,n=!1){const i=X2(t.pendingWriteTree_,e);if(W2(t.pendingWriteTree_,e)){let a=new pe(null);return i.snap!=null?a=a.set(se(),!0):et(i.children,r=>{a=a.set(new he(r),!0)}),Ma(t,new eu(i.path,a,n))}else return[]}function hl(t,e,n){return Ma(t,new us(Wd(),e,n))}function IO(t,e,n){const i=pe.fromObject(n);return Ma(t,new ma(Wd(),e,i))}function kO(t,e){return Ma(t,new jr(Wd(),e))}function LO(t,e,n){const i=nm(t,n);if(i){const s=im(i),a=s.path,r=s.queryId,l=st(a,e),o=new jr(Zd(r),l);return sm(t,a,o)}else return[]}function lu(t,e,n,i,s=!1){const a=e._path,r=t.syncPointTree_.get(a);let l=[];if(r&&(e._queryIdentifier==="default"||xS(r,e))){const o=NO(r,e,n,i);wO(r)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const u=o.removed;if(l=o.events,!s){const f=u.findIndex(c=>c._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(a,(c,d)=>xi(d));if(f&&!h){const c=t.syncPointTree_.subtree(a);if(!c.isEmpty()){const d=BO(c);for(let _=0;_<d.length;++_){const E=d[_],T=E.query,m=kS(t,E);t.listenProvider_.startListening(gr(T),Pr(t,T),m.hashFn,m.onComplete)}}}!h&&u.length>0&&!i&&(f?t.listenProvider_.stopListening(gr(e),null):u.forEach(c=>{const d=t.queryToTagMap.get(Hu(c));t.listenProvider_.stopListening(gr(c),d)}))}HO(t,u)}return l}function OS(t,e,n,i){const s=nm(t,i);if(s!=null){const a=im(s),r=a.path,l=a.queryId,o=st(r,e),u=new us(Zd(l),o,n);return sm(t,r,u)}else return[]}function UO(t,e,n,i){const s=nm(t,i);if(s){const a=im(s),r=a.path,l=a.queryId,o=st(r,e),u=pe.fromObject(n),f=new ma(Zd(l),o,u);return sm(t,r,f)}else return[]}function ch(t,e,n,i=!1){const s=e._path;let a=null,r=!1;t.syncPointTree_.foreachOnPath(s,(c,d)=>{const _=st(c,s);a=a||Ei(d,_),r=r||xi(d)});let l=t.syncPointTree_.get(s);l?(r=r||xi(l),a=a||Ei(l,se())):(l=new wS,t.syncPointTree_=t.syncPointTree_.set(s,l));let o;a!=null?o=!0:(o=!1,a=z.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((d,_)=>{const E=Ei(_,se());E&&(a=a.updateImmediateChild(d,E))}));const u=xS(l,e);if(!u&&!e._queryParams.loadsAllData()){const c=Hu(e);O(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");const d=jO();t.queryToTagMap.set(c,d),t.tagToQueryMap.set(d,c)}const f=zu(t.pendingWriteTree_,s);let h=AO(l,e,n,f,a,o);if(!u&&!r&&!i){const c=RS(l,e);h=h.concat(PO(t,e,c))}return h}function MS(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(r,l)=>{const o=st(r,e),u=Ei(l,o);if(u)return u});return vS(s,e,a,n,!0)}function zO(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(u,f)=>{const h=st(u,n);i=i||Ei(f,h)});let s=t.syncPointTree_.get(n);s?i=i||Ei(s,se()):(s=new wS,t.syncPointTree_=t.syncPointTree_.set(n,s));const a=i!=null,r=a?new Ri(i,!0,!1):null,l=zu(t.pendingWriteTree_,e._path),o=AS(s,e,l,a?r.getNode():z.EMPTY_NODE,a);return vO(o)}function Ma(t,e){return DS(e,t.syncPointTree_,null,zu(t.pendingWriteTree_,se()))}function DS(t,e,n,i){if($(t.path))return IS(t,e,n,i);{const s=e.get(se());n==null&&s!=null&&(n=Ei(s,se()));let a=[];const r=Z(t.path),l=t.operationForChild(r),o=e.children.get(r);if(o&&l){const u=n?n.getImmediateChild(r):null,f=bS(i,r);a=a.concat(DS(l,o,u,f))}return s&&(a=a.concat(tm(s,t,i,n))),a}}function IS(t,e,n,i){const s=e.get(se());n==null&&s!=null&&(n=Ei(s,se()));let a=[];return e.children.inorderTraversal((r,l)=>{const o=n?n.getImmediateChild(r):null,u=bS(i,r),f=t.operationForChild(r);f&&(a=a.concat(IS(f,l,o,u)))}),s&&(a=a.concat(tm(s,t,i,n))),a}function kS(t,e){const n=e.query,i=Pr(t,n);return{hashFn:()=>(yO(e)||z.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?LO(t,n._path,i):kO(t,n._path);{const a=Ix(s,n);return lu(t,n,null,a)}}}}function Pr(t,e){const n=Hu(e);return t.queryToTagMap.get(n)}function Hu(t){return t._path.toString()+"$"+t._queryIdentifier}function nm(t,e){return t.tagToQueryMap.get(e)}function im(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function sm(t,e,n){const i=t.syncPointTree_.get(e);O(i,"Missing sync point for query tag that we're tracking");const s=zu(t.pendingWriteTree_,e);return tm(i,n,s,null)}function BO(t){return t.fold((e,n,i)=>{if(n&&xi(n))return[Bu(n)];{let s=[];return n&&(s=NS(n)),et(i,(a,r)=>{s=s.concat(r)}),s}})}function gr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(xO())(t._repo,t._path):t}function HO(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Hu(i),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function jO(){return OO++}function PO(t,e,n){const i=e._path,s=Pr(t,e),a=kS(t,n),r=t.listenProvider_.startListening(gr(e),s,a.hashFn,a.onComplete),l=t.syncPointTree_.subtree(i);if(s)O(!xi(l.value),"If we're adding a query, it shouldn't be shadowed");else{const o=l.fold((u,f,h)=>{if(!$(u)&&f&&xi(f))return[Bu(f).query];{let c=[];return f&&(c=c.concat(NS(f).map(d=>d.query))),et(h,(d,_)=>{c=c.concat(_)}),c}});for(let u=0;u<o.length;++u){const f=o[u];t.listenProvider_.stopListening(gr(f),Pr(t,f))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new am(n)}node(){return this.node_}}class rm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Oe(this.path_,e);return new rm(this.syncTree_,n)}node(){return MS(this.syncTree_,this.path_)}}const VO=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},m_=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return qO(t[".sv"],e,n);if(typeof t[".sv"]=="object")return GO(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},qO=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},GO=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&O(!1,"Unexpected increment value: "+i);const s=e.node();if(O(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return typeof r!="number"?i:r+i},LS=function(t,e,n,i){return lm(e,new rm(n,t),i)},FO=function(t,e,n){return lm(t,new am(e),n)};function lm(t,e,n){const i=t.getPriority().val(),s=m_(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const r=t,l=m_(r.getValue(),e,n);return l!==r.getValue()||s!==r.getPriority().val()?new Pe(l,Fe(s)):t}else{const r=t;return a=r,s!==r.getPriority().val()&&(a=a.updatePriority(new Pe(s))),r.forEachChild(Me,(l,o)=>{const u=lm(o,e.getImmediateChild(l),n);u!==o&&(a=a.updateImmediateChild(l,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function um(t,e){let n=e instanceof he?e:new he(e),i=t,s=Z(n);for(;s!==null;){const a=ua(i.node.children,s)||{children:{},childCount:0};i=new om(s,i,a),n=ge(n),s=Z(n)}return i}function Da(t){return t.node.value}function US(t,e){t.node.value=e,fh(t)}function zS(t){return t.node.childCount>0}function YO(t){return Da(t)===void 0&&!zS(t)}function ju(t,e){et(t.node.children,(n,i)=>{e(new om(n,t,i))})}function BS(t,e,n,i){n&&e(t),ju(t,s=>{BS(s,e,!0)})}function QO(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function dl(t){return new he(t.parent===null?t.name:dl(t.parent)+"/"+t.name)}function fh(t){t.parent!==null&&KO(t.parent,t.name,t)}function KO(t,e,n){const i=YO(n),s=mn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,fh(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,fh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=/[\[\].#$\/\u0000-\u001F\u007F]/,WO=/[\[\].#$\u0000-\u001F\u007F]/,Gc=10*1024*1024,cm=function(t){return typeof t=="string"&&t.length!==0&&!XO.test(t)},HS=function(t){return typeof t=="string"&&t.length!==0&&!WO.test(t)},ZO=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),HS(t)},$O=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Bd(t)||t&&typeof t=="object"&&mn(t,".sv")},fm=function(t,e,n){const i=n instanceof he?new d2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Vi(i));if(typeof e=="function")throw new Error(t+"contains a function "+Vi(i)+" with contents = "+e.toString());if(Bd(e))throw new Error(t+"contains "+e.toString()+" "+Vi(i));if(typeof e=="string"&&e.length>Gc/3&&Mu(e)>Gc)throw new Error(t+"contains a string greater than "+Gc+" utf8 bytes "+Vi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(et(e,(r,l)=>{if(r===".value")s=!0;else if(r!==".priority"&&r!==".sv"&&(a=!0,!cm(r)))throw new Error(t+" contains an invalid key ("+r+") "+Vi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);m2(i,r),fm(t,l,i),p2(i)}),s&&a)throw new Error(t+' contains ".value" child '+Vi(i)+" in addition to actual children.")}},JO=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const a=Ur(i);for(let r=0;r<a.length;r++)if(!(a[r]===".priority"&&r===a.length-1)){if(!cm(a[r]))throw new Error(t+"contains an invalid key ("+a[r]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(h2);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&Bt(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},eM=function(t,e,n,i){const s=Cd(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const a=[];et(e,(r,l)=>{const o=new he(r);if(fm(s,l,Oe(n,o)),qd(o)===".priority"&&!$O(l))throw new Error(s+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(o)}),JO(s,a)},jS=function(t,e,n,i){if(!HS(n))throw new Error(Cd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tM=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),jS(t,e,n)},nM=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ZO(n))throw new Error(Cd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hm(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],a=s.getPath();n!==null&&!Gd(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function PS(t,e,n){hm(t,n),VS(t,i=>Gd(i,e))}function fn(t,e,n){hm(t,n),VS(t,i=>Bt(i,e)||Bt(e,i))}function VS(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const a=s.path;e(a)?(sM(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sM(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();hr&&Xe("event: "+n.toString()),Oa(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="repo_interrupt",rM=25;class lM{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jo(),this.transactionQueueTree_=new om,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oM(t,e,n){if(t.stats_=Pd(t.repoInfo_),t.forceRestClient_||zx())t.server_=new $o(t.repoInfo_,(i,s,a,r)=>{p_(t,i,s,a,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>g_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{He(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new kn(t.repoInfo_,e,(i,s,a,r)=>{p_(t,i,s,a,r)},i=>{g_(t,i)},i=>{cM(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Vx(t.repoInfo_,()=>new P2(t.stats_,t.server_)),t.infoData_=new U2,t.infoSyncTree_=new d_({startListening:(i,s,a,r)=>{let l=[];const o=t.infoData_.getNode(i._path);return o.isEmpty()||(l=hl(t.infoSyncTree_,i._path,o),setTimeout(()=>{r("ok")},0)),l},stopListening:()=>{}}),mm(t,"connected",!1),t.serverSyncTree_=new d_({startListening:(i,s,a,r)=>(t.server_.listen(i,a,s,(l,o)=>{const u=r(l,o);fn(t.eventQueue_,i._path,u)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function uM(t){const n=t.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function dm(t){return VO({timestamp:uM(t)})}function p_(t,e,n,i,s){t.dataUpdateCount++;const a=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(s)if(i){const o=Po(n,u=>Fe(u));r=UO(t.serverSyncTree_,a,o,s)}else{const o=Fe(n);r=OS(t.serverSyncTree_,a,o,s)}else if(i){const o=Po(n,u=>Fe(u));r=IO(t.serverSyncTree_,a,o)}else{const o=Fe(n);r=hl(t.serverSyncTree_,a,o)}let l=a;r.length>0&&(l=Vr(t,a)),fn(t.eventQueue_,l,r)}function g_(t,e){mm(t,"connected",e),e===!1&&dM(t)}function cM(t,e){et(e,(n,i)=>{mm(t,n,i)})}function mm(t,e,n){const i=new he("/.info/"+e),s=Fe(n);t.infoData_.updateSnapshot(i,s);const a=hl(t.infoSyncTree_,i,s);fn(t.eventQueue_,i,a)}function qS(t){return t.nextWriteId_++}function fM(t,e,n){const i=zO(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const a=Fe(s).withIndex(e._queryParams.getIndex());ch(t.serverSyncTree_,e,n,!0);let r;if(e._queryParams.loadsAllData())r=hl(t.serverSyncTree_,e._path,a);else{const l=Pr(t.serverSyncTree_,e);r=OS(t.serverSyncTree_,e._path,a,l)}return fn(t.eventQueue_,e._path,r),lu(t.serverSyncTree_,e,n,null,!0),a},s=>(Pu(t,"get for query "+He(e)+" failed: "+s),Promise.reject(new Error(s))))}function hM(t,e,n,i){Pu(t,"update",{path:e.toString(),value:n});let s=!0;const a=dm(t),r={};if(et(n,(l,o)=>{s=!1,r[l]=LS(Oe(e,l),Fe(o),t.serverSyncTree_,a)}),s)Xe("update() called with empty data.  Don't do anything."),__(t,i,"ok",void 0);else{const l=qS(t),o=DO(t.serverSyncTree_,e,r,l);hm(t.eventQueue_,o),t.server_.merge(e.toString(),n,(u,f)=>{const h=u==="ok";h||mt("update at "+e+" failed: "+u);const c=Yi(t.serverSyncTree_,l,!h),d=c.length>0?Vr(t,e):e;fn(t.eventQueue_,d,c),__(t,i,u,f)}),et(n,u=>{const f=XS(t,Oe(e,u));Vr(t,f)}),fn(t.eventQueue_,e,[])}}function dM(t){Pu(t,"onDisconnectEvents");const e=dm(t),n=Jo();sh(t.onDisconnect_,se(),(s,a)=>{const r=LS(s,a,t.serverSyncTree_,e);pS(n,s,r)});let i=[];sh(n,se(),(s,a)=>{i=i.concat(hl(t.serverSyncTree_,s,a));const r=XS(t,s);Vr(t,r)}),t.onDisconnect_=Jo(),fn(t.eventQueue_,se(),i)}function mM(t,e,n){let i;Z(e._path)===".info"?i=ch(t.infoSyncTree_,e,n):i=ch(t.serverSyncTree_,e,n),PS(t.eventQueue_,e._path,i)}function GS(t,e,n){let i;Z(e._path)===".info"?i=lu(t.infoSyncTree_,e,n):i=lu(t.serverSyncTree_,e,n),PS(t.eventQueue_,e._path,i)}function pM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(aM)}function Pu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Xe(n,...e)}function __(t,e,n,i){e&&Oa(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;i&&(a+=": "+i);const r=new Error(a);r.code=s,e(r)}})}function FS(t,e,n){return MS(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function pm(t,e=t.transactionQueueTree_){if(e||Vu(t,e),Da(e)){const n=QS(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&gM(t,dl(e),n)}else zS(e)&&ju(e,n=>{pm(t,n)})}function gM(t,e,n){const i=n.map(u=>u.currentWriteId),s=FS(t,e,i);let a=s;const r=s.hash();for(let u=0;u<n.length;u++){const f=n[u];O(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const h=st(e,f.path);a=a.updateChild(h,f.currentOutputSnapshotRaw)}const l=a.val(!0),o=e;t.server_.put(o.toString(),l,u=>{Pu(t,"transaction put response",{path:o.toString(),status:u});let f=[];if(u==="ok"){const h=[];for(let c=0;c<n.length;c++)n[c].status=2,f=f.concat(Yi(t.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&h.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();Vu(t,um(t.transactionQueueTree_,e)),pm(t,t.transactionQueueTree_),fn(t.eventQueue_,e,f);for(let c=0;c<h.length;c++)Oa(h[c])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{mt("transaction at "+o.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Vr(t,e)}},r)}function Vr(t,e){const n=YS(t,e),i=dl(n),s=QS(t,n);return _M(t,s,i),i}function _M(t,e,n){if(e.length===0)return;const i=[];let s=[];const r=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const o=e[l],u=st(n,o.path);let f=!1,h;if(O(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)f=!0,h=o.abortReason,s=s.concat(Yi(t.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=rM)f=!0,h="maxretry",s=s.concat(Yi(t.serverSyncTree_,o.currentWriteId,!0));else{const c=FS(t,o.path,r);o.currentInputSnapshot=c;const d=e[l].update(c.val());if(d!==void 0){fm("transaction failed: Data returned ",d,o.path);let _=Fe(d);typeof d=="object"&&d!=null&&mn(d,".priority")||(_=_.updatePriority(c.getPriority()));const T=o.currentWriteId,m=dm(t),g=FO(_,c,m);o.currentOutputSnapshotRaw=_,o.currentOutputSnapshotResolved=g,o.currentWriteId=qS(t),r.splice(r.indexOf(T),1),s=s.concat(MO(t.serverSyncTree_,o.path,g,o.currentWriteId,o.applyLocally)),s=s.concat(Yi(t.serverSyncTree_,T,!0))}else f=!0,h="nodata",s=s.concat(Yi(t.serverSyncTree_,o.currentWriteId,!0))}fn(t.eventQueue_,n,s),s=[],f&&(e[l].status=2,function(c){setTimeout(c,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(h),!1,null))))}Vu(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Oa(i[l]);pm(t,t.transactionQueueTree_)}function YS(t,e){let n,i=t.transactionQueueTree_;for(n=Z(e);n!==null&&Da(i)===void 0;)i=um(i,n),e=ge(e),n=Z(e);return i}function QS(t,e){const n=[];return KS(t,e,n),n.sort((i,s)=>i.order-s.order),n}function KS(t,e,n){const i=Da(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);ju(e,s=>{KS(t,s,n)})}function Vu(t,e){const n=Da(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,US(e,n.length>0?n:void 0)}ju(e,i=>{Vu(t,i)})}function XS(t,e){const n=dl(YS(t,e)),i=um(t.transactionQueueTree_,e);return QO(i,s=>{Fc(t,s)}),Fc(t,i),BS(i,s=>{Fc(t,s)}),n}function Fc(t,e){const n=Da(e);if(n){const i=[];let s=[],a=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(O(a===r-1,"All SENT items should be at beginning of queue."),a=r,n[r].status=3,n[r].abortReason="set"):(O(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),s=s.concat(Yi(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&i.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));a===-1?US(e,void 0):n.length=a+1,fn(t.eventQueue_,dl(e),s);for(let r=0;r<i.length;r++)Oa(i[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function vM(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):mt(`Invalid query segment '${n}' in query '${t}'`)}return e}const y_=function(t,e){const n=bM(t),i=n.namespace;n.domain==="firebase.com"&&qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Rx();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $b(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new he(n.pathString)}},bM=function(t){let e="",n="",i="",s="",a="",r=!0,l="https",o=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(f,h)),f<h&&(s=yM(t.substring(f,h)));const c=vM(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(r=l==="https"||l==="wss",o=parseInt(e.substring(u+1),10)):u=e.length;const d=e.slice(0,u);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const _=e.indexOf(".");i=e.substring(0,_).toLowerCase(),n=e.substring(_+1),a=i}"ns"in c&&(a=c.ns)}return{host:e,port:o,domain:n,subdomain:i,secure:r,scheme:l,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+He(this.snapshot.exportVal())}}class EM{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return $(this._path)?null:qd(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=i_(this._queryParams),n=Hd(e);return n==="{}"?"default":n}get _queryObject(){return i_(this._queryParams)}isEqual(e){if(e=xt(e),!(e instanceof _m))return!1;const n=this._repo===e._repo,i=Gd(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+f2(this._path)}}class Yn extends _m{constructor(e,n){super(e,n,new Kd,!1)}get parent(){const e=lS(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class qr{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new he(e),i=hh(this.ref,e);return new qr(this._node.getChild(n),i,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new qr(s,hh(this.ref,i),Me)))}hasChild(e){const n=new he(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gt(t,e){return t=xt(t),t._checkNotDeleted("ref"),e!==void 0?hh(t._root,e):t._root}function hh(t,e){return t=xt(t),Z(t._path)===null?tM("child","path",e):jS("child","path",e),new Yn(t._repo,Oe(t._path,e))}function vs(t,e){eM("update",e,t._path);const n=new Ou;return hM(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ym(t){t=xt(t);const e=new gm(()=>{}),n=new ml(e);return fM(t._repo,t,n).then(i=>new qr(i,new Yn(t._repo,t._path),t._queryParams.getIndex()))}class ml{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new SM("value",this,new qr(e.snapshotNode,new Yn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new EM(this,e,n):null}matches(e){return e instanceof ml?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function TM(t,e,n,i,s){const a=new gm(n,void 0),r=new ml(a);return mM(t._repo,t,r),()=>GS(t._repo,t,r)}function vm(t,e,n,i){return TM(t,"value",e)}function qu(t,e,n){let i=null;const s=n?new gm(n):null;i=new ml(s),GS(t._repo,t,i)}TO(Yn);RO(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="FIREBASE_DATABASE_EMULATOR_HOST",dh={};let wM=!1;function AM(t,e,n,i){const s=e.lastIndexOf(":"),a=e.substring(0,s),r=Aa(a);t.repoInfo_=new $b(e,r,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function NM(t,e,n,i,s){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=y_(a,s),l=r.repoInfo,o;typeof process<"u"&&Hg&&(o=Hg[CM]),o?(a=`http://${o}?ns=${l.namespace}`,r=y_(a,s),l=r.repoInfo):r.repoInfo.secure;const u=new Hx(t.name,t.options,e);nM("Invalid Firebase Database URL",r),$(r.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const f=xM(l,t,u,new Bx(t,n));return new OM(f,t)}function RM(t,e){const n=dh[e];(!n||n[t.key]!==t)&&qn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),pM(t),delete n[t.key]}function xM(t,e,n,i){let s=dh[e.name];s||(s={},dh[e.name]=s);let a=s[t.toURLString()];return a&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new lM(t,wM,n,i),s[t.toURLString()]=a,a}class OM{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(RM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&qn("Cannot call "+e+" on a deleted database.")}}function MM(t=ib(),e){const n=Nd(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Qw("database");i&&DM(n,...i)}return n}function DM(t,e,n,i={}){t=xt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&as(i,a.repoInfo_.emulatorOptions))return;qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let r;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new ao(ao.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:Kw(i.mockUserToken,t.app.options.projectId);r=new ao(l)}Aa(e)&&(W0(e),Z0("Database",!0)),AM(a,s,i,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){Ex(Ra),ca(new rs("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return NM(i,s,a,n)},"PUBLIC").setMultipleInstances(!0)),bi(jg,Pg,t),bi(jg,Pg,"esm2020")}kn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};kn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};IM();const kM={apiKey:"AIzaSyDks3_CoJfEpj2bqTCGeQZhGibXgY9n9l8",authDomain:"shopping-spree-94c4d.firebaseapp.com",projectId:"shopping-spree-94c4d",storageBucket:"shopping-spree-94c4d.firebasestorage.app",messagingSenderId:"289860492862",appId:"1:289860492862:web:63f3b31fe637472280fb6f",databaseURL:"https://shopping-spree-94c4d-default-rtdb.europe-west1.firebasedatabase.app"};let Ll=null,Ji=null,v_=null;const Gu=[],bm="family/shared/buildInfo";function tt(){return Ll||(Ll=nb(kM),Ji=bx(Ll),v_=MM(Ll)),{auth:Ji,database:v_}}function LM(){const{auth:t}=tt();return new Promise(e=>{const n=wb(t,i=>{n(),e(i)},()=>{n(),e(null)})})}function Sm(t){const{auth:e}=tt();return wb(e,t)}async function WS(){const{auth:t}=tt(),e=new Tn,i=(await xR(t,e)).user;if(!await UM(i.uid)){await zM(i),await Ab(t);const a=new Error(`${i.email} is not whitelisted yet. You've been added to the waiting list.`);throw a.code="auth/waiting-list",a.waitingUid=i.uid,a}return i}async function UM(t){const{database:e}=tt(),n=gt(e,`whitelist/${t}`);return(await ym(n)).exists()}async function zM(t){const{database:e}=tt(),n=gt(e,`waitingList/${t.uid}`);await vs(n,{email:t.email,displayName:t.displayName||"",requestedAt:new Date().toISOString(),status:"pending"})}async function ZS(){Ji&&await Ab(Ji)}function Em(){return(Ji==null?void 0:Ji.currentUser)||null}async function mh(){const{database:t}=tt(),e=gt(t,"family/shared"),n=await ym(e);if(!n.exists())return null;const i=n.val();return i.items&&typeof i.items=="object"&&!Array.isArray(i.items)&&(i.items=Object.values(i.items)),i}async function BM(){const{database:t}=tt(),e=gt(t,bm),n=await ym(e);return n.exists()?n.val():null}async function ro(t,e,n){const{database:i,auth:s}=tt(),a=s.currentUser;if(!a)throw new Error("User not authenticated");gt(i,`family/shared/budget/${t}/${e}`),await vs(gt(i,"family/shared"),{[`budget/${t}/${e}`]:n,lastModified:new Date().toISOString(),lastModifiedBy:a.email})}async function qi(t){const{database:e,auth:n}=tt(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await vs(gt(e,"family/shared"),{[`items/${t.id}`]:t,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function HM(t){const{database:e,auth:n}=tt(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await vs(gt(e,"family/shared"),{[`items/${t}`]:null,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function $S(t){const{database:e,auth:n}=tt(),i=n.currentUser;if(!i)throw new Error("User not authenticated");const s=gt(e,"family/shared");await vs(s,{budget:t,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function JS(t){const{database:e,auth:n}=tt(),i=n.currentUser;if(!i)throw new Error("User not authenticated");const s=t.reduce((r,l)=>(r[l.id]=l,r),{}),a=gt(e,"family/shared");await vs(a,{items:s,lastModified:new Date().toISOString(),lastModifiedBy:i.email})}async function jM(t){const{database:e,auth:n}=tt(),i=n.currentUser;if(!i)throw new Error("User not authenticated");await vs(gt(e,bm),{...t,lastUpdatedAt:new Date().toISOString(),lastUpdatedBy:i.email})}function PM(t){const{database:e}=tt(),n=gt(e,"family/shared/budget"),i=s=>{t(s.exists()?s.val():null)};return vm(n,i),Gu.push({ref:n,handler:i}),()=>qu(n,"value",i)}function VM(t){const{database:e}=tt(),n=gt(e,"family/shared/items"),i=s=>{if(s.exists()){const a=s.val(),r=Object.values(a||{});t(r)}};return vm(n,i),Gu.push({ref:n,handler:i}),()=>qu(n,"value",i)}function qM(t){const{database:e}=tt(),n=gt(e,bm),i=s=>{t(s.exists()?s.val():null)};return vm(n,i),Gu.push({ref:n,handler:i}),()=>qu(n,"value",i)}function GM(){Gu.splice(0).forEach(({ref:t,handler:e})=>{qu(t,"value",e)})}const eE=Object.freeze(Object.defineProperty({__proto__:null,deleteItem:HM,getCurrentUser:Em,listenToBuildInfo:qM,listenToFamilyBudget:PM,listenToFamilyItems:VM,loadBuildInfoFromDatabase:BM,loadFamilyData:mh,onAuthChange:Sm,saveBuildInfo:jM,saveFamilyBudget:$S,saveFamilyItems:JS,signInWithGoogle:WS,signOut:ZS,stopListening:GM,updateBudgetField:ro,updateItem:qi,waitForAuthReady:LM},Symbol.toStringTag,{value:"Module"})),Ui={BUDGET:"shopping_spree_budget",ITEMS:"shopping_spree_items"},FM={income:{target:0,actual:0},needs:{target:0,actual:0},future:{target:0,actual:0},wants:{target:0,actual:0}},b_=(t,e)=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error("Local Storage Error",n),e}},Ul=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Local Storage Save Error",n)}};function ou(){return!!Em()}async function YM(t){if(ou())try{await $S(t)}catch(e){console.error("Firebase sync error:",e)}}async function QM(t){if(ou())try{await JS(t)}catch(e){console.error("Firebase sync error:",e)}}const zl={getBudget:async()=>{const t=b_(Ui.BUDGET,FM);if(ou())try{const e=await mh();if(e&&e.budget)return Ul(Ui.BUDGET,e.budget),e.budget}catch(e){console.error("Firebase load error:",e)}return t},saveBudget:async t=>{Ul(Ui.BUDGET,t),await YM(t)},getItems:async()=>{let t=b_(Ui.ITEMS,[]);if(Array.isArray(t)||(t=t&&typeof t=="object"?Object.values(t):[]),ou())try{const e=await mh();if(e&&e.items){let n=e.items;return Array.isArray(n)||(n=n&&typeof n=="object"?Object.values(n):[]),Ul(Ui.ITEMS,n),n}}catch(e){console.error("Firebase load error:",e)}return t},saveItems:async t=>{Ul(Ui.ITEMS,t),await QM(t)},getKeys:()=>Ui};function KM(t,e){let n=0;const i=new Date(t,e,1);for(;i.getMonth()===e;)i.getDay()===6&&n++,i.setDate(i.getDate()+1);return n}function XM(t=new Date){const e=new Date(t),n=e.getDate();let i=0;for(let s=1;s<n;s++)new Date(e.getFullYear(),e.getMonth(),s).getDay()===6&&i++;return i+1}function WM(t,e,n){return t-e-n}function ZM(t,e,n){return t+e+n}function $M(t,e,n,i){const a=t/i,r=a*n;return{remaining:r-e,weeklyLimit:a,cumulativeAllowed:r}}const tE=S.createContext(),JM=[{id:"demo-1",name:"Milk",isInStock:!1,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-2",name:"Eggs",isInStock:!0,isOnShoppingList:!1,activatedAt:Date.now()},{id:"demo-3",name:"Bread",isInStock:!1,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-4",name:"Coffee",isInStock:!0,isOnShoppingList:!0,activatedAt:Date.now()},{id:"demo-5",name:"Ice Cream",isInStock:!1,isOnShoppingList:!1}],eD={income:{target:5e3,actual:3100},needs:{target:2e3,actual:1950},future:{target:1e3,actual:1e3},wants:{target:2e3,actual:150}};function tD({children:t}){const[e,n]=S.useState(null),[i,s]=S.useState([]),[a,r]=S.useState(!0),[l,o]=S.useState(null),u=S.useRef(!1);S.useEffect(()=>{(async()=>{const[v,N]=await Promise.all([zl.getBudget(),zl.getItems()]),x=Array.isArray(N)?N:[];x.length===0&&(!v||v.income.target===0)?(n(eD),s(JM)):(n(v),s(x)),r(!1)})()},[]),S.useEffect(()=>{const p=Sm(v=>{o(v)});return()=>p==null?void 0:p()},[]),S.useEffect(()=>{!a&&!u.current&&zl.saveBudget(e),u.current=!1},[e,a]),S.useEffect(()=>{!a&&!u.current&&zl.saveItems(i),u.current=!1},[i,a]),S.useEffect(()=>{if(a||!l)return;let p;return V0(()=>Promise.resolve().then(()=>eE),[]).then(async({listenToFamilyBudget:v,listenToFamilyItems:N,stopListening:x})=>{const w=v(M=>{M&&(u.current=!0,n(M),localStorage.setItem("shopping_spree_budget",JSON.stringify(M)))}),R=N(M=>{if(!M)return;u.current=!0;const k=Array.isArray(M)?M:[];s(k),localStorage.setItem("shopping_spree_items",JSON.stringify(k))});p=()=>{w==null||w(),R==null||R(),x()}}).catch(v=>{console.error("Firebase listener error:",v)}),()=>{p==null||p()}},[a,l]);const f=(p,v,N)=>{p==="income"&&v==="actual"||p==="wants"&&v==="target"||n(x=>{const w={...x,[p]:{...x[p],[v]:Number(N)}},R=p==="needs"&&v==="actual"?Number(N):w.needs.actual,M=p==="future"&&v==="actual"?Number(N):w.future.actual,k=p==="wants"&&v==="actual"?Number(N):w.wants.actual;w.income.actual=ZM(R,M,k);const q=p==="income"&&v==="target"?Number(N):w.income.target,ye=p==="needs"&&v==="target"?Number(N):w.needs.target,yt=p==="future"&&v==="target"?Number(N):w.future.target;return w.wants.target=WM(q,ye,yt),l&&(ro(p,v,Number(N)).catch(console.error),(p==="needs"||p==="future"||p==="wants")&&ro("income","actual",w.income.actual).catch(console.error),(p==="income"||p==="needs"||p==="future")&&ro("wants","target",w.wants.target).catch(console.error)),w})},h=p=>{const v=p.trim();if(!v)return;const N=i.find(w=>w.name.toLowerCase()===v.toLowerCase());if(N)return N;const x={id:crypto.randomUUID(),name:v,isInStock:!1,isOnShoppingList:!1,activatedAt:Date.now()};return l&&qi(x).catch(console.error),s(w=>[...w,x]),x},c=(p,v)=>{s(N=>N.map(x=>{if(x.id!==p)return x;const w=typeof v=="boolean"?v:!x.isInStock,R={...x,isInStock:w,activatedAt:w?Date.now():x.activatedAt};return l&&qi(R).catch(console.error),R}))},d=(p,v)=>{s(N=>N.map(x=>{if(x.id!==p)return x;const w=typeof v=="boolean"?v:!x.isOnShoppingList,R={...x,isOnShoppingList:w,activatedAt:w?Date.now():x.activatedAt};return l&&qi(R).catch(console.error),R}))},_=p=>{s(v=>v.map(N=>{if(N.id!==p)return N;const x={...N,isOnShoppingList:!1};return l&&qi(x).catch(console.error),x}))},E=(p,v)=>{const N=v.trim();N&&s(x=>x.map(w=>{if(w.id!==p)return w;const R={...w,name:N};return l&&qi(R).catch(console.error),R}))},T=(p,v="both")=>{s(N=>N.map(x=>{if(x.id!==p)return x;const w={...x,isInStock:v==="shop"?x.isInStock:!1,isOnShoppingList:v==="stock"?x.isOnShoppingList:!1};return l&&qi(w).catch(console.error),w}))},m=S.useMemo(()=>{if(!e)return 0;const p=new Date,N=KM(p.getFullYear(),p.getMonth())||1,x=e.wants.target,w=e.wants.actual,R=XM(p);return{remaining:$M(x,w,R,N).remaining,currentWeek:R,totalWeeks:N}},[e]),g={budget:e,items:i,loading:a,currentUser:l,actions:{updateBudget:f,addItem:h,toggleStock:c,toggleShop:d,markBought:_,renameItem:E,hideItem:T},computed:{weeklyWantsRemaining:(m==null?void 0:m.remaining)||0,currentWeek:(m==null?void 0:m.currentWeek)||1,totalWeeks:(m==null?void 0:m.totalWeeks)||4}};return C.jsx(tE.Provider,{value:g,children:t})}const Fu=()=>S.useContext(tE);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),S_=t=>{const e=iD(t);return e.charAt(0).toUpperCase()+e.slice(1)},nE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),sD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:r,...l},o)=>S.createElement("svg",{ref:o,...aD,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:nE("lucide",s),...!a&&!sD(l)&&{"aria-hidden":"true"},...l},[...r.map(([u,f])=>S.createElement(u,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(t,e)=>{const n=S.forwardRef(({className:i,...s},a)=>S.createElement(rD,{ref:a,iconNode:e,className:nE(`lucide-${nD(S_(t))}`,`lucide-${t}`,i),...s}));return n.displayName=S_(t),n};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],oD=Ot("box",lD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cD=Ot("check",uD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hD=Ot("chevron-down",fD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mD=Ot("chevron-up",dD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gD=Ot("circle-x",pD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yD=Ot("clock",_D);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],bD=Ot("ghost",vD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],ED=Ot("log-in",SD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CD=Ot("log-out",TD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],AD=Ot("package-plus",wD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],RD=Ot("pencil",ND);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],E_=Ot("search",xD);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Tm=Ot("shopping-cart",OD);function MD({compact:t=!1}){const[e,n]=S.useState(null),[i,s]=S.useState(""),[a,r]=S.useState(""),[l,o]=S.useState("idle");S.useEffect(()=>{let E;return n(Em()),E=Sm(T=>{n(T),T?(s(`Syncing as ${T.email}`),r(""),o("approved")):o("idle")}),()=>E==null?void 0:E()},[]);const u=async()=>{r(""),s(""),o("idle");try{const E=await WS();n(E),s(`Syncing as ${E.email}`),o("approved")}catch(E){E.code==="auth/waiting-list"?(s("Waiting for admin approval"),o("pending")):r(E.message)}},f=async()=>{try{await ZS(),n(null),s("Signed out"),o("idle")}catch{r("Failed to sign out")}},h=l==="pending"&&!e,c=()=>e?t?"bg-white/20 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200":h?t?"bg-amber-500/80 text-white":"bg-amber-500 text-white hover:bg-amber-600":t?"bg-white/10 text-white/90":"bg-blue-500 text-white hover:bg-blue-600",d=()=>e?C.jsx(CD,{size:18}):h?C.jsx(yD,{size:18}):C.jsx(ED,{size:18}),_=()=>a?"text-red-600":h?"text-amber-600":"text-green-600";return C.jsxs("div",{className:`flex items-center gap-2 ${t?"text-white":"bg-white rounded-xl shadow-sm p-4 border border-brand-100"}`,children:[C.jsxs("button",{onClick:e?f:u,className:`flex items-center justify-center h-9 px-3 rounded-full transition ${c()}`,"aria-label":e?"Sign out of Google":"Sign in with Google",title:e?"Sign out of Google":"Sign in with Google",children:[d(),!t&&C.jsx("span",{className:"ml-2 text-sm font-medium",children:e?"Sign Out":h?"Pending":"Sign In"})]}),!t&&C.jsxs("div",{className:"flex-1 text-sm text-gray-700 min-w-0",children:[C.jsx("p",{className:"font-medium truncate",children:e?e.email:"Sign in to sync across devices"}),(i||a)&&C.jsx("p",{className:_(),children:a||i})]}),t&&(i||a)&&C.jsx("span",{className:"sr-only","aria-live":"polite",children:a||i})]})}const DD=17,ID="2025-12-13T02:16:56.788Z",kD={buildNumber:DD,builtAt:ID};function LD(){const{computed:t,actions:e,budget:n,loading:i,currentUser:s}=Fu(),[a,r]=S.useState(!1),[l,o]=S.useState(null),u=(s==null?void 0:s.uid)==="vy1PP3WXv3PFz6zyCEiEN0ILmDW2",f=S.useMemo(()=>l||kD,[l]),h=S.useMemo(()=>{if(!(f!=null&&f.builtAt))return null;try{return new Date(f.builtAt).toLocaleString()}catch{return f.builtAt}},[f==null?void 0:f.builtAt]);if(S.useEffect(()=>{let _;if(!s){o(null);return}return V0(async()=>{const{listenToBuildInfo:E}=await Promise.resolve().then(()=>eE);return{listenToBuildInfo:E}},void 0).then(({listenToBuildInfo:E})=>{_=E(T=>o(T))}).catch(E=>{console.error("Build info listener error:",E)}),()=>_==null?void 0:_()},[s]),i)return C.jsx("div",{className:"h-24 bg-brand-500 animate-pulse"});const c=t.weeklyWantsRemaining,d=c<0;return C.jsxs("header",{className:"bg-brand-500 text-white shadow-md z-10 transition-all duration-300 relative",children:[C.jsxs("div",{className:"px-4 pt-3 pb-2 grid grid-cols-[1fr_auto_1fr] items-center",children:[C.jsxs("div",{className:"flex flex-col gap-1",children:[u&&C.jsx("div",{className:"opacity-80 text-xs font-medium uppercase tracking-wider",children:"Weekly Wants"}),C.jsxs("div",{className:"bg-brand-600 px-2 py-0.5 rounded text-xs font-medium opacity-90 w-fit",children:["Week ",t.currentWeek," / ",t.totalWeeks]})]}),u?C.jsxs("button",{type:"button",onClick:()=>r(!a),className:"justify-self-center flex flex-col items-center justify-center gap-1 text-center cursor-pointer active:opacity-90 transition-opacity",children:[C.jsx("div",{className:`text-3xl font-bold tracking-tight transition-colors duration-300 ${d?"text-red-200":"text-white"}`,children:Math.floor(c)}),C.jsx("div",{className:"flex justify-center -mt-1 opacity-50",children:a?C.jsx(mD,{size:16}):C.jsx(hD,{size:16})})]}):C.jsx("div",{className:"justify-self-center text-center text-sm font-semibold opacity-50","aria-hidden":"true",children:""}),C.jsxs("div",{className:"flex justify-end items-start gap-3 text-right",children:[C.jsxs("div",{className:"text-[11px] leading-tight text-white/80",children:[C.jsxs("div",{className:"font-semibold",children:["Build #",(f==null?void 0:f.buildNumber)??""]}),C.jsx("div",{className:"uppercase tracking-wide text-[10px] opacity-75",children:l?"Database":"Local package"})]}),C.jsx(MD,{compact:!0})]})]}),u&&C.jsx("div",{className:`bg-brand-600 overflow-hidden transition-all duration-300 ease-in-out ${a?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:C.jsxs("div",{className:"p-4 space-y-4",children:[C.jsxs("div",{className:"flex items-start justify-between gap-4 text-xs uppercase tracking-wide text-brand-100",children:[C.jsxs("div",{className:"flex flex-col gap-1",children:[C.jsx("span",{className:"font-semibold",children:"Labs"}),C.jsx("span",{className:"text-[11px] opacity-80",children:"Code-tracked build metadata"})]}),C.jsxs("div",{className:"text-right",children:[C.jsxs("div",{className:"text-sm font-bold",children:["Build #",f.buildNumber??""]}),h&&C.jsxs("div",{className:"text-[11px] opacity-70",children:["Built ",h]})]})]}),["income","needs","future","wants"].map(_=>C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("span",{className:"capitalize font-medium opacity-90",children:_}),C.jsxs("div",{className:"flex gap-4 text-right",children:[C.jsxs("div",{children:[C.jsx("div",{className:"text-xs opacity-60",children:"Target"}),C.jsx("input",{type:"number",className:`w-20 bg-brand-700 text-white text-right rounded px-1 focus:ring-2 focus:ring-white outline-none ${_==="wants"?"opacity-50 cursor-not-allowed":""}`,value:n[_].target,onChange:E=>e.updateBudget(_,"target",E.target.value),onClick:E=>E.stopPropagation(),disabled:_==="wants"})]}),C.jsxs("div",{className:"border-l border-brand-500 pl-4",children:[C.jsx("div",{className:"text-xs opacity-60",children:"Actual"}),C.jsx("input",{type:"number",className:`w-20 bg-brand-700 text-white text-right rounded px-1 focus:ring-2 focus:ring-white outline-none ${_==="income"?"opacity-50 cursor-not-allowed":""}`,value:n[_].actual,onChange:E=>e.updateBudget(_,"actual",E.target.value),onClick:E=>E.stopPropagation(),disabled:_==="income"})]}),C.jsxs("div",{className:"border-l border-brand-500 pl-4",children:[C.jsx("div",{className:"text-xs opacity-60",children:"Remaining"}),C.jsx("div",{className:`w-20 text-right font-medium ${n[_].target-n[_].actual<0?"text-red-300":"text-white"}`,children:n[_].target-n[_].actual})]})]})]},_))]})})]})}function UD({children:t}){const e=Di(),n=k0(),i=S.useRef(null),s=S.useRef(null),[a,r]=S.useState(null),l=T=>e.pathname===T,o=(T,m)=>{r(m),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{r(null)},200),n(T)},u=(T,m)=>{i.current={...T,source:m}},f=(T,m)=>{if(!i.current||i.current.source!==m)return;const g=T.x-i.current.x,p=T.y-i.current.y;Math.abs(g)>60&&Math.abs(g)>Math.abs(p)&&(g<0&&!l("/stock")?o("/stock","left"):g>0&&!l("/")&&o("/","right")),i.current=null},h=T=>{var m;T.pointerType!=="touch"||((m=i.current)==null?void 0:m.source)==="touch"||u({x:T.clientX,y:T.clientY},"pointer")},c=T=>{T.pointerType==="touch"&&f({x:T.clientX,y:T.clientY},"pointer")},d=T=>{var m;(m=T.touches)!=null&&m.length&&u({x:T.touches[0].clientX,y:T.touches[0].clientY},"touch")},_=T=>{var m;(m=T.changedTouches)!=null&&m.length&&f({x:T.changedTouches[0].clientX,y:T.changedTouches[0].clientY},"touch")};S.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]);const E=a==="left"?"swipe-slide-left":a==="right"?"swipe-slide-right":"";return C.jsxs("div",{className:"flex flex-col h-screen bg-brand-50 text-gray-800 font-sans overflow-hidden",children:[C.jsx(LD,{}),C.jsxs("main",{className:`flex-1 overflow-y-auto pb-24 relative p-4 space-y-4 ${E}`,onPointerDown:h,onPointerUp:c,onTouchStart:d,onTouchEnd:_,style:{touchAction:"pan-y"},"aria-label":"Swipe left or right on empty space to switch between tabs",children:[C.jsx("p",{className:"sr-only",children:"Swipe left or right on empty space to switch between Shop and Stock. Swipe item cards to reveal hide or buy actions."}),t]}),C.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-brand-100 shadow-lg pb-safe",children:C.jsxs("div",{className:"flex justify-around items-center h-16",children:[C.jsxs(Bo,{to:"/",className:`flex flex-col items-center justify-center w-full h-full transition-colors ${l("/")?"text-brand-600":"text-gray-400"}`,children:[C.jsx(Tm,{size:24}),C.jsx("span",{className:"text-xs font-medium mt-1",children:"Shop"})]}),C.jsxs(Bo,{to:"/stock",className:`flex flex-col items-center justify-center w-full h-full transition-colors ${l("/stock")?"text-brand-600":"text-gray-400"}`,children:[C.jsx(oD,{size:24}),C.jsx("span",{className:"text-xs font-medium mt-1",children:"Stock"})]})]})})]})}var Cm={};(function t(e,n,i,s){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),r=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;try{var b=new OffscreenCanvas(1,1),y=b.getContext("2d");y.fillRect(0,0,1,1);var L=b.transferToImageBitmap();y.createPattern(L,"no-repeat")}catch{return!1}return!0}();function o(){}function u(b){var y=n.exports.Promise,L=y!==void 0?y:e.Promise;return typeof L=="function"?new L(b):(b(o,o),null)}var f=function(b,y){return{transform:function(L){if(b)return L;if(y.has(L))return y.get(L);var U=new OffscreenCanvas(L.width,L.height),H=U.getContext("2d");return H.drawImage(L,0,0),y.set(L,U),U},clear:function(){y.clear()}}}(l,new Map),h=function(){var b=Math.floor(16.666666666666668),y,L,U={},H=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(y=function(G){var J=Math.random();return U[J]=requestAnimationFrame(function j(ee){H===ee||H+b-1<ee?(H=ee,delete U[J],G()):U[J]=requestAnimationFrame(j)}),J},L=function(G){U[G]&&cancelAnimationFrame(U[G])}):(y=function(G){return setTimeout(G,b)},L=function(G){return clearTimeout(G)}),{frame:y,cancel:L}}(),c=function(){var b,y,L={};function U(H){function G(J,j){H.postMessage({options:J||{},callback:j})}H.init=function(j){var ee=j.transferControlToOffscreen();H.postMessage({canvas:ee},[ee])},H.fire=function(j,ee,me){if(y)return G(j,null),y;var Ae=Math.random().toString(36).slice(2);return y=u(function(ve){function Ne(Qe){Qe.data.callback===Ae&&(delete L[Ae],H.removeEventListener("message",Ne),y=null,f.clear(),me(),ve())}H.addEventListener("message",Ne),G(j,Ae),L[Ae]=Ne.bind(null,{data:{callback:Ae}})}),y},H.reset=function(){H.postMessage({reset:!0});for(var j in L)L[j](),delete L[j]}}return function(){if(b)return b;if(!i&&a){var H=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{b=new Worker(URL.createObjectURL(new Blob([H])))}catch(G){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",G),null}U(b)}return b}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(b,y){return y?y(b):b}function E(b){return b!=null}function T(b,y,L){return _(b&&E(b[y])?b[y]:d[y],L)}function m(b){return b<0?0:Math.floor(b)}function g(b,y){return Math.floor(Math.random()*(y-b))+b}function p(b){return parseInt(b,16)}function v(b){return b.map(N)}function N(b){var y=String(b).replace(/[^0-9a-f]/gi,"");return y.length<6&&(y=y[0]+y[0]+y[1]+y[1]+y[2]+y[2]),{r:p(y.substring(0,2)),g:p(y.substring(2,4)),b:p(y.substring(4,6))}}function x(b){var y=T(b,"origin",Object);return y.x=T(y,"x",Number),y.y=T(y,"y",Number),y}function w(b){b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight}function R(b){var y=b.getBoundingClientRect();b.width=y.width,b.height=y.height}function M(b){var y=document.createElement("canvas");return y.style.position="fixed",y.style.top="0px",y.style.left="0px",y.style.pointerEvents="none",y.style.zIndex=b,y}function k(b,y,L,U,H,G,J,j,ee){b.save(),b.translate(y,L),b.rotate(G),b.scale(U,H),b.arc(0,0,1,J,j,ee),b.restore()}function q(b){var y=b.angle*(Math.PI/180),L=b.spread*(Math.PI/180);return{x:b.x,y:b.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:b.startVelocity*.5+Math.random()*b.startVelocity,angle2D:-y+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:b.color,shape:b.shape,tick:0,totalTicks:b.ticks,decay:b.decay,drift:b.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:b.gravity*3,ovalScalar:.6,scalar:b.scalar,flat:b.flat}}function ye(b,y){y.x+=Math.cos(y.angle2D)*y.velocity+y.drift,y.y+=Math.sin(y.angle2D)*y.velocity+y.gravity,y.velocity*=y.decay,y.flat?(y.wobble=0,y.wobbleX=y.x+10*y.scalar,y.wobbleY=y.y+10*y.scalar,y.tiltSin=0,y.tiltCos=0,y.random=1):(y.wobble+=y.wobbleSpeed,y.wobbleX=y.x+10*y.scalar*Math.cos(y.wobble),y.wobbleY=y.y+10*y.scalar*Math.sin(y.wobble),y.tiltAngle+=.1,y.tiltSin=Math.sin(y.tiltAngle),y.tiltCos=Math.cos(y.tiltAngle),y.random=Math.random()+2);var L=y.tick++/y.totalTicks,U=y.x+y.random*y.tiltCos,H=y.y+y.random*y.tiltSin,G=y.wobbleX+y.random*y.tiltCos,J=y.wobbleY+y.random*y.tiltSin;if(b.fillStyle="rgba("+y.color.r+", "+y.color.g+", "+y.color.b+", "+(1-L)+")",b.beginPath(),r&&y.shape.type==="path"&&typeof y.shape.path=="string"&&Array.isArray(y.shape.matrix))b.fill(Q(y.shape.path,y.shape.matrix,y.x,y.y,Math.abs(G-U)*.1,Math.abs(J-H)*.1,Math.PI/10*y.wobble));else if(y.shape.type==="bitmap"){var j=Math.PI/10*y.wobble,ee=Math.abs(G-U)*.1,me=Math.abs(J-H)*.1,Ae=y.shape.bitmap.width*y.scalar,ve=y.shape.bitmap.height*y.scalar,Ne=new DOMMatrix([Math.cos(j)*ee,Math.sin(j)*ee,-Math.sin(j)*me,Math.cos(j)*me,y.x,y.y]);Ne.multiplySelf(new DOMMatrix(y.shape.matrix));var Qe=b.createPattern(f.transform(y.shape.bitmap),"no-repeat");Qe.setTransform(Ne),b.globalAlpha=1-L,b.fillStyle=Qe,b.fillRect(y.x-Ae/2,y.y-ve/2,Ae,ve),b.globalAlpha=1}else if(y.shape==="circle")b.ellipse?b.ellipse(y.x,y.y,Math.abs(G-U)*y.ovalScalar,Math.abs(J-H)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI):k(b,y.x,y.y,Math.abs(G-U)*y.ovalScalar,Math.abs(J-H)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI);else if(y.shape==="star")for(var ie=Math.PI/2*3,lt=4*y.scalar,Gt=8*y.scalar,Ft=y.x,pn=y.y,ki=5,sn=Math.PI/ki;ki--;)Ft=y.x+Math.cos(ie)*Gt,pn=y.y+Math.sin(ie)*Gt,b.lineTo(Ft,pn),ie+=sn,Ft=y.x+Math.cos(ie)*lt,pn=y.y+Math.sin(ie)*lt,b.lineTo(Ft,pn),ie+=sn;else b.moveTo(Math.floor(y.x),Math.floor(y.y)),b.lineTo(Math.floor(y.wobbleX),Math.floor(H)),b.lineTo(Math.floor(G),Math.floor(J)),b.lineTo(Math.floor(U),Math.floor(y.wobbleY));return b.closePath(),b.fill(),y.tick<y.totalTicks}function yt(b,y,L,U,H){var G=y.slice(),J=b.getContext("2d"),j,ee,me=u(function(Ae){function ve(){j=ee=null,J.clearRect(0,0,U.width,U.height),f.clear(),H(),Ae()}function Ne(){i&&!(U.width===s.width&&U.height===s.height)&&(U.width=b.width=s.width,U.height=b.height=s.height),!U.width&&!U.height&&(L(b),U.width=b.width,U.height=b.height),J.clearRect(0,0,U.width,U.height),G=G.filter(function(Qe){return ye(J,Qe)}),G.length?j=h.frame(Ne):ve()}j=h.frame(Ne),ee=ve});return{addFettis:function(Ae){return G=G.concat(Ae),me},canvas:b,promise:me,reset:function(){j&&h.cancel(j),ee&&ee()}}}function nn(b,y){var L=!b,U=!!T(y||{},"resize"),H=!1,G=T(y,"disableForReducedMotion",Boolean),J=a&&!!T(y||{},"useWorker"),j=J?c():null,ee=L?w:R,me=b&&j?!!b.__confetti_initialized:!1,Ae=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ve;function Ne(ie,lt,Gt){for(var Ft=T(ie,"particleCount",m),pn=T(ie,"angle",Number),ki=T(ie,"spread",Number),sn=T(ie,"startVelocity",Number),lE=T(ie,"decay",Number),oE=T(ie,"gravity",Number),uE=T(ie,"drift",Number),Am=T(ie,"colors",v),cE=T(ie,"ticks",Number),Nm=T(ie,"shapes"),fE=T(ie,"scalar"),hE=!!T(ie,"flat"),Rm=x(ie),xm=Ft,Yu=[],dE=b.width*Rm.x,mE=b.height*Rm.y;xm--;)Yu.push(q({x:dE,y:mE,angle:pn,spread:ki,startVelocity:sn,color:Am[xm%Am.length],shape:Nm[g(0,Nm.length)],ticks:cE,decay:lE,gravity:oE,drift:uE,scalar:fE,flat:hE}));return ve?ve.addFettis(Yu):(ve=yt(b,Yu,ee,lt,Gt),ve.promise)}function Qe(ie){var lt=G||T(ie,"disableForReducedMotion",Boolean),Gt=T(ie,"zIndex",Number);if(lt&&Ae)return u(function(sn){sn()});L&&ve?b=ve.canvas:L&&!b&&(b=M(Gt),document.body.appendChild(b)),U&&!me&&ee(b);var Ft={width:b.width,height:b.height};j&&!me&&j.init(b),me=!0,j&&(b.__confetti_initialized=!0);function pn(){if(j){var sn={getBoundingClientRect:function(){if(!L)return b.getBoundingClientRect()}};ee(sn),j.postMessage({resize:{width:sn.width,height:sn.height}});return}Ft.width=Ft.height=null}function ki(){ve=null,U&&(H=!1,e.removeEventListener("resize",pn)),L&&b&&(document.body.contains(b)&&document.body.removeChild(b),b=null,me=!1)}return U&&!H&&(H=!0,e.addEventListener("resize",pn,!1)),j?j.fire(ie,Ft,ki):Ne(ie,Ft,ki)}return Qe.reset=function(){j&&j.reset(),ve&&ve.reset()},Qe}var qt;function I(){return qt||(qt=nn(null,{useWorker:!0,resize:!0})),qt}function Q(b,y,L,U,H,G,J){var j=new Path2D(b),ee=new Path2D;ee.addPath(j,new DOMMatrix(y));var me=new Path2D;return me.addPath(ee,new DOMMatrix([Math.cos(J)*H,Math.sin(J)*H,-Math.sin(J)*G,Math.cos(J)*G,L,U])),me}function V(b){if(!r)throw new Error("path confetti are not supported in this browser");var y,L;typeof b=="string"?y=b:(y=b.path,L=b.matrix);var U=new Path2D(y),H=document.createElement("canvas"),G=H.getContext("2d");if(!L){for(var J=1e3,j=J,ee=J,me=0,Ae=0,ve,Ne,Qe=0;Qe<J;Qe+=2)for(var ie=0;ie<J;ie+=2)G.isPointInPath(U,Qe,ie,"nonzero")&&(j=Math.min(j,Qe),ee=Math.min(ee,ie),me=Math.max(me,Qe),Ae=Math.max(Ae,ie));ve=me-j,Ne=Ae-ee;var lt=10,Gt=Math.min(lt/ve,lt/Ne);L=[Gt,0,0,Gt,-Math.round(ve/2+j)*Gt,-Math.round(Ne/2+ee)*Gt]}return{type:"path",path:y,matrix:L}}function D(b){var y,L=1,U="#000000",H='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof b=="string"?y=b:(y=b.text,L="scalar"in b?b.scalar:L,H="fontFamily"in b?b.fontFamily:H,U="color"in b?b.color:U);var G=10*L,J=""+G+"px "+H,j=new OffscreenCanvas(G,G),ee=j.getContext("2d");ee.font=J;var me=ee.measureText(y),Ae=Math.ceil(me.actualBoundingBoxRight+me.actualBoundingBoxLeft),ve=Math.ceil(me.actualBoundingBoxAscent+me.actualBoundingBoxDescent),Ne=2,Qe=me.actualBoundingBoxLeft+Ne,ie=me.actualBoundingBoxAscent+Ne;Ae+=Ne+Ne,ve+=Ne+Ne,j=new OffscreenCanvas(Ae,ve),ee=j.getContext("2d"),ee.font=J,ee.fillStyle=U,ee.fillText(y,Qe,ie);var lt=1/L;return{type:"bitmap",bitmap:j.transferToImageBitmap(),matrix:[lt,0,0,lt,-Ae*lt/2,-ve*lt/2]}}n.exports=function(){return I().apply(this,arguments)},n.exports.reset=function(){I().reset()},n.exports.create=nn,n.exports.shapeFromPath=V,n.exports.shapeFromText=D})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Cm,!1);const zD=Cm.exports;Cm.exports.create;function iE({item:t,mode:e}){const{actions:n}=Fu(),[i,s]=S.useState(!1),[a,r]=S.useState(t.name),l=S.useRef(null),o=S.useRef({x:0,y:0}),u=S.useRef(null),[f,h]=S.useState(0),[c,d]=S.useState(!1);S.useEffect(()=>{i&&l.current&&(l.current.focus(),l.current.select())},[i]);const _=D=>{const b={x:((D==null?void 0:D.x)??window.innerWidth/2)/window.innerWidth,y:((D==null?void 0:D.y)??window.innerHeight/2)/window.innerHeight};zD({origin:b,particleCount:50,spread:60,colors:["#f43f5e","#fb7185","#ffe4e6"]})},E=(D,b)=>{if(D!=null&&D.target){const y=D.target.getBoundingClientRect();_({x:y.left+y.width/2,y:y.top+y.height/2})}else _(b||o.current);n.markBought(t.id)},T=()=>{n.toggleShop(t.id)},m=()=>{r(t.name),s(!0)},g=()=>{a.trim()?n.renameItem(t.id,a):r(t.name),s(!1)},p=()=>{r(t.name),s(!1)},v=D=>{D.key==="Enter"?g():D.key==="Escape"&&p()},N=D=>Math.abs(D)<10?null:D<0?"hide":null,x=()=>{h(0),d(!1),u.current=null},w=(D,b)=>{u.current={...D,source:b},o.current=D,d(!0)},R=(D,b)=>{if(!c||!u.current||u.current.source!==b)return;o.current=D;const y=D.x-u.current.x;h(Math.min(y,0))},M=D=>{var y;if(!c||((y=u.current)==null?void 0:y.source)!==D)return;(Math.abs(f)>80?N(f):null)==="hide"&&n.hideItem(t.id,e),x()},k=D=>{var b;D.pointerType==="mouse"&&D.button!==0||((b=u.current)==null?void 0:b.source)!=="touch"&&(D.stopPropagation(),w({x:D.clientX,y:D.clientY},"pointer"))},q=D=>{R({x:D.clientX,y:D.clientY},"pointer")},ye=D=>{D.stopPropagation(),M("pointer")},yt=D=>{var b;(b=D.touches)!=null&&b.length&&(D.stopPropagation(),w({x:D.touches[0].clientX,y:D.touches[0].clientY},"touch"))},nn=D=>{var b;(b=D.touches)!=null&&b.length&&R({x:D.touches[0].clientX,y:D.touches[0].clientY},"touch")},qt=D=>{var b;(b=D.changedTouches)!=null&&b.length&&(D.stopPropagation(),o.current={x:D.changedTouches[0].clientX,y:D.changedTouches[0].clientY},M("touch"))},I=N(f);return C.jsxs("div",{className:"relative",onPointerDown:k,onPointerMove:q,onPointerUp:ye,onPointerCancel:ye,onTouchStart:yt,onTouchMove:nn,onTouchEnd:qt,children:[C.jsx("div",{className:`absolute inset-0 rounded-xl px-4 flex items-center justify-end select-none transition-colors duration-150 ${I==="hide"?"bg-red-50":"bg-gray-50"}`,style:{touchAction:"pan-y"},children:C.jsx("span",{className:`text-xs sm:text-sm font-semibold whitespace-nowrap text-red-500 text-right transition-opacity ${f<-10?"opacity-100":"opacity-40"}`,children:"Swipe left to hide"})}),C.jsxs("div",{"data-item-id":t.id,className:`bg-white rounded-xl shadow-sm p-4 flex items-center justify-between group animate-pop transition-transform duration-150 ${c?"cursor-grabbing":"cursor-pointer"}`,style:{transform:`translateX(${f}px)`,touchAction:"pan-y"},children:[C.jsx("div",{className:"flex-1 flex items-center gap-2",children:i?C.jsx("input",{ref:l,type:"text",value:a,onChange:D=>r(D.target.value),onBlur:g,onKeyDown:v,className:"flex-1 font-medium text-lg text-gray-800 border-b-2 border-brand-500 outline-none bg-transparent"}):C.jsxs(C.Fragment,{children:[C.jsx("h3",{className:"font-medium text-lg text-gray-800",children:t.name}),C.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-opacity",title:"Rename",children:C.jsx(RD,{size:16,className:"text-gray-400"})})]})}),C.jsxs("div",{className:"flex items-center gap-2",children:[e==="shop"&&C.jsx("button",{onClick:E,className:"w-10 h-10 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center hover:bg-brand-500 hover:text-white transition-colors active:scale-90",title:"Mark Bought",children:C.jsx(cD,{size:20})}),e==="stock"&&C.jsx("button",{onClick:T,className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors active:scale-90 ${t.isOnShoppingList?"bg-brand-500 text-white hover:bg-brand-600":"bg-gray-100 text-gray-600 hover:bg-brand-500 hover:text-white"}`,title:t.isOnShoppingList?"Remove from Shopping List":"Add to Shopping List",children:C.jsx(Tm,{size:20})})]})]})]})}function Zs(t){return t.trim().toLowerCase()}function BD(t,e){const n=Zs(e);if(!n)return null;const i=t.filter(a=>{var r;return(r=a.name)==null?void 0:r.toLowerCase().includes(n)});return i.length===0?null:[...i].sort((a,r)=>{const l=a.name.toLowerCase().startsWith(n),o=r.name.toLowerCase().startsWith(n);if(l!==o)return l?-1:1;const u=a.name.length-r.name.length;return u!==0?u:a.name.localeCompare(r.name,void 0,{sensitivity:"base"})})[0]}const wm=(t,e)=>{const n=(e.activatedAt??0)-(t.activatedAt??0);return n!==0?n:t.name.localeCompare(e.name,void 0,{sensitivity:"base"})};function HD({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,inputRef:r}){const[l,o]=S.useState(""),[u,f]=S.useState(""),[h,c]=S.useState(null),[d,_]=S.useState(!1),E=S.useRef(!1),T=S.useRef(!1),m=S.useRef(!1);S.useEffect(()=>{a==null||a(u.trim())},[u,a]),S.useEffect(()=>{h&&(r!=null&&r.current)&&(r.current.setSelectionRange(h.start,h.end),c(null))},[h,l,r]);const g=()=>{o(""),f(""),_(!1)},p=(R,M=d)=>{if(T.current=!1,!R){o(""),c({start:0,end:0});return}if(M){o(R),c({start:R.length,end:R.length});return}const k=BD(t,R);if(k){const q=k.name,ye=q.toLowerCase(),yt=Zs(R);if(ye.startsWith(yt)&&q.length>R.length){T.current=!0,o(q),c({start:R.length,end:q.length});return}}o(R),c({start:R.length,end:R.length})},v=R=>{var b;const M=R.target.value,k=R.target.selectionStart??M.length;R.target.selectionEnd;const q=M.slice(0,k),ye=R.inputType||((b=R.nativeEvent)==null?void 0:b.inputType),yt=ye==="deleteContentBackward"||E.current,nn=(ye==null?void 0:ye.startsWith("insert"))??!yt,qt=T.current,I=E.current;nn&&(qt||I)&&(m.current=!0,T.current=!1),E.current=!1;const V=yt?!0:nn||M===""?!1:d,D=m.current&&nn;D&&(m.current=!1),_(V),f(q),p(q,D?!0:V)},N=R=>{if(!(r!=null&&r.current))return!1;const{selectionStart:M,selectionEnd:k}=r.current;if(M!==k){R.preventDefault();const q=l.slice(0,M)+l.slice(k);return m.current=!0,_(!0),f(q),o(q),c({start:q.length,end:q.length}),!0}if(l.length>u.length){R.preventDefault();const q=l.slice(0,M);return m.current=!0,_(!0),f(q),o(q),c({start:q.length,end:q.length}),!0}return!1},x=()=>{const R=l.trim();if(!R)return{status:"noop"};const M=t.find(q=>Zs(q.name)===Zs(R));if(M)return e(M)?(s==null||s(M),g(),{status:"existing",item:M}):(n(M),g(),{status:"reactivated",item:M});const k=i(R);return k?(n(k),g(),{status:"created",item:k}):(g(),{status:"noop"})};return{value:l,handleChange:v,handleKeyDown:R=>{if(R.key==="Backspace"&&(E.current=!0,N(R))){E.current=!1;return}R.key==="Enter"&&(R.preventDefault(),x())},handleSubmit:x,clearInput:g}}function sE({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,placeholder:r="Search or add item...",actionIcon:l,actionLabel:o}){const u=S.useRef(null),{value:f,handleChange:h,handleKeyDown:c,handleSubmit:d,clearInput:_}=HD({items:t,isActive:e,activateItem:n,createItem:i,onExistingActive:s,onQueryChange:a,inputRef:u});return C.jsx("form",{onSubmit:E=>{E.preventDefault(),d()},className:"sticky top-0 bg-brand-50 pt-2 pb-4 z-10",children:C.jsxs("div",{className:"relative",children:[C.jsx(E_,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),C.jsx("input",{ref:u,type:"text",placeholder:r,className:"w-full bg-white rounded-xl py-3 pl-10 pr-28 shadow-sm focus:ring-2 focus:ring-brand-500 outline-none",value:f,onChange:h,onKeyDown:c,"aria-label":r}),f.trim()&&C.jsx("button",{type:"button",onClick:()=>{var E;_(),(E=u.current)==null||E.focus()},className:"absolute right-12 top-1/2 -translate-y-1/2 inline-flex h-9 w-9 items-center justify-center rounded-full text-gray-500 transition-colors hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 focus:ring-offset-white","aria-label":"Clear filter",children:C.jsx(gD,{size:18,"aria-hidden":!0})}),C.jsxs("button",{type:"submit",disabled:!f.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-brand-500 text-white p-1.5 rounded-lg disabled:opacity-50",children:[l?C.jsx(l,{size:20,"aria-hidden":!0}):C.jsx(E_,{size:20,"aria-hidden":!0}),C.jsx("span",{className:"sr-only",children:o||"Submit item"})]})]})})}function aE({items:t,isActive:e}){const[n,i]=S.useState(""),s=Zs(n),a=s.length>0,r=S.useMemo(()=>a?t.filter(c=>Zs(c.name).includes(s)):[],[a,t,s]),l=S.useMemo(()=>[...r].sort((c,d)=>{const _=Number(e(c))-Number(e(d));return _!==0?_:wm(c,d)}),[r,e]),o=S.useMemo(()=>l.filter(c=>!e(c)),[l,e]),u=S.useMemo(()=>o.filter(c=>!c.isInStock&&!c.isOnShoppingList),[o]),f=S.useMemo(()=>o.filter(c=>c.isInStock||c.isOnShoppingList),[o]),h=S.useMemo(()=>l.filter(e),[l,e]);return{query:n,setQuery:i,normalizedQuery:s,hasQuery:a,sortedMatches:l,visibleAddableMatches:f,hiddenMatches:u,activeMatches:h}}function rE(t){const e=document.querySelector(`[data-item-id="${t}"]`);e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.classList.add("omni-highlighted"),window.setTimeout(()=>{e.classList.remove("omni-highlighted")},1e3))}function jD(){const{items:t,actions:e}=Fu(),n=S.useCallback(_=>_.isOnShoppingList,[]),{query:i,setQuery:s,hasQuery:a,sortedMatches:r,visibleAddableMatches:l,hiddenMatches:o,activeMatches:u}=aE({items:t,isActive:n}),f=S.useMemo(()=>t.filter(n).sort(wm),[t,n]),h=_=>{e.toggleShop(_.id,!0)},c=_=>e.addItem(_),d=_=>{rE(_.id)};return C.jsxs("div",{className:"space-y-4",children:[C.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Shopping List"}),C.jsx(sE,{items:t,isActive:n,activateItem:h,createItem:c,onExistingActive:d,onQueryChange:s,placeholder:"Search or Add item...",actionIcon:Tm,actionLabel:"Add to shopping list"}),f.length===0&&!a?C.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50 text-center",children:[C.jsx(bD,{size:48,className:"mb-4 text-brand-300"}),C.jsx("p",{children:"Your list is empty!"}),C.jsx("p",{className:"text-sm",children:"Check Stock to add items."})]}):a?C.jsx("div",{className:"space-y-2",children:r.length===0?C.jsxs("p",{className:"text-sm text-gray-500",children:['No matches found. Press Enter to add "',i.trim(),'".']}):C.jsxs("div",{className:"space-y-3",children:[l.length>0&&C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Available to add"}),l.map(_=>C.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[C.jsxs("div",{className:"flex flex-col gap-0.5",children:[C.jsx("span",{className:"font-medium text-gray-800",children:_.name}),C.jsxs("div",{className:"flex gap-2 text-xs text-gray-500",children:[C.jsx("span",{children:"Not in current list"}),!_.isInStock&&C.jsx("span",{"aria-hidden":!0,children:""}),!_.isInStock&&C.jsx("span",{children:"Not in stock"})]})]}),C.jsx("button",{onClick:()=>e.toggleShop(_.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to list"})]},_.id))]}),o.length>0&&C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Hidden items"}),o.map(_=>C.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[C.jsxs("div",{className:"flex flex-col gap-0.5",children:[C.jsx("span",{className:"font-medium text-gray-800",children:_.name}),C.jsxs("div",{className:"flex gap-2 text-xs text-gray-500",children:[C.jsx("span",{children:"Previously hidden"}),C.jsx("span",{"aria-hidden":!0,children:""}),C.jsx("span",{children:"Not in stock"})]})]}),C.jsx("button",{onClick:()=>e.toggleShop(_.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to list"})]},_.id))]}),u.length>0&&C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Already on your list"}),u.map(_=>C.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[C.jsx("span",{className:"font-medium text-gray-800",children:_.name}),C.jsx("button",{disabled:!0,className:"px-3 py-2 rounded-lg text-sm font-semibold bg-gray-100 text-gray-500 cursor-not-allowed",children:"On list"})]},_.id))]})]})}):f.map(_=>C.jsx(iE,{item:_,mode:"shop"},_.id))]})}function PD(){const{items:t,actions:e}=Fu(),n=S.useCallback(_=>_.isInStock,[]),{query:i,setQuery:s,hasQuery:a,sortedMatches:r,visibleAddableMatches:l,hiddenMatches:o,activeMatches:u}=aE({items:t,isActive:n}),f=S.useMemo(()=>t.filter(n).sort(wm),[t,n]),h=_=>{e.toggleStock(_.id,!0)},c=_=>e.addItem(_),d=_=>{rE(_.id)};return C.jsxs("div",{className:"space-y-4",children:[C.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Inventory"}),C.jsx(sE,{items:t,isActive:n,activateItem:h,createItem:c,onExistingActive:d,onQueryChange:s,placeholder:"Search or Add item...",actionIcon:AD,actionLabel:"Add to inventory"}),!a&&f.length===0&&C.jsx("div",{className:"text-center py-10 opacity-50",children:C.jsx("p",{children:"Your pantry is empty."})}),a?C.jsx("div",{className:"space-y-2",children:r.length===0?C.jsxs("p",{className:"text-sm text-gray-500",children:['No matches found. Press Enter to add "',i.trim(),'".']}):C.jsxs("div",{className:"space-y-3",children:[l.length>0&&C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Available to add"}),l.map(_=>C.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[C.jsx("span",{className:"font-medium text-gray-800",children:_.name}),C.jsx("button",{onClick:()=>e.toggleStock(_.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to inventory"})]},_.id))]}),o.length>0&&C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Hidden items"}),o.map(_=>C.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[C.jsx("span",{className:"font-medium text-gray-800",children:_.name}),C.jsx("button",{onClick:()=>e.toggleStock(_.id,!0),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors bg-brand-500 text-white hover:bg-brand-600",children:"Add to inventory"})]},_.id))]}),u.length>0&&C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Already in inventory"}),u.map(_=>C.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center justify-between",children:[C.jsx("span",{className:"font-medium text-gray-800",children:_.name}),C.jsx("button",{disabled:!0,className:"px-3 py-2 rounded-lg text-sm font-semibold bg-gray-100 text-gray-500 cursor-not-allowed",children:"In inventory"})]},_.id))]})]})}):C.jsx("div",{className:"space-y-3",children:f.map(_=>C.jsx(iE,{item:_,mode:"stock"},_.id))})]})}function VD(){return C.jsx(tD,{children:C.jsx(Aw,{children:C.jsx(UD,{children:C.jsxs(iw,{children:[C.jsx(Gf,{path:"/",element:C.jsx(jD,{})}),C.jsx(Gf,{path:"/stock",element:C.jsx(PD,{})})]})})})})}function qD(){if("serviceWorker"in navigator){const t="/shopping-spree/service-worker.js";window.addEventListener("load",()=>{navigator.serviceWorker.register(t).catch(e=>{console.error("Service worker registration failed:",e)})})}}fC.createRoot(document.getElementById("root")).render(C.jsx(S.StrictMode,{children:C.jsx(VD,{})}));qD();
